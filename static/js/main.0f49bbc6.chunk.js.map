{"version":3,"sources":["icons/Activities.js","icons/EndCall.js","icons/PencilIcon.js","icons/TextIcon.js","icons/Pin.js","icons/UndoIcon.js","icons/Chat.js","icons/PointerIcon.js","icons/CheckboxIcon.js","icons/KickoutUserIcon.js","icons/CircleFilledIcon.js","icons/LeaveMeetingIcon.js","icons/RaiseHand.js","icons/CircleIcon.js","icons/MicOff.js","icons/SaveImageIcon.js","icons/ClearWhiteboardIcon.js","icons/ScreenRecording.js","icons/ZoomInIcon.js","icons/CopyIcon.js","icons/ScreenShare.js","icons/ZoomOutIcon.js","icons/PanAroundIcon.js","icons/ShapeIcon.js","icons/EndCallIcon.js","icons/Participants.js","icons/SquareIcon.js","CONSTS.js","utils/common.js","utils/useIsMobile.js","utils/useIsTab.js","MeetingAppContextDef.js","utils/useResponsiveSize.js","utils/useIsLGDesktop.js","icons/NetworkIcon.js","meetingContainer/mainViewContainer/ParticipantViewer.js","meetingContainer/mainViewContainer/PresenterView.js","utils/useIsSMDesktop.js","utils/usePrevious.js","icons/UploadImageIcon.js","components/whiteboard/WBToolbar.js","components/whiteboard/WhiteboardContainer.js","meetingContainer/mainViewContainer/MainViewContainer.js","meetingContainer/sideViewContainer/ChatTabPanel.js","utils/useWindowSize.js","components/ConfirmBox.js","icons/AddCohostIcon.js","components/ToggleModeContainer.js","icons/ParticipantScreenShareIcon.js","meetingContainer/sideViewContainer/ParticipantsTabPanel.js","icons/PollIcon.js","components/pollContainer/CreatePoll.js","components/pollContainer/PollList.js","icons/AnswerSubmittedIcon.js","icons/CorrectSelectedIcon.js","icons/NoPollActiveIcon.js","icons/WrongOptionSelectedIcon.js","components/pollContainer/SubmitPollList.js","meetingContainer/sideViewContainer/ActivitiesTabPanel.js","meetingContainer/useIsLivestreaming.js","meetingContainer/sideViewContainer/LivestreamConfigTabPanel.js","icons/SpotlightIcon.js","icons/SideBarIcon.js","icons/GridIcon.js","icons/SpeakerIcon.js","icons/PinParticipantIcon.js","meetingContainer/sideViewContainer/ConfigTabPanel.js","meetingContainer/sideViewContainer/SideViewContainer.js","components/OutlineIconButton.js","icons/LiveIcon.js","components/OutlineIconTextButton.js","components/MobileIconButton.js","icons/AddLiveStreamIcon.js","meetingContainer/useIsRecording.js","meetingContainer/useIsHls.js","meetingContainer/TopBar.js","meetingContainer/useSortActiveParticipants.js","meetingContainer/useRaisedHandParticipants.js","components/MediaRequested.js","components/RequestedEntries.js","components/ClickAnywhereToContinue.js","meetingContainer/pinnedLayoutViewContainer/PinnedLayoutViewContainer.js","meetingContainer/mainViewContainer/ParticipantsAudioPlayer.js","meetingContainer/useWhiteBoard.js","components/WaitingToJoin.js","meetingContainer/hlsViewContainer/PlayerViewer.js","meetingContainer/hlsViewContainer/HLSContainer.js","components/ModeListner.js","meetingContainer/mainViewContainer/PauseInvisibleParticipants.js","components/PollListner.js","meetingContainer/MeetingContainer.js","components/joinScreen/SettingDialogueBox.js","components/joinScreen/MeetingDetailModal.js","components/JoinScreen.js","components/MeetingLeftScreen.js","App.js","reportWebVitals.js","index.js","mui/theme.js"],"names":["Activities","props","SvgIcon","viewBox","xmlns","width","height","id","d","transform","EndCall","PencilIcon","fill","TextIcon","Pin","UndoIcon","Chat","fillColor","PointerIcon","CheckboxIcon","KickoutUserIcon","style","CircleFilledIcon","LeaveMeetingIcon","x","y","enableBackground","xmlSpace","className","RaiseHand","CircleIcon","MicOff","xmlnsXlink","clipPath","SaveImageIcon","ClearWhiteboardIcon","ScreenRecording","cx","cy","r","ZoomInIcon","CopyIcon","ScreenShare","ZoomOutIcon","PanAroundIcon","ShapeIcon","EndCallIcon","Participants","SquareIcon","meetingModes","getGridRowsAndColumns","participantsCount","isMobile","isTab","isSMDesktop","isLandscape","isLGDesktop","isPresenting","rows","index","c","mobilePortrait","r0","r1","r2","mobileLandscape","tabPortrait","r3","tabLandscape","smallDesktop","largeDesktop","r4","grid","maxCount","getGridForMainParticipants","participants","gridInfo","singleRow","columnForCurrentRow","splice","forEach","participantId","i","diff","relativeWidth","relativeLeft","item","relativeHeight","relativeTop","push","localAndPinnedOnTop","localParticipantId","pinnedParticipantIds","moveLocalUnpinnedOnTop","length","totalParticipants","totalPinnedParticipants","localParticipantPinnedIndex","findIndex","localParticipantPinned","remaining","filter","_id","unshift","combined","localParticipantIndex","pId","participantsArr","padZero","str","len","Array","join","slice","invertColor","hex","indexOf","Error","parseInt","toString","g","b","calcQuality","json_verify","s","JSON","parse","e","formatAMPM","date","console","log","hours","getHours","minutes","getMinutes","ampm","strTime","nameTructed","name","tructedLength","substr","eventEmitter","EventEmitter","appEvents","extractRootDomain","url","domain","split","extractHostname","splitArr","arrLen","getUniqueId","Math","random","substring","useIsMobile","maxWidth","useMediaQuery","useIsTab","minWidth","MeetingAppContext","createContext","useMeetingAppContext","useContext","sideBarModes","sideBarNestedModes","useStyles","makeStyles","theme","container","backgroundColor","palette","background","default","color","text","primary","meetingLayouts","SPOTLIGHT","SIDEBAR","GRID","UNPINNED_SIDEBAR","UNPINNED_SPOTLIGHT","meetingLayoutPriorities","meetingLayoutTopics","MeetingAppProvider","children","redirectOnLeave","chatEnabled","screenShareEnabled","pollEnabled","whiteboardEnabled","participantCanToggleSelfWebcam","participantCanToggleSelfMic","raiseHandEnabled","recordingEnabled","recordingWebhookUrl","recordingAWSDirPath","autoStartRecording","autoStartHls","participantCanToggleRecording","participantCanToggleHls","brandingEnabled","brandLogoURL","brandName","participantCanLeave","participantCanEndMeeting","poweredBy","liveStreamEnabled","hlsEnabled","autoStartLiveStream","liveStreamOutputs","askJoin","participantCanToggleOtherMic","participantCanToggleOtherWebcam","partcipantCanToogleOtherScreenShare","participantCanToggleOtherMode","canRemoveOtherParticipant","notificationSoundEnabled","canPin","canCreatePoll","selectedMic","selectedWebcam","joinScreenWebCam","joinScreenMic","canToggleWhiteboard","canDrawOnWhiteboard","meetingLeft","setMeetingLeft","animationsEnabled","topbarEnabled","notificationAlertsEnabled","debug","mode","layoutType","layoutPriority","meetingLayoutTopic","layoutGridSize","hideLocalParticipant","alwaysShowOverlay","sideStackSize","canChangeLayout","participantCanToggleLivestream","reduceEdgeSpacing","isRecorder","maintainVideoAspectRatio","networkBarEnabled","hlsPlayerControlsVisible","containerRef","useRef","endCallContainerRef","classes","useState","sideBarMode","setSideBarMode","sideBarNestedMode","setSideBarNestedMode","activeSortedParticipants","setActiveSortedParticipants","mainViewParticipants","setMainViewParticipants","overlaidInfoVisible","setOverlaidInfoVisible","raisedHandsParticipants","setRaisedHandsParticipants","userHasInteracted","setUserHasInteracted","started","state","whiteboardState","setWhiteboardState","type","gridSize","priority","appMeetingLayout","setAppMeetingLayout","liveStreamConfig","setLiveStreamConfig","meetingMode","setMeetingMode","downstreamUrl","setDownstreamUrl","afterMeetingJoinedHLSState","setAfterMeetingJoinedHLSState","draftPolls","setDraftPolls","optionArr","setOptionArr","createdPolls","setCreatedPolls","endedPolls","setEndedPolls","submissions","setSubmissions","polls","useMemo","map","poll","isActive","pollId","whiteboardStarted","useEffect","RegExp","test","meetingLayout","Provider","value","autoHideDuration","maxSnack","anchorOrigin","vertical","horizontal","useResponsiveSize","xs","sm","md","lg","xl","useTheme","gtThenXS","breakpoints","up","gtThenSM","gtThenMD","gtThenLG","useIsLGDesktop","query","NetworkIcon","color1","color2","color3","color4","CornerDisplayName","displayName","isLocal","micOn","isActiveSpeaker","webcamOn","pinState","pin","unpin","mouseOver","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","analyzerSize","show","isPinned","share","cam","showPin","useParticipant","webcamStream","micStream","getVideoStats","getAudioStats","statsIntervalIdRef","score","setScore","updateStats","stats","current","clearInterval","setInterval","onClick","stopPropagation","position","bottom","left","opacity","paddingTop","paddingBottom","paddingLeft","paddingRight","borderRadius","display","alignItems","justifyContent","transition","transitionTimingFunction","marginRight","Typography","variant","lineHeight","right","IconButton","size","padding","top","undefined","options","eventListeners","eventName","isClickToPauseDisabled","common","white","ParticipantViewer","videoPlayer","quality","useVisibilitySensor","videoDivWrapperRef","setVideoDivWrapperRef","setMouseOver","portrait","setPortrait","mMeeting","useMeeting","presenterId","onStreamDisabled","stream","onStreamEnabled","setQuality","setViewPort","mediaStream","MediaStream","addTrack","track","participantAccentColor","letters","floor","getRandomColor","dpSize","flipStyle","WebkitTransform","defaultRippleOptions","circleRipple","offsetWidth","offsetHeight","emit","active","onChange","isVisible","ref","onMouseEnter","onMouseLeave","onDoubleClick","paper","overflow","spacing","playsinline","playIcon","pip","light","controls","muted","playing","onError","err","onProgress","getSettings","checkAndUpdatePortrait","Box","zIndex","String","charAt","toUpperCase","PresenterView","screenShareStream","screenShareAudioStream","screenShareOn","toggleScreenShare","localParticipant","pinnedParticipants","isPortrait","mainParticipants","splicesActiveParticipants","keys","audioPlayer","srcObject","play","catch","message","error","autoPlay","playsInline","p","flexDirection","mt","fontWeight","Button","useIsSMDesktop","usePrevious","React","UploadImageIcon","btnTool","marginTop","marginBottom","iColorPicker","border","cursor","popover","boxShadow","ToolBarIcon","Icon","title","isSelected","Tooltip","arrow","placement","ButtonBase","main","CustomColorPicker","colorPicker","setColorPicker","setColor","setParentColor","changeCanvasBackgroundColor","whiteboardToolbarWidth","whiteboardSpacing","component","currentTarget","Popover","open","Boolean","anchorEl","transformOrigin","onClose","disableRestoreFocus","ev","onChangeComplete","CustomImagePicker","addImage","imageInputRef","click","accept","WBToolbar","setTool","downloadCanvas","clearCanvas","undo","zoomOut","zoomIn","tool","parentColor","parentCanvasBackgroundColor","canvasBackgroundColor","setParentCanvasBackgroundColor","setCanvasBackgroundColor","setAnchorEl","backgroundColorPicker","setBackgroundColorPicker","handlePopoverClose","event","FormatColorFill","Palette","convertHWAspectRatio","containerHeight","containerWidth","WhiteboardContainer","originalHeight","originalWidth","enqueueSnackbar","useSnackbar","previousHeight","previousWidth","initialWidth","setpages","currentPageNo","setCurrentPageNo","config","bgColor","_setTool","toolRef","data","imageWidth","fabricRef","canvasCotainerRef","pdfRef","pageJSONRef","newPanFrom800","convertPanFrom800","setViewportTransform","newZoom","convertZoomFrom800","setZoom","clear","get","Audio","getObjects","some","o","oId","fabric","util","enlivenObjects","objects","origRenderOnAddRemove","renderOnAddRemove","add","renderAll","objectToUpdate","find","set","setCoords","object","remove","openPdf","updatePage","sendData","sendChatMessage","stringify","uploadImageAndGetUrl","Promise","resolve","reject","Compressor","target","files","maxHeight","success","result","formdata","FormData","append","requestOptions","method","body","redirect","fetch","meeting","baseUrl","meetingId","res","json","Image","fromURL","myImg","img1","scaleToWidth","setActiveObject","window","PDFJS","getDocument","promise","then","pdf","numPages","loadPageNo","number","getPage","page","viewport","getViewport","canvasEl","document","getElementById","render","canvasContext","getContext","bg","toDataURL","img","scaleToHeight","setBackgroundImage","newPage","toJSON","loadFromJSON","bind","convertZoomTo800","currentCanvasWidth","getWidth","getZoom","zoom","pan","copyPan","isDrawingMode","isDragging","fire","canvas","IText","prototype","keysMap","Canvas","selection","defaultCursor","freeDrawingBrush","on","opt","lastPosX","clientX","lastPosY","clientY","vpt","viewportTransform","requestRenderAll","calcOffset","oldObjects","convertPanTo800","pointer","getPointer","fontFamily","exitEditing","enterEditing","selectAll","addText","Circle","radius","stroke","strokeWidth","addCircle","addCircleFilled","Rect","strokeUniform","addSquare","addSquareFilled","Date","now","senderId","msgData","onChatMessage","addEventListener","key","getActiveObject","space","arrXLength","arrYLength","dotBoxHeight","dotBoxWidth","dotBoxTop","dotBoxLeft","arrX","arrY","uri","format","link","createElement","href","download","appendChild","removeChild","pop","flex","_","itemx","itemy","Chip","label","fontSize","MemoizedWhiteBoard","memo","oldHeight","oldWidth","MemoizedParticipant","oldParticipantId","oldQuality","oldUseVisibilitySensor","MotionParticipant","gutter","mounted","setMounted","setTimeout","animeConfig","stiffness","damping","spring","scale","MotionParticipantContainer","MemoizedMotionParticipant","prevProps","nextProps","MainViewContainer","activeSpeakerId","mainParticipantId","mainParticipant","rowSpacing","lastActiveParticipantId","mainScreenViewActive","mainLayoutParticipantId","_pinnedParticipants","Map","remainingParticipants","delete","activeIndex","firstMainParticipantId","mainGridRemovedParticipantId","firstPinnedParticipantId","next","presentingSideBarWidth","mainContainerHorizontalPadding","gridVerticalSpacing","actualPresentingSideBarWidth","overflowX","overflowY","margin","ChatMessage","senderName","timestamp","localSender","sidePanel","whiteSpace","wordBreak","toArray","t","Fragment","properties","fontStyle","ChatMessages","listHeight","listRef","messages","usePubSub","scrollTop","scrollHeight","scrollToBottom","msg","ChatMessageInput","inputHeight","messageText","setMessageText","emojiOpen","setEmojiOpen","input","inputContainer","publish","borderTop","emojiSize","showPreview","showSkinTones","onSelect","native","rowsMax","multiline","placeholder","fullWidth","onKeyPress","shiftKey","trim","persist","focus","v","endAdornment","InputAdornment","disabled","ChatTabPanel","panelHeight","useWindowSize","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","removeEventListener","ConfirmBox","successText","rejectText","onSuccess","onReject","subTitle","subTitleColor","Dialog","DialogTitle","DialogActions","autoFocus","AddCohostIcon","fillRule","clipRule","ToggleModeContainer","participantMode","mMeetingRef","isHoverOnCohost","setIsHoverOnCohost","ml","mr","ParticipantScreenShareIcon","ParticipantListItem","raisedHand","participantExpandedId","setParticipantExpandedId","participant","enableMic","disableMic","enableWebcam","disableWebcam","isParticipantPresenting","isParticipantKickoutVisible","setIsParticipantKickoutVisible","morePanelWidth","setMorePanelWidth","setParticipantMode","expanded","morePanelRef","onMessageReceived","onOldMessagesReceived","latestMessage","sort","a","Avatar","Fade","in","textOverflow","noWrap","Mic","Videocam","VideocamOff","setScreenShareOn","secondaryContrastTextLight","Close","MoreVert","ParticipantsTabPanel","panelWidth","filterQuery","setFilterQuery","sortedRaisedHandsParticipants","notRaised","pID","raisedSorted","raisedHandOn","part","toLowerCase","includes","filterParticipants","TextField","InputProps","startAdornment","SearchOutlined","rowCount","rowHeight","rowRenderer","isScrolling","PollIcon","textField","textFieldRoot","root","checkbox1","selectRoot","iconbutton","iconContainer","icon","checkbox","BpIcon","styled","secondary","MarkCorrectIcon","BpCheckedIcon","backgroundImage","content","MarkCorrectCheckedIcon","BpCheckbox","CheckboxProps","Checkbox","disableRipple","disableFocusRipple","checkedIcon","MarkCorrectCheckbox","Radio","CreatePollPart","isMarkAsCorrectChecked","setIsMarkAsCorrectChecked","isSetTimerChecked","setIsSetTimerChecked","question","setQuestion","questionErr","option","setOption","setOptions","setTimer","_handleKeyDown","timer","timerErr","correctAnswerErr","minOptionErr","optionErr","createOptionRef","pollTimerArr","Label","borderBottom","isCorrect","checked","optionId","autocomplete","onBlur","marginLeft","disableUnderline","disableTouchRipple","inputRef","uuid","onKeyDown","onFocus","FormGroup","FormControlLabel","control","Select","MenuItem","PollButtonPart","publishCreatePoll","publishDraftPoll","setQuestionErr","setTimerErr","setCorrectAnswerErr","setMinOptionErr","setOptionErr","singleOption","handleValidation","isValid","timeout","hasCorrectAnswer","hasTimer","CreatePoll","Height","preventDefault","secondsToMinutes","time","padStart","Poll","isDraft","timerIntervalRef","marginY","equalSpacing","EndPublish","createdAt","timeLeft","setTimeLeft","isTimerPollActive","setIsTimerPollActive","isPollActive","localSubmittedOption","totalSubmissions","groupedSubmissionCount","reduce","group","maxSubmittedOptions","maxSubmittedOptionId","Object","count","checkTimeOver","getTime","updateTimer","j","total","percentage","isCorrectOption","PollList","RemoveFromDraftPublish","AnswerSubmittedIcon","CorrectSelectedIcon","NoPollActiveIcon","maskType","maskUnits","mask","WrongOptionSelectedIcon","SubmitPollListItem","isOptionSubmittedByLocal","isOptionSelectedByLocalIncorrect","SubmitPollList","totalPolls","ActivitiesTabPanel","listPadding","List","ListItem","ListItemAvatar","useIsLivestreaming","livestreamState","Constants","livestreamEvents","LIVESTREAM_STARTED","LIVESTREAM_STOPPING","button","SingleLiveStreamItem","liveStreamConfigRef","isEditingId","setIsEditingId","_handleRemove","isLiveStreaming","useIsLiveStreaming","rootDomain","mainDomain","domainName","isEditing","isSelfEditing","editedUrl","setEditedUrl","editedStreamKey","setEditedStreamKey","editedUrlErr","setEditedUrlErr","editedStreamKeyErr","setEditedStreamKeyErr","visible","onCancelClick","setOnCancelClick","onRemoveClick","setOnRemoveClick","itemRef","streamKey","Id","newPlatforms","isEdit","_handleSaveInsideArray","AddLiveStream","_handleSave","renderCallback","setStreamKey","setStreamUrl","streamKeyErr","setStreamKeyErr","streamUrlErr","setStreamUrlErr","elementRef","el","LiveStreamConfigTabPanel","editingItemId","setEditingItemId","addLiveStreamBoxHeight","setAddLiveStreamBoxHeight","addLiveStreamBoxRef","liveStreamsContainerRef","filtered","clientHeight","SpotlightIcon","rx","strokeColor","SideBarIcon","GridIcon","SvgComponent","PinParticipantIcon","ConfigTabPanel","typeRef","priorityRef","gridSizeRef","livestreamPublish","recordingPublish","hlsPublish","meetingPublish","livestreamPublishRef","recordingPublishRef","hlsPublishRef","meetingPublishRef","marks","from","layoutArr","priorityArr","SpeakerIcon","focusVisible","publishToPubSub","func","wait","immediate","context","this","args","arguments","later","apply","callNow","clearTimeout","debounce","_type","_gridSize","_priority","layout","Card","justifyItems","textAlign","action","Div","heading","onLayoutChange","onPriorityChange","layoutObj","priorityObj","Slider","getAriaValueText","min","max","defaultValue","newValue","newGridSize","_handleGridSize","valueLabelDisplay","step","SideBarTabView","paddedHeight","panelPadding","panelHeaderHeight","panelHeaderPadding","NavigateBeforeOutlined","capitalize","Transition","forwardRef","Slide","direction","SideViewContainer","topBarHeight","isOpen","closeAfterTransition","fullScreen","TransitionComponent","OutlineIconButton","badge","isFocused","focusBGColor","focusIconColor","large","renderRightComponent","tooltipTitle","btnID","buttonText","lottieOption","isRequestProcessing","mouseDown","setMouseDown","blinkingState","setBlinkingState","intervalRef","iconSize","stopBlinking","onMouseDown","onMouseUp","Badge","badgeContent","LiveIcon","OutlineIconTextButton","MobileIconButton","AddLiveStreamIcon","useIsRecording","recordingState","recordingEvents","RECORDING_STARTED","RECORDING_STOPPING","useIsHls","isHls","row","borderRight","popoverBorder","RaiseHandBTN","onRaiseHand","ParticipantsBTN","ConfigBTN","SettingsOutlinedIcon","ChatBTN","ActivitiesBTN","WhiteBoardBTN","Gesture","stopWhiteboard","startWhiteboard","ScreenShareBTN","localScreenShareOn","RDDIsMobile","RDDIsTablet","AddLiveStreamBTN","RecordingBTN","startRecording","stopRecording","isRecording","RECORDING_STARTING","isRecordingRef","recordingBlink","_handleClick","_handleStartRecording","RECORDING_STOPPED","GoLiveBTN","isPopupShown","setIsPopupShown","startLivestream","stopLivestream","LIVESTREAM_STARTING","isLiveStreamingRef","liveBlink","_handleStartLivestream","LIVESTREAM_STOPPED","HlsBTN","startHls","stopHls","isHlsStop","setIsHlsStop","isHlsRef","liveHLS","_handleStartHLS","WebcamBTN","selectedDeviceId","setSelectedDeviceId","downArrow","setDownArrow","webcams","setWebcams","localWebcamOn","toggleWebcam","changeWebcam","handleClose","getWebcams","mGetWebcams","tollTipEl","VideocamIcon","VideocamOffIcon","ArrowDropDown","MenuList","deviceId","selected","MicBTN","mics","setMics","localMicOn","toggleMic","changeMic","getMics","mGetMics","MicIcon","MicOffIcon","EndCallBTN","isEndMeeting","setIsEndMeeting","leave","end","buttonType","TopBar","setOpen","setDefaultBrandLogoUrl","handleClickFAB","handleCloseFAB","topBarButtonTypes","END_CALL","ACTIVITIES","CHAT","PARTICIPANTS","SCREEN_SHARE","WEBCAM","MIC","RAISE_HAND","RECORDING","HLS","WHITEBOARD","ADD_LIVE_STREAM","CONFIGURATION","GO_LIVE","arr","mobileIconArr","arrSideBar","arrMedia","utilsArr","iconA","iconB","firstFourElements","excludeFirstFourElements","topBarIcons","mobileIcons","topBarVisible","setTopBarVisible","MoreHorizIcon","SwipeableDrawer","anchor","onOpen","Grid","alt","src","Link","textDecorationColor","textTransform","useSortActiveParticipants","setPresenterId","participantsRef","activeSortedParticipantsRef","maxParticipantInMainViewRef","mainViewParticipantsRef","localParticipantIdRef","sortActiveParticipants","activeParticipants","lastActiveOn","onSpeakerChanged","foundIndex","foundIndexMain","newParticipantObj","mainParticipantsLastActive","notActive","notActiveMainIndex","onParticipantJoined","maxParticipantInMainView","filteredMainViewParticipants","onParticipantLeft","filteredActiveParticipants","inQueue","sortedActive","onMeetingJoined","participantIds","slicedParticipantIds","mPresenterId","n","_sortOnModify","useRaisedHandParticipants","raisedHandsParticipantsRef","_handleRemoveOld","persisted","interval","participantRaisedHand","newItem","participantFound","MediaRequested","reqInfoDefaultState","enabled","participantName","reqMicInfo","setReqMicInfo","reqWebcamInfo","setReqWebcamInfo","reqScreenShareInfo","setReqScreenShareInfo","onWebcamRequested","onMicRequested","setter","RequestedEntries","requestedEntries","setRequestedEntries","onEntryRequested","allow","deny","onEntryResponded","decision","ClickAnywhereToContinue","robot","brandLogoErr","setBrandLogoErr","jsonSize","windowHeight","windowWidth","bgImageHeight","bgImageWidth","imageHeight","backgroundRepeat","backgroundSize","PinnedLayoutViewContainer","obj","pinnedPresenter","pinnedParticipantIndexToBeRemoved","spotlightParticipantId","sideBarPinnedParticipantIds","spotlightMediaType","pinnedParticipantsMap","_presentingSideBarWidth","_mainContainerHorizontalPadding","ParticipantAudioPlayer","consumeMicStreams","stopConsumingMicStreams","ParticipantsAudioPlayer","useWhiteBoard","meetingRef","_handleWhiteboardStarted","_handleWhiteboardStopped","mMmeeting","onMeetingLeft","off","WaitingToJoin","waitingMessages","setMessage","lottieSize","sleep","ms","PlayerViewer","canPlay","setCanPlay","defaultOptionsStoppedHls","stoppedHLSSnimationData","waitForHLSPlayable","maxRetry","status","checkHLSPlayable","Hls","isSupported","hls","capLevelToPlayerSize","maxLoadingDelay","minAutoBitrate","autoStartLoad","defaultAudioCodec","player","querySelector","loadSource","attachMedia","Events","MANIFEST_PARSED","ERROR","MotionPlayer","MemoizedMotionPlayer","HLSContainer","ModeListner","reqModeInfo","setReqModeInfo","participantRef","publishRef","notificationSoundEnabledRef","notificationAlertsEnabledRef","muteMic","disableScreenShare","invitatioAcceptedPublish","invitatioRejectedPublish","PauseInvisibleParticipant","consumeWebcamStreams","stopConsumingWebcamStreams","PauseInvisibleParticipants","visibleParticipantIds","setVisibleParticipantIds","_handleParticipantVisible","Set","_handleParticipantInvisible","PollListner","_poll","sortedMappedMessages","PollsListner","setPolls","newPolls","MeetingContainer","showJoinNotificationRef","localParticipantAutoPinnedOnShare","setContainerHeight","meetingError","setMeetingError","setContainerWidth","localParticipantAllowedJoin","setLocalParticipantAllowedJoin","sideBarContainerWidth","meetingModeRef","liveStreamConfigPublish","liveStreamConfigPublishRef","_handleOnMeetingJoined","outputs","output","_handleMeetingLeft","parent","location","maxLength","trimSnackBarText","onPresenterChanged","mPresenter","onRecordingStarted","onRecordingStopped","onLiveStreamStarted","onLiveStreamStopped","onPinStateChanged","pinnedBy","pinnedByDisplayName","partcipantDisplayName","pinnedSelf","pinStateText","localParticipantWasPinned","getPinMsg","code","isJoiningError","isCriticalError","startsWith","onRecordingStateChanged","onLivestreamStateChanged","onHlsStarted","onHlsStopped","_handleToggleFullScreen","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","isMeetingJoined","CircularProgress","AudioAnalyser","audioTrack","audioTrackRef","audioAnalyserIntervalRef","volume","setVolume","audioStream","audioContext","AudioContext","audioSource","createMediaStreamSource","analyser","createAnalyser","fftSize","minDecibels","maxDecibels","smoothingTimeConstant","connect","volumes","Uint8Array","frequencyBinCount","getByteFrequencyData","averageVolume","sum","vol","analyseAudio","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","toggleSelected","video","objectFit","previewBox","SettingDialogueBox","popupVideoPlayerRef","setting","setSetting","setSelectedMic","setSelectedWebcam","videoTrack","isXStoSM","between","isXSOnly","only","isSMONly","dlgDevices","setDlgDevices","boxHeight","setBoxHeight","boxRef","internalPadding","ThemeProvider","disableElevation","FormControl","kind","MeetingDetailModal","setNameErr","setName","nameErr","startMeeting","meetingTitle","meetingUrl","descriptionBoxHeight","setDescriptionBoxHeight","copyBoxHeight","setCopyBoxHeight","useCopyClipboard","successDuration","copied","setCopied","descriptionBoxRef","copyBoxRef","contrastText","maxLine","ellipsis","pt","pb","toggleButton","DotsBoxContainer","JoinMeeting","micEnabled","webcamEnabled","dlgMuted","setDlgMuted","settingDialogueOpen","setSettingDialogueOpen","_handleTurnOffMic","_handleTurnOffWebcam","devices","setDevices","videoPlayerRef","popupAudioPlayerRef","setVideoTrack","setAudioTrack","videoTrackRef","currentvideoTrack","stop","navigator","mediaDevices","getUserMedia","videoTracks","getVideoTracks","currentAudioTrack","audio","audioTracks","getAudioTracks","getDefaultMediaTracks","mic","webcam","firstTime","audioConstraints","videoConstraints","startMuteListener","getDevices","enumerateDevices","hasMic","hasWebcam","_toggleWebcam","_handleToggleMic","videoSrcObject","spacingHorizontalTopics","gtThenXL","isSMOnly","isXLOnly","m","justify","red","StarsBG","MeetingLeftScreen","leftScreenActionButtonLabel","leftScreenActionButtonHref","leftScreenRejoinButtonEnabled","App","isLoading","reqError","reqStatusCode","meetingIdValidation","setMeetingIdValidation","playNotificationErr","errAudio","maxGridSize","paramKeys","configErr","urlParams","URLSearchParams","search","token","usermode","joinScreenEnabled","joinScreenMeetingUrl","joinScreenTitle","maxResolution","joinWithoutUserInteraction","rawUserAgent","region","preferredProtocol","decodeURIComponent","isNaN","getParams","setJoinScreenWebCam","setJoinScreenMic","validateMeetingId","urlMeetingId","headers","Authorization","resMeetingId","meetingIdJson","validatedMeetingId","statusCode","autoConsume","deviceInfo","sdkType","sdkVersion","prebuiltSDKVersion","userAgent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","responsiveFontSizes","createTheme","typography","divider","black","overrides","MuiTypography","MuiTooltip","tooltip"],"mappings":"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","file":"static/js/main.0f49bbc6.chunk.js","sourcesContent":["import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst Activities = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 20 20\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"20\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 20 20\"\r\n      >\r\n        <path\r\n          id=\"Path_6057\"\r\n          data-name=\"Path 6057\"\r\n          d=\"M12.167,12.811,3,8.956v8.589a1.878,1.878,0,0,0,1.111,1.689L12.1,23h.067ZM13,11.333l9.456-3.967a1.8,1.8,0,0,0-.567-.422l-8-3.744a2.078,2.078,0,0,0-1.778,0l-8,3.744a1.8,1.8,0,0,0-.567.422Zm.833,1.478V23h.056l8-3.767A1.878,1.878,0,0,0,23,17.556v-8.6Z\"\r\n          transform=\"translate(-3 -3)\"\r\n        />\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default Activities;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst EndCall = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 28 9.598\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"28\"\r\n        height=\"9.598\"\r\n        viewBox=\"0 0 28 9.598\"\r\n      >\r\n        <path\r\n          id=\"Path_5701\"\r\n          data-name=\"Path 5701\"\r\n          d=\"M14,16.167a18.6,18.6,0,0,0-5.367.78V20.31a1.087,1.087,0,0,1-.653.975,13.6,13.6,0,0,0-3.109,2,1.213,1.213,0,0,1-.817.309,1.185,1.185,0,0,1-.822-.32L.344,20.6a1.032,1.032,0,0,1,0-1.538A20.593,20.593,0,0,1,14,14a20.593,20.593,0,0,1,13.656,5.059,1.035,1.035,0,0,1,.344.769,1.023,1.023,0,0,1-.344.764l-2.888,2.681a1.21,1.21,0,0,1-.823.32,1.224,1.224,0,0,1-.817-.309,13.6,13.6,0,0,0-3.109-2,1.087,1.087,0,0,1-.653-.975V16.941A18.782,18.782,0,0,0,14,16.167Z\"\r\n          transform=\"translate(0 -14)\"\r\n        />\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default EndCall;\r\n","import * as React from \"react\";\r\n\r\nconst PencilIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\r\n  </svg>\r\n);\r\n\r\nexport default PencilIcon;\r\n","import * as React from \"react\";\r\n\r\nconst TextIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M5 4v3h5.5v12h3V7H19V4z\" />\r\n  </svg>\r\n);\r\n\r\nexport default TextIcon;\r\n","import * as React from \"react\";\r\n\r\nfunction Pin(props) {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 60 60\" {...props}>\r\n      <path d=\"M40.8 2.4H19.2c-2.1 0-3.8 1.7-3.8 3.8 0 1 .4 2 1.1 2.7.7.7 1.7 1.1 2.7 1.1h.7v18.9L14.8 35c-.2.3-.3.7-.1 1.1.2.3.5.6.9.6h28.7c.3 0 .5-.1.7-.3.1-.1.1-.2.2-.3.2-.4.1-.8-.1-1.1l-5-6V10.1h.7c1.1 0 2-.4 2.7-1.1.7-.7 1.1-1.6 1.1-2.7 0-2.1-1.7-3.9-3.8-3.9zM29 56.8c.1.4.5.7 1 .8.3 0 .5-.1.7-.3.1-.1.2-.3.3-.5l4.7-18.1H24.4L29 56.8z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default Pin;\r\n","import * as React from \"react\";\r\n\r\nconst UndoIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\" />\r\n  </svg>\r\n);\r\n\r\nexport default UndoIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst Chat = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 20 20\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"20\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 20 20\"\r\n      >\r\n        <path\r\n          id=\"chat_1_\"\r\n          data-name=\"chat (1)\"\r\n          d=\"M19,2H5A2.946,2.946,0,0,0,2,5V15a2.946,2.946,0,0,0,3,3H16.6l3.7,3.7a.967.967,0,0,0,1.4,0A.908.908,0,0,0,22,21V5A2.946,2.946,0,0,0,19,2ZM7,13a1,1,0,0,1,0-2,1,1,0,0,1,0,2ZM7,9A.945.945,0,0,1,6,8,.945.945,0,0,1,7,7,.945.945,0,0,1,8,8,.945.945,0,0,1,7,9Zm10,4H11a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H11a.945.945,0,0,1-1-1,.945.945,0,0,1,1-1h6a.945.945,0,0,1,1,1A.945.945,0,0,1,17,9Z\"\r\n          transform=\"translate(-2 -2)\"\r\n          fill={props.fillColor}\r\n        />\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import * as React from \"react\";\r\n\r\nconst PointerIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M17 5h-2V3h2v2zm-2 16h2v-2.59L19.59 21 21 19.59 18.41 17H21v-2h-6v6zm4-12h2V7h-2v2zm0 4h2v-2h-2v2zm-8 8h2v-2h-2v2zM7 5h2V3H7v2zM3 17h2v-2H3v2zm2 4v-2H3c0 1.1.9 2 2 2zM19 3v2h2c0-1.1-.9-2-2-2zm-8 2h2V3h-2v2zM3 9h2V7H3v2zm4 12h2v-2H7v2zm-4-8h2v-2H3v2zm0-8h2V3c-1.1 0-2 .9-2 2z\" />\r\n  </svg>\r\n);\r\n\r\nexport default PointerIcon;\r\n","import * as React from \"react\";\r\n\r\nfunction CheckboxIcon(props) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={14}\r\n      height={14}\r\n      viewBox=\"0 0 14 14\"\r\n      {...props}\r\n    >\r\n      <g data-name=\"check (1)\" fill=\"#fff\">\r\n        <path\r\n          data-name=\"Path 5840\"\r\n          d=\"M13.124 4.96a.874.874 0 00-.875.875v6.416H1.75V1.752h6.416a.875.875 0 100-1.75H.875A.874.874 0 000 .877v12.249a.874.874 0 00.875.875h12.249a.874.874 0 00.875-.875V5.835a.874.874 0 00-.875-.875z\"\r\n        />\r\n        <path\r\n          data-name=\"Path 5841\"\r\n          d=\"M12.432.271L6.458 6.247 4.197 3.986a.92.92 0 10-1.3 1.3L5.81 8.19a.915.915 0 001.3 0l6.622-6.624a.92.92 0 00-1.3-1.3z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CheckboxIcon;\r\n","import * as React from \"react\";\r\n\r\nconst KickoutUserIcon = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={15}\r\n    height={15}\r\n    viewBox=\"0 0 15 15\"\r\n    {...props}\r\n  >\r\n    <path\r\n      d=\"M15.8 17.818h-3.936a.985.985 0 0 1 0-1.97H15.8a.985.985 0 0 1 0 1.97Zm-6.894-.985a2.955 2.955 0 0 0 2.955 2.955H3.985A.985.985 0 0 1 3 18.8c0-1.967 1.9-3.8 3.85-4.531a3.928 3.928 0 0 1-1.88-3.345v-.985a3.939 3.939 0 1 1 7.879 0v.985a3.88 3.88 0 0 1-1.453 3 2.947 2.947 0 0 0-2.487 2.909Z\"\r\n      transform=\"translate(-3 -6)\"\r\n      style={{\r\n        fill: \"#fff\",\r\n      }}\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default KickoutUserIcon;\r\n","import * as React from \"react\";\r\n\r\nconst CircleFilledIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z\" />\r\n  </svg>\r\n);\r\n\r\nexport default CircleFilledIcon;\r\n","import * as React from \"react\";\r\n\r\nconst LeaveMeetingIcon = (props) => (\r\n  <svg\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    x={0}\r\n    y={0}\r\n    viewBox=\"0 0 24 24\"\r\n    style={{\r\n      enableBackground: \"new 0 0 24 24\",\r\n    }}\r\n    xmlSpace=\"preserve\"\r\n    {...props}\r\n  >\r\n    <style>{\".st0{fill:#fff}\"}</style>\r\n    <path\r\n      className=\"st0\"\r\n      d=\"M3 0h11c1.7 0 3 1.3 3 3v6H8c-1.7 0-3 1.3-3 3s1.3 3 3 3h9v6c0 1.7-1.3 3-3 3H3c-1.7 0-3-1.3-3-3V3c0-1.7 1.4-3 3-3z\"\r\n    />\r\n    <path\r\n      className=\"st0\"\r\n      d=\"M20.6 13H8c-.6 0-1-.4-1-1s.4-1 1-1h12.6l-1.3-1.3c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l3 3c.4.4.4 1 0 1.4l-3 3c-.4.4-1 .4-1.4 0-.4-.4-.4-1 0-1.4l1.3-1.3z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default LeaveMeetingIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst RaiseHand = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 27 27\">\r\n      <svg\r\n        id=\"front_hand_black_24dp\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <rect id=\"Rectangle_7016\" width=\"24\" height=\"24\" fill=\"none\" />\r\n        <path\r\n          id=\"Path_6011\"\r\n          d=\"M19.75,8A1.25,1.25,0,0,0,18.5,9.25V15H18a3.009,3.009,0,0,0-3,3H14a4.007,4.007,0,0,1,3.5-3.97V3.25a1.25,1.25,0,0,0-2.5,0V11H14V1.25a1.25,1.25,0,0,0-2.5,0V11h-1V2.75a1.25,1.25,0,0,0-2.5,0V12H7V5.75a1.25,1.25,0,0,0-2.5,0v10a8.25,8.25,0,0,0,16.5,0V9.25A1.25,1.25,0,0,0,19.75,8Z\"\r\n          transform=\"translate(1.5)\"\r\n          fill={props.fillColor}\r\n        />\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default RaiseHand;\r\n","import * as React from \"react\";\r\n\r\nconst CircleIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n    <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" />\r\n  </svg>\r\n);\r\n\r\nexport default CircleIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst MicOff = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 22.375 22.375\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        width=\"22.375\"\r\n        height=\"22.375\"\r\n        viewBox=\"0 0 22.375 22.375\"\r\n      >\r\n        <defs>\r\n          <clipPath id=\"clip-path\">\r\n            <rect\r\n              id=\"Rectangle_6475\"\r\n              data-name=\"Rectangle 6475\"\r\n              width=\"22.375\"\r\n              height=\"22.375\"\r\n            />\r\n          </clipPath>\r\n        </defs>\r\n        <g id=\"mic_off\" clipPath=\"url(#clip-path)\">\r\n          <g id=\"mic_1_\" data-name=\"mic (1)\" transform=\"translate(1.602 2.849)\">\r\n            <path\r\n              id=\"Path_1\"\r\n              data-name=\"Path 1\"\r\n              d=\"M0,0H18.064V18.064H0ZM0,0H18.064V18.064H0Z\"\r\n              fill=\"none\"\r\n            />\r\n            <path\r\n              id=\"Path_2\"\r\n              data-name=\"Path 2\"\r\n              d=\"M18.09,10.792H16.805a3.711,3.711,0,0,1-.329,1.548l.931.929A4.884,4.884,0,0,0,18.09,10.792Zm-3.034.124c0-.041.011-.083.011-.124V6.262a2.267,2.267,0,1,0-4.533,0V6.4ZM6.963,4.752,6,5.714l4.541,4.538V10.8A2.261,2.261,0,0,0,12.8,13.061,2.331,2.331,0,0,0,13.292,13l1.254,1.253a4.167,4.167,0,0,1-1.746.389,3.919,3.919,0,0,1-4-3.85H7.511a5.268,5.268,0,0,0,4.533,5.073v2.472h1.511V15.866a5.358,5.358,0,0,0,1.919-.683l3.162,3.16.963-.959Z\"\r\n              transform=\"translate(-3.768 -2.509)\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default MicOff;\r\n","import * as React from \"react\";\r\n\r\nconst SaveImageIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SaveImageIcon;\r\n","import * as React from \"react\";\r\n\r\nconst ClearWhiteboardIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n    <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" />\r\n  </svg>\r\n);\r\n\r\nexport default ClearWhiteboardIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst ScreenRecording = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 24 24\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"#fff\"\r\n      >\r\n        <g id=\"screen-recording\" transform=\"translate(-2 -2)\">\r\n          <path\r\n            id=\"Path_6017\"\r\n            data-name=\"Path 6017\"\r\n            fill=\"#fff\"\r\n            d=\"M14,2A12,12,0,1,0,26,14,12.013,12.013,0,0,0,14,2Zm0,22.08A10.08,10.08,0,1,1,24.08,14,10.091,10.091,0,0,1,14,24.08Z\"\r\n          />\r\n          <circle\r\n            id=\"Ellipse_259\"\r\n            data-name=\"Ellipse 259\"\r\n            cx=\"6\"\r\n            cy=\"6\"\r\n            r=\"6\"\r\n            transform=\"translate(8 8)\"\r\n            fill=\"#fff\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default ScreenRecording;\r\n","import * as React from \"react\";\r\n\r\nconst ZoomInIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\r\n    <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" />\r\n  </svg>\r\n);\r\n\r\nexport default ZoomInIcon;\r\n","import * as React from \"react\";\r\n\r\nfunction CopyIcon(props) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={14.365}\r\n      height={16.633}\r\n      viewBox=\"0 0 14.365 16.633\"\r\n      {...props}\r\n    >\r\n      <path\r\n        data-name=\"Path 5718\"\r\n        d=\"M10.585 0H1.512A1.517 1.517 0 000 1.512V12.1h1.512V1.512h9.072zm2.265 3.024H4.536a1.517 1.517 0 00-1.512 1.512v10.585a1.517 1.517 0 001.512 1.512h8.314a1.517 1.517 0 001.512-1.512V4.536a1.517 1.517 0 00-1.512-1.512zm0 12.1H4.536V4.536h8.314z\"\r\n        fill={props.fill || \"#1c1f2e\"}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CopyIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst ScreenShare = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 24 24\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <defs>\r\n          <clipPath id=\"clip-path\">\r\n            <rect\r\n              id=\"Rectangle_7038\"\r\n              data-name=\"Rectangle 7038\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              transform=\"translate(2.547 2.547)\"\r\n            />\r\n          </clipPath>\r\n        </defs>\r\n        <g\r\n          id=\"screen_share_on\"\r\n          transform=\"translate(-2.547 -2.547)\"\r\n          clipPath=\"url(#clip-path)\"\r\n        >\r\n          <path\r\n            id=\"share_1_\"\r\n            data-name=\"share (1)\"\r\n            d=\"M24.35,9.2H6.756a1.079,1.079,0,0,0-1.078,1.074v13.25A1.079,1.079,0,0,0,6.756,24.6H24.351a1.076,1.076,0,0,0,1.074-1.078V10.276A1.075,1.075,0,0,0,24.35,9.2ZM20.1,16.038l-3.069,3.073a.4.4,0,0,1-.43.081.39.39,0,0,1-.244-.365v-1.07a5.05,5.05,0,0,0-4.427,3.483.395.395,0,0,1-.751,0,5.933,5.933,0,0,1-.284-1.809,5.864,5.864,0,0,1,5.46-5.841v-.9a.39.39,0,0,1,.244-.365.4.4,0,0,1,.43.081L20.1,15.482a.386.386,0,0,1,.119.276.4.4,0,0,1-.119.28Zm-.463,10.047a.395.395,0,0,0,0-.79H11.472a.395.395,0,1,0,0,.79Z\"\r\n            transform=\"translate(-1.374 -2.68)\"\r\n            fill={props.fillColor}\r\n          />\r\n        </g>\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default ScreenShare;\r\n","import * as React from \"react\";\r\n\r\nconst ZoomOutIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" />\r\n  </svg>\r\n);\r\n\r\nexport default ZoomOutIcon;\r\n","import * as React from \"react\";\r\n\r\nconst PanAroundIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n    <path d=\"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z\" />\r\n  </svg>\r\n);\r\n\r\nexport default PanAroundIcon;\r\n","import * as React from \"react\";\r\n\r\nconst ShapeIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n    <path d=\"M3 3h18v18H3z\" />\r\n  </svg>\r\n);\r\n\r\nexport default ShapeIcon;\r\n","import * as React from \"react\";\r\n\r\nconst EndCallIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={21.361} {...props}>\r\n    <defs>\r\n      <style>{\".a{fill:#fff}\"}</style>\r\n    </defs>\r\n    <path\r\n      className=\"a\"\r\n      d=\"M11.185 5.346a3.895 3.895 0 0 1 0-2.925ZM17.6 4.344a2.886 2.886 0 0 1-4.286 2.5 3.841 3.841 0 0 0 .056-5.09 2.887 2.887 0 0 1 4.23 2.59Z\"\r\n    />\r\n    <path\r\n      className=\"a\"\r\n      d=\"M9.062 7.767a3.884 3.884 0 1 0-3.884-3.884 3.867 3.867 0 0 0 3.884 3.884ZM15.029 12.479a10.535 10.535 0 0 0-3.236 5.644H1.3A1.3 1.3 0 0 1 0 16.829v-1.942c0-3.016 6.045-4.531 9.062-4.531a15.956 15.956 0 0 1 6.615 1.579c-.22.169-.44.35-.648.544ZM17.263 14.831a8.788 8.788 0 0 0-1.726 2.138l1.231 1.358a.594.594 0 0 1 .112.615 6.845 6.845 0 0 0-.432 1.865.588.588 0 0 1-.193.4.579.579 0 0 1-.425.151l-2.063-.1a.594.594 0 0 1-.411-.194.586.586 0 0 1-.152-.427 10.034 10.034 0 0 1 10.234-9.279.588.588 0 0 1 .561.618l-.1 2.063a.59.59 0 0 1-.191.409.6.6 0 0 1-.419.153 6.869 6.869 0 0 0-1.9.247.594.594 0 0 1-.6-.171l-1.231-1.358a8.882 8.882 0 0 0-2.295 1.512Z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default EndCallIcon;\r\n","import { SvgIcon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst Participants = (props) => {\r\n  return (\r\n    <SvgIcon {...props} viewBox=\"0 0 24 15.273\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"15.273\"\r\n        viewBox=\"0 0 24 15.273\"\r\n      >\r\n        <path\r\n          id=\"Path_6019\"\r\n          data-name=\"Path 6019\"\r\n          d=\"M17.364,11.545a3.273,3.273,0,1,0-3.273-3.273A3.259,3.259,0,0,0,17.364,11.545Zm-8.727,0A3.273,3.273,0,1,0,5.364,8.273,3.259,3.259,0,0,0,8.636,11.545Zm0,2.182C6.095,13.727,1,15,1,17.545v1.636a1.094,1.094,0,0,0,1.091,1.091H15.182a1.094,1.094,0,0,0,1.091-1.091V17.545C16.273,15,11.178,13.727,8.636,13.727Zm8.727,0c-.316,0-.676.022-1.058.055.022.011.033.033.044.044a4.538,4.538,0,0,1,2.105,3.72v1.636a3.278,3.278,0,0,1-.2,1.091h5.651A1.094,1.094,0,0,0,25,19.182V17.545C25,15,19.905,13.727,17.364,13.727Z\"\r\n          transform=\"translate(-1 -5)\"\r\n          fill={props.fillColor}\r\n        />\r\n      </svg>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default Participants;\r\n","import * as React from \"react\";\r\n\r\nconst SquareIcon = (props) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} {...props}>\r\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n    <path d=\"M3 3v18h18V3H3zm16 16H5V5h14v14z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SquareIcon;\r\n","export const RECORDER_MAX_GRID_SIZE = 4;\r\nexport const RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED = 4;\r\n\r\nexport const meetingModes = {\r\n  VIEWER: \"VIEWER\",\r\n  CONFERENCE: \"CONFERENCE\",\r\n};\r\n","import { EventEmitter } from \"events\";\r\n\r\nexport const maxParticipantGridCount_mobile = 6;\r\nexport const maxParticipantGridCount_tab = 9;\r\nexport const maxParticipantGridCount_desktop = 16;\r\nexport const maxParticipantGridCount_large_desktop = 25;\r\n\r\nexport const getGridRowsAndColumns = ({\r\n  participantsCount,\r\n  isMobile,\r\n  isTab,\r\n  isSMDesktop,\r\n  isLGDesktop,\r\n  isLandscape,\r\n  isPresenting,\r\n}) => {\r\n  if (isPresenting) {\r\n    const r = participantsCount;\r\n    const c = 1;\r\n\r\n    const rows = {};\r\n\r\n    for (let index = 0; index < participantsCount; index++) {\r\n      rows[`r${index}`] = 1;\r\n    }\r\n\r\n    return { r, c, ...rows };\r\n  }\r\n\r\n  const mobilePortrait = {\r\n    1: { r: 1, c: 1, r0: 1 },\r\n    2: { r: 2, c: 1, r0: 1, r1: 1 },\r\n    3: { r: 3, c: 1, r0: 1, r1: 1, r2: 1 },\r\n    4: { r: 2, c: 2, r0: 2, r1: 2 },\r\n    5: { r: 3, c: 2, r0: 2, r1: 1, r2: 2 },\r\n    6: { r: 3, c: 2, r0: 2, r1: 2, r2: 2 },\r\n  };\r\n  const mobileLandscape = {\r\n    1: { r: 1, c: 1, r0: 1 },\r\n    2: { r: 1, c: 2, r0: 2 },\r\n    3: { r: 1, c: 3, r0: 3 },\r\n    4: { r: 2, c: 2, r0: 2, r1: 2 },\r\n    5: { r: 2, c: 3, r0: 3, r1: 2 },\r\n    6: { r: 2, c: 3, r0: 3, r1: 3 },\r\n  };\r\n  const tabPortrait = {\r\n    ...mobilePortrait,\r\n    7: { r: 3, c: 3, r0: 2, r1: 3, r2: 2 },\r\n    8: { r: 3, c: 3, r0: 3, r1: 2, r2: 3 },\r\n    9: { r: 3, c: 3, r0: 3, r1: 3, r2: 3 },\r\n    10: { r: 4, c: 3, r0: 2, r1: 3, r2: 3, r3: 2 },\r\n    11: { r: 4, c: 3, r0: 3, r1: 3, r2: 2, r3: 3 },\r\n    12: { r: 4, c: 3, r0: 3, r1: 3, r2: 3, r3: 3 },\r\n  };\r\n  const tabLandscape = {\r\n    ...mobileLandscape,\r\n    7: { r: 3, c: 3, r0: 2, r1: 3, r2: 2 },\r\n    8: { r: 3, c: 3, r0: 3, r1: 2, r2: 3 },\r\n    9: { r: 3, c: 3, r0: 3, r1: 3, r2: 3 },\r\n    10: { r: 3, c: 4, r0: 3, r1: 4, r2: 3 },\r\n    11: { r: 3, c: 4, r0: 4, r1: 3, r2: 4 },\r\n    12: { r: 3, c: 4, r0: 4, r1: 4, r2: 4 },\r\n  };\r\n  const smallDesktop = {\r\n    1: { r: 1, c: 1, r0: 1 },\r\n    2: { r: 1, c: 2, r0: 2 },\r\n    3: { r: 2, c: 2, r0: 2, r1: 1 },\r\n    4: { r: 2, c: 2, r0: 2, r1: 2 },\r\n    5: { r: 2, c: 3, r0: 3, r1: 2 },\r\n    6: { r: 2, c: 3, r0: 3, r1: 3 },\r\n    7: { r: 3, c: 3, r0: 2, r1: 3, r2: 2 },\r\n    8: { r: 3, c: 3, r0: 3, r1: 2, r2: 3 },\r\n    9: { r: 3, c: 3, r0: 3, r1: 3, r2: 3 },\r\n    10: { r: 3, c: 4, r0: 3, r1: 4, r2: 3 },\r\n    11: { r: 3, c: 4, r0: 4, r1: 3, r2: 4 },\r\n    12: { r: 3, c: 4, r0: 4, r1: 4, r2: 4 },\r\n    13: { r: 4, c: 4, r0: 3, r1: 3, r2: 3, r3: 4 },\r\n    14: { r: 4, c: 4, r0: 4, r1: 3, r2: 3, r3: 4 },\r\n    15: { r: 4, c: 4, r0: 4, r1: 4, r2: 3, r3: 4 },\r\n    16: { r: 4, c: 4, r0: 4, r1: 4, r2: 4, r3: 4 },\r\n  };\r\n  const largeDesktop = {\r\n    ...smallDesktop,\r\n    17: { r: 4, c: 5, r0: 5, r1: 4, r2: 4, r3: 4 },\r\n    18: { r: 4, c: 5, r0: 5, r1: 5, r2: 4, r3: 4 },\r\n    19: { r: 4, c: 5, r0: 5, r1: 5, r2: 5, r3: 4 },\r\n    20: { r: 4, c: 5, r0: 5, r1: 5, r2: 5, r3: 5 },\r\n    21: { r: 5, c: 5, r0: 4, r1: 4, r2: 5, r3: 4, r4: 4 },\r\n    22: { r: 5, c: 5, r0: 4, r1: 5, r2: 4, r3: 5, r4: 4 },\r\n    23: { r: 5, c: 5, r0: 5, r1: 4, r2: 5, r3: 4, r4: 5 },\r\n    24: { r: 5, c: 5, r0: 5, r1: 5, r2: 4, r3: 5, r4: 5 },\r\n    25: { r: 5, c: 5, r0: 5, r1: 5, r2: 5, r3: 5, r4: 5 },\r\n  };\r\n\r\n  const { grid, maxCount } = isMobile\r\n    ? isLandscape\r\n      ? { grid: mobileLandscape, maxCount: 6 }\r\n      : { grid: mobilePortrait, maxCount: 6 }\r\n    : isTab\r\n    ? isLandscape\r\n      ? { grid: tabLandscape, maxCount: 12 }\r\n      : { grid: tabPortrait, maxCount: 12 }\r\n    : isSMDesktop\r\n    ? { grid: smallDesktop, maxCount: 16 }\r\n    : { grid: largeDesktop, maxCount: 25 };\r\n\r\n  const myGrid =\r\n    grid[\r\n      participantsCount\r\n        ? participantsCount > maxCount\r\n          ? maxCount\r\n          : participantsCount\r\n        : 1\r\n    ];\r\n\r\n  return myGrid;\r\n};\r\n\r\nexport const getGridForMainParticipants = ({ participants, gridInfo }) => {\r\n  const singleRow = [];\r\n\r\n  for (let index = 0; index < gridInfo.r; index++) {\r\n    const columnForCurrentRow = gridInfo[`r${index}`];\r\n\r\n    const columns = participants.splice(0, columnForCurrentRow);\r\n\r\n    columns.forEach((participantId, i) => {\r\n      const diff = gridInfo.c - columnForCurrentRow;\r\n\r\n      const relativeWidth = 100 / gridInfo.c;\r\n      const relativeLeft =\r\n        (i * 100) / gridInfo.c + (diff > 0 ? relativeWidth / 2 : 0);\r\n\r\n      const item = {\r\n        participantId,\r\n        relativeHeight: 100 / gridInfo.r,\r\n        relativeWidth,\r\n        relativeTop: (100 * index) / gridInfo.r,\r\n        relativeLeft,\r\n      };\r\n\r\n      singleRow.push(item);\r\n\r\n      return item;\r\n    });\r\n  }\r\n  return { singleRow };\r\n};\r\n\r\nexport const localAndPinnedOnTop = ({\r\n  participants,\r\n  localParticipantId,\r\n  pinnedParticipantIds,\r\n  moveLocalUnpinnedOnTop,\r\n}) => {\r\n  if (pinnedParticipantIds.length > 0) {\r\n    const totalParticipants = participants.length;\r\n    const totalPinnedParticipants = pinnedParticipantIds.length;\r\n\r\n    const localParticipantPinnedIndex = pinnedParticipantIds.findIndex(\r\n      (id) => id === localParticipantId\r\n    );\r\n\r\n    const localParticipantPinned = localParticipantPinnedIndex !== -1;\r\n\r\n    const unPinnedGridParticipants = participants.filter(\r\n      (id) => pinnedParticipantIds.findIndex((_id) => _id === id) === -1\r\n    );\r\n\r\n    const diff = totalParticipants - totalPinnedParticipants;\r\n\r\n    const remaining = unPinnedGridParticipants.splice(0, diff);\r\n\r\n    if (localParticipantPinned) {\r\n      pinnedParticipantIds.splice(localParticipantPinnedIndex, 1);\r\n      pinnedParticipantIds.unshift(localParticipantId);\r\n    }\r\n\r\n    const combined = [...pinnedParticipantIds, ...remaining];\r\n\r\n    if (moveLocalUnpinnedOnTop) {\r\n      const localParticipantIndex = combined.findIndex(\r\n        (pId) => pId === localParticipantId\r\n      );\r\n\r\n      if (localParticipantIndex !== -1) {\r\n        combined.splice(localParticipantIndex, 1);\r\n        combined.unshift(localParticipantId);\r\n      }\r\n    }\r\n\r\n    return combined;\r\n  } else {\r\n    const participantsArr = [...participants];\r\n\r\n    const localParticipantIndex = participantsArr.findIndex(\r\n      (pId) => pId === localParticipantId\r\n    );\r\n\r\n    if (localParticipantIndex !== -1) {\r\n      participantsArr.splice(localParticipantIndex, 1);\r\n      participantsArr.unshift(localParticipantId);\r\n    }\r\n\r\n    return participantsArr;\r\n  }\r\n};\r\n\r\nexport function getRandomColor(varient = \"light\" | \"dark\") {\r\n  var letters = varient === \"light\" ? \"BCDEF\" : \"0123456789ABCDEF\";\r\n  var color = \"#\";\r\n  for (var i = 0; i < 6; i++) {\r\n    color += letters[Math.floor(Math.random() * letters.length)];\r\n  }\r\n  return color;\r\n}\r\n\r\nfunction padZero(str, len) {\r\n  len = len || 2;\r\n  var zeros = new Array(len).join(\"0\");\r\n  return (zeros + str).slice(-len);\r\n}\r\n\r\nexport function invertColor(hex) {\r\n  if (hex.indexOf(\"#\") === 0) {\r\n    hex = hex.slice(1);\r\n  }\r\n  // convert 3-digit hex to 6-digits.\r\n  if (hex.length === 3) {\r\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n  }\r\n  if (hex.length !== 6) {\r\n    throw new Error(\"Invalid HEX color.\");\r\n  }\r\n  // invert color components\r\n  var r = (255 - parseInt(hex.slice(0, 2), 16)).toString(16),\r\n    g = (255 - parseInt(hex.slice(2, 4), 16)).toString(16),\r\n    b = (255 - parseInt(hex.slice(4, 6), 16)).toString(16);\r\n  // pad each with zeros and return\r\n  return \"#\" + padZero(r) + padZero(g) + padZero(b);\r\n}\r\n\r\nexport function validURL(str) {\r\n  var pattern = new RegExp(\r\n    \"^(https?:\\\\/\\\\/)?\" + // protocol\r\n      \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|\" + // domain name\r\n      \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\r\n      \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\r\n      \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\r\n      \"(\\\\#[-a-z\\\\d_]*)?$\",\r\n    \"i\"\r\n  ); // fragment locator\r\n  return pattern.test(str);\r\n}\r\n\r\nexport function calcQuality(participantsCount) {\r\n  if (participantsCount <= 2) {\r\n    return \"s2t2\";\r\n  } else if (participantsCount <= 4) {\r\n    return \"s2t1\";\r\n  } else if (participantsCount <= 6) {\r\n    return \"s1t2\";\r\n  } else if (participantsCount <= 9) {\r\n    return \"s1t1\";\r\n  } else if (participantsCount <= 12) {\r\n    return \"s0t2\";\r\n  } else if (participantsCount <= 16) {\r\n    return \"s0t1\";\r\n  } else {\r\n    return \"s0t0\";\r\n  }\r\n}\r\n\r\nexport const json_verify = (s) => {\r\n  try {\r\n    JSON.parse(s);\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport function formatAMPM(date) {\r\n  console.log(date);\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  console.log(strTime);\r\n  return strTime;\r\n}\r\n\r\nexport const trimSnackBarText = (text = \"\") => {\r\n  const maxLength = 52;\r\n\r\n  return text.length > maxLength ? `${text.substr(0, maxLength - 5)}...` : text;\r\n};\r\n\r\nexport const nameTructed = (name, tructedLength) => {\r\n  if (name?.length > tructedLength) {\r\n    if (tructedLength === 15) {\r\n      return `${name.substr(0, 12)}...`;\r\n    } else {\r\n      return `${name.substr(0, tructedLength)}...`;\r\n    }\r\n  } else {\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const eventEmitter = new EventEmitter();\r\n\r\nexport const appEvents = {\r\n  \"enter-full-screen\": \"enter-full-screen\",\r\n  \"exit-full-screen\": \"exit-full-screen\",\r\n  \"toggle-full-screen\": \"toggle-full-screen\",\r\n  \"participant-visible\": \"participant-visible\",\r\n  \"participant-invisible\": \"participant-invisible\",\r\n};\r\n\r\nexport const extractHostname = (url) => {\r\n  var hostname;\r\n  //find & remove protocol (http, ftp, etc.) and get hostname\r\n\r\n  if (url.indexOf(\"//\") > -1) {\r\n    hostname = url.split(\"/\")[2];\r\n  } else {\r\n    hostname = url.split(\"/\")[0];\r\n  }\r\n\r\n  //find & remove port number\r\n  hostname = hostname.split(\":\")[0];\r\n  //find & remove \"?\"\r\n  hostname = hostname.split(\"?\")[0];\r\n\r\n  return hostname;\r\n};\r\n\r\nexport const extractRootDomain = (url) => {\r\n  var domain = extractHostname(url),\r\n    splitArr = domain.split(\".\"),\r\n    arrLen = splitArr.length;\r\n\r\n  //extracting the root domain here\r\n  //if there is a subdomain\r\n  if (arrLen > 2) {\r\n    domain = splitArr[arrLen - 2] + \".\" + splitArr[arrLen - 1];\r\n    //check to see if it's using a Country Code Top Level Domain (ccTLD) (i.e. \".me.uk\")\r\n    if (\r\n      splitArr[arrLen - 2].length === 2 &&\r\n      splitArr[arrLen - 1].length === 2\r\n    ) {\r\n      //this is using a ccTLD\r\n      domain = splitArr[arrLen - 3] + \".\" + domain;\r\n    }\r\n  }\r\n  return domain;\r\n};\r\n\r\nexport const getUniqueId = () => {\r\n  return Math.random().toString(36).substring(2, 10);\r\n};\r\n\r\nexport function debounce(func, wait, immediate) {\r\n  var timeout;\r\n\r\n  return function executedFunction() {\r\n    var context = this;\r\n    var args = arguments;\r\n\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n\r\n    var callNow = immediate && !timeout;\r\n\r\n    clearTimeout(timeout);\r\n\r\n    timeout = setTimeout(later, wait);\r\n\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n","import { useMediaQuery } from \"react-responsive\";\r\n\r\nconst useIsMobile = (maxWidth) => {\r\n  const isMobile = useMediaQuery({ maxWidth: maxWidth || 767 });\r\n  return isMobile;\r\n};\r\n\r\nexport default useIsMobile;\r\n","import { useMediaQuery } from \"react-responsive\";\r\n\r\nconst useIsTab = () => {\r\n  const isTablet = useMediaQuery({\r\n    minWidth: 768,\r\n    maxWidth: 1223, // 991,\r\n  });\r\n\r\n  return isTablet;\r\n};\r\n\r\nexport default useIsTab;\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport {\r\n  useContext,\r\n  createContext,\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useMemo,\r\n} from \"react\";\r\nimport { RECORDER_MAX_GRID_SIZE } from \"./CONSTS\";\r\nimport { validURL } from \"./utils/common\";\r\nimport useIsMobile from \"./utils/useIsMobile\";\r\nimport useIsTab from \"./utils/useIsTab\";\r\n\r\nexport const MeetingAppContext = createContext();\r\n\r\nexport const useMeetingAppContext = () => useContext(MeetingAppContext);\r\n\r\nexport const sideBarModes = {\r\n  PARTICIPANTS: \"PARTICIPANTS\",\r\n  CHAT: \"CHAT\",\r\n  ACTIVITIES: \"ACTIVITIES\",\r\n  ADD_LIVE_STREAM: \"ADD_LIVE_STREAM\",\r\n  CONFIGURATION: \"CONFIGURATION\",\r\n};\r\n\r\nexport const sideBarNestedModes = {\r\n  POLLS: \"POLLS\",\r\n  CREATE_POLL: \"CREATE_POLL\",\r\n  QNA: \"QNA\",\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.text.primary,\r\n  },\r\n}));\r\n\r\nexport const meetingLayouts = {\r\n  SPOTLIGHT: \"SPOTLIGHT\",\r\n  SIDEBAR: \"SIDEBAR\",\r\n  GRID: \"GRID\",\r\n  UNPINNED_SIDEBAR: \"UNPINNED_SIDEBAR\",\r\n  UNPINNED_SPOTLIGHT: \"UNPINNED_SPOTLIGHT\",\r\n};\r\n\r\nexport const meetingLayoutPriorities = {\r\n  SPEAKER: \"SPEAKER\",\r\n  PIN: \"PIN\",\r\n};\r\n\r\nexport const meetingLayoutTopics = {\r\n  MEETING_LAYOUT: \"MEETING_LAYOUT\",\r\n  RECORDING_LAYOUT: \"RECORDING_LAYOUT\",\r\n  LIVE_STREAM_LAYOUT: \"LIVE_STREAM_LAYOUT\",\r\n  HLS_LAYOUT: \"HLS_LAYOUT\",\r\n};\r\n\r\nexport const MeetingAppProvider = ({\r\n  children,\r\n  redirectOnLeave,\r\n  chatEnabled,\r\n  screenShareEnabled,\r\n  pollEnabled,\r\n  whiteboardEnabled,\r\n  participantCanToggleSelfWebcam,\r\n  participantCanToggleSelfMic,\r\n  raiseHandEnabled,\r\n  recordingEnabled,\r\n  recordingWebhookUrl,\r\n  recordingAWSDirPath,\r\n  autoStartRecording,\r\n  autoStartHls,\r\n  participantCanToggleRecording,\r\n  participantCanToggleHls,\r\n  brandingEnabled,\r\n  brandLogoURL,\r\n  brandName,\r\n  participantCanLeave,\r\n  participantCanEndMeeting,\r\n  poweredBy,\r\n  liveStreamEnabled,\r\n  hlsEnabled,\r\n  autoStartLiveStream,\r\n  // liveStreamLayoutType,\r\n  // liveStreamLayoutPriority,\r\n  // liveStreamLayoutGridSize,\r\n  liveStreamOutputs,\r\n  askJoin,\r\n  participantCanToggleOtherMic,\r\n  participantCanToggleOtherWebcam,\r\n  partcipantCanToogleOtherScreenShare,\r\n  participantCanToggleOtherMode,\r\n  canRemoveOtherParticipant,\r\n  notificationSoundEnabled,\r\n  canPin,\r\n  canCreatePoll,\r\n  selectedMic,\r\n  selectedWebcam,\r\n  joinScreenWebCam,\r\n  joinScreenMic,\r\n  canToggleWhiteboard,\r\n  canDrawOnWhiteboard,\r\n  meetingLeft,\r\n  setMeetingLeft,\r\n  animationsEnabled,\r\n  topbarEnabled,\r\n  notificationAlertsEnabled,\r\n  debug,\r\n  mode,\r\n  layoutType,\r\n  layoutPriority,\r\n  meetingLayoutTopic,\r\n  layoutGridSize,\r\n  // recordingLayoutType,\r\n  // recordingLayoutPriority,\r\n  // recordingLayoutGridSize,\r\n  hideLocalParticipant,\r\n  alwaysShowOverlay,\r\n  sideStackSize,\r\n  canChangeLayout,\r\n\r\n  participantCanToggleLivestream,\r\n  reduceEdgeSpacing,\r\n  isRecorder,\r\n  maintainVideoAspectRatio,\r\n  networkBarEnabled,\r\n  hlsPlayerControlsVisible,\r\n}) => {\r\n  const containerRef = useRef();\r\n  const endCallContainerRef = useRef();\r\n\r\n  const classes = useStyles();\r\n  const [sideBarMode, setSideBarMode] = useState(null);\r\n  const [sideBarNestedMode, setSideBarNestedMode] = useState(null);\r\n  const [activeSortedParticipants, setActiveSortedParticipants] = useState([]);\r\n  const [mainViewParticipants, setMainViewParticipants] = useState([]);\r\n  const [overlaidInfoVisible, setOverlaidInfoVisible] = useState(true);\r\n  const [raisedHandsParticipants, setRaisedHandsParticipants] = useState([]);\r\n  const [userHasInteracted, setUserHasInteracted] = useState(true);\r\n  const [whiteboardState, setWhiteboardState] = useState({\r\n    started: false,\r\n    state: null,\r\n  });\r\n  const [appMeetingLayout, setAppMeetingLayout] = useState({\r\n    type: layoutType,\r\n    gridSize: isRecorder ? RECORDER_MAX_GRID_SIZE : layoutGridSize,\r\n    priority: layoutPriority,\r\n  });\r\n  const [liveStreamConfig, setLiveStreamConfig] = useState([]);\r\n  const [meetingMode, setMeetingMode] = useState(mode);\r\n  const [downstreamUrl, setDownstreamUrl] = useState(null);\r\n  const [afterMeetingJoinedHLSState, setAfterMeetingJoinedHLSState] =\r\n    useState(null);\r\n\r\n  const [draftPolls, setDraftPolls] = useState([]);\r\n  const [optionArr, setOptionArr] = useState([\r\n    // {\r\n    //   id: uuid(),\r\n    //   question: null,\r\n    //   options: [{ optionId: uuid(), option: null, isCorrect: false }],\r\n    //   createdAt: new Date(),\r\n    //   timeout: 0,\r\n    //   isActive: false,\r\n    // },\r\n  ]);\r\n\r\n  const [createdPolls, setCreatedPolls] = useState([]);\r\n  const [endedPolls, setEndedPolls] = useState([]);\r\n  const [submissions, setSubmissions] = useState([]);\r\n\r\n  const polls = useMemo(\r\n    () =>\r\n      createdPolls.map((poll) => ({\r\n        ...poll,\r\n        isActive:\r\n          endedPolls.findIndex(({ pollId }) => pollId === poll.id) === -1,\r\n      })),\r\n    [createdPolls, endedPolls]\r\n  );\r\n\r\n  const whiteboardStarted = useMemo(\r\n    () => whiteboardState.started,\r\n    [whiteboardState]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!validURL(redirectOnLeave)) {\r\n      throw new Error(\"Ridirect url not valid\");\r\n    }\r\n  }, [redirectOnLeave]);\r\n\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n\r\n  const meetingLayout = useMemo(() => {\r\n    return appMeetingLayout.priority === \"PIN\"\r\n      ? appMeetingLayout.type === meetingLayouts.SPOTLIGHT\r\n        ? meetingLayouts.SPOTLIGHT\r\n        : appMeetingLayout.type === meetingLayouts.SIDEBAR\r\n        ? meetingLayouts.SIDEBAR\r\n        : meetingLayouts.GRID\r\n      : appMeetingLayout.type === meetingLayouts.SPOTLIGHT\r\n      ? meetingLayouts.UNPINNED_SPOTLIGHT\r\n      : appMeetingLayout.type === meetingLayouts.SIDEBAR\r\n      ? meetingLayouts.UNPINNED_SIDEBAR\r\n      : meetingLayouts.GRID;\r\n  }, [appMeetingLayout, meetingLayouts]);\r\n\r\n  return (\r\n    <MeetingAppContext.Provider\r\n      value={{\r\n        // default options\r\n        selectedMic,\r\n        selectedWebcam,\r\n        joinScreenWebCam,\r\n        joinScreenMic,\r\n        canChangeLayout,\r\n        participantCanToggleLivestream,\r\n        // refs\r\n        containerRef,\r\n        endCallContainerRef,\r\n\r\n        // params\r\n        redirectOnLeave,\r\n        chatEnabled,\r\n        screenShareEnabled,\r\n        pollEnabled,\r\n        whiteboardEnabled,\r\n        participantCanToggleSelfWebcam,\r\n        participantCanToggleSelfMic,\r\n        raiseHandEnabled,\r\n        recordingEnabled,\r\n        meetingLayoutTopic,\r\n        recordingWebhookUrl,\r\n        recordingAWSDirPath,\r\n        autoStartRecording,\r\n        autoStartHls,\r\n        participantCanToggleRecording,\r\n        participantCanToggleHls,\r\n        brandingEnabled,\r\n        brandLogoURL,\r\n        brandName,\r\n        participantCanLeave,\r\n        participantCanEndMeeting,\r\n        poweredBy,\r\n        liveStreamEnabled,\r\n        hlsEnabled,\r\n        autoStartLiveStream,\r\n        // liveStreamLayoutType,\r\n        // liveStreamLayoutPriority,\r\n        // liveStreamLayoutGridSize,\r\n        liveStreamOutputs,\r\n        askJoin,\r\n        participantCanToggleOtherMic,\r\n        participantCanToggleOtherWebcam,\r\n        partcipantCanToogleOtherScreenShare,\r\n        participantCanToggleOtherMode,\r\n        canRemoveOtherParticipant,\r\n        notificationSoundEnabled,\r\n        canToggleWhiteboard,\r\n        canDrawOnWhiteboard,\r\n        canCreatePoll,\r\n        animationsEnabled,\r\n        topbarEnabled,\r\n        notificationAlertsEnabled,\r\n        debug,\r\n        mode,\r\n        layoutPriority: appMeetingLayout.priority,\r\n        layoutGridSize: appMeetingLayout.gridSize,\r\n        // recordingLayoutType,\r\n        // recordingLayoutPriority,\r\n        // recordingLayoutGridSize,\r\n        hideLocalParticipant,\r\n        alwaysShowOverlay,\r\n        sideStackSize,\r\n        reduceEdgeSpacing,\r\n        isRecorder,\r\n        maintainVideoAspectRatio,\r\n        networkBarEnabled,\r\n\r\n        // states\r\n        sideBarMode,\r\n        activeSortedParticipants,\r\n        mainViewParticipants,\r\n        overlaidInfoVisible,\r\n        raisedHandsParticipants,\r\n        userHasInteracted,\r\n        whiteboardStarted,\r\n        whiteboardState,\r\n        meetingLayout,\r\n        appMeetingLayout,\r\n        canPin,\r\n        meetingLeft,\r\n        liveStreamConfig,\r\n        meetingMode,\r\n        downstreamUrl,\r\n        optionArr,\r\n        polls,\r\n        draftPolls,\r\n        sideBarNestedMode,\r\n        hlsPlayerControlsVisible,\r\n        createdPolls,\r\n        endedPolls,\r\n        submissions,\r\n        afterMeetingJoinedHLSState,\r\n\r\n        // setters\r\n        setSideBarMode,\r\n        setActiveSortedParticipants,\r\n        setMainViewParticipants,\r\n        setOverlaidInfoVisible,\r\n        setRaisedHandsParticipants,\r\n        setUserHasInteracted,\r\n        setWhiteboardState,\r\n        setMeetingLeft,\r\n        setLiveStreamConfig,\r\n        setAppMeetingLayout,\r\n        setMeetingMode,\r\n        setDownstreamUrl,\r\n        setOptionArr,\r\n        setDraftPolls,\r\n        setSideBarNestedMode,\r\n        setCreatedPolls,\r\n        setEndedPolls,\r\n        setSubmissions,\r\n        setAfterMeetingJoinedHLSState,\r\n      }}\r\n    >\r\n      <SnackbarProvider\r\n        className={classes.container}\r\n        autoHideDuration={5000}\r\n        maxSnack={3}\r\n        anchorOrigin={{\r\n          vertical: isTab || isMobile ? \"top\" : \"bottom\",\r\n          horizontal: \"left\",\r\n        }}\r\n      >\r\n        {children}\r\n      </SnackbarProvider>\r\n    </MeetingAppContext.Provider>\r\n  );\r\n};\r\n","import { useMediaQuery, useTheme } from \"@material-ui/core\";\r\n\r\n/**\r\n *\r\n * @param {{\r\n * xs: number\r\n * sm: number\r\n * md: number\r\n * lg: number\r\n * xl: number\r\n * }} param0\r\n *\r\n */\r\n\r\nconst useResponsiveSize = ({ xs, sm, md, lg, xl }) => {\r\n  const theme = useTheme();\r\n  const gtThenXS = useMediaQuery(theme.breakpoints.up(\"xs\"));\r\n  const gtThenSM = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const gtThenMD = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const gtThenLG = useMediaQuery(theme.breakpoints.up(\"lg\"));\r\n  const gtThenXL = useMediaQuery(theme.breakpoints.up(\"xl\"));\r\n\r\n  return gtThenXL\r\n    ? xl\r\n    : gtThenLG\r\n    ? lg\r\n    : gtThenMD\r\n    ? md\r\n    : gtThenSM\r\n    ? sm\r\n    : gtThenXS\r\n    ? xs\r\n    : lg;\r\n};\r\n\r\nexport default useResponsiveSize;\r\n","import { useMediaQuery } from \"react-responsive\";\r\n\r\nconst useIsLGDesktop = () => {\r\n  const isBigScreen = useMediaQuery({ query: \"(min-width: 1824px)\" });\r\n  return isBigScreen;\r\n};\r\n\r\nexport default useIsLGDesktop;\r\n","import * as React from \"react\";\r\n\r\nfunction NetworkIcon(props) {\r\n  return (\r\n    <svg\r\n      width=\"16\"\r\n      height=\"16\"\r\n      viewBox=\"0 0 16 16\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...props}\r\n    >\r\n      <path d=\"M3.8 9.33333H2V13H3.8V9.33333Z\" fill={props.color1} />\r\n      <path d=\"M7.39998 7.5H5.59998V13H7.39998V7.5Z\" fill={props.color2} />\r\n      <path d=\"M11 5.20831H9.20001V13H11V5.20831Z\" fill={props.color3} />\r\n      <path d=\"M14.6 2H12.8V13H14.6V2Z\" fill={props.color4} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default NetworkIcon;\r\n","import { Box, Typography, useTheme } from \"@material-ui/core\";\r\nimport { useMeeting, useParticipant } from \"@videosdk.live/react-sdk\";\r\nimport React, { useEffect, useRef, useMemo, useState } from \"react\";\r\nimport { MicOff } from \"../../icons\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport {\r\n  invertColor,\r\n  getRandomColor,\r\n  eventEmitter,\r\n  appEvents,\r\n  nameTructed,\r\n} from \"../../utils/common\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport Lottie from \"react-lottie\";\r\nimport animationData from \"../../animations/equaliser.json\";\r\nimport circleRipple from \"../../animations/circleRipple.json\";\r\nimport { Pin } from \"../../icons\";\r\nimport useIsLGDesktop from \"../../utils/useIsLGDesktop\";\r\nimport ReactPlayer from \"react-player\";\r\nimport NetworkIcon from \"../../icons/NetworkIcon\";\r\n\r\nexport const CornerDisplayName = ({\r\n  participantId,\r\n  isPresenting,\r\n  displayName,\r\n  isLocal,\r\n  micOn,\r\n  isActiveSpeaker,\r\n  webcamOn,\r\n  pinState,\r\n  pin,\r\n  unpin,\r\n  mouseOver,\r\n}) => {\r\n  const theme = useTheme();\r\n\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n  const isLGDesktop = useIsLGDesktop();\r\n\r\n  const {\r\n    overlaidInfoVisible,\r\n    canPin,\r\n    animationsEnabled,\r\n    alwaysShowOverlay,\r\n    networkBarEnabled,\r\n  } = useMeetingAppContext();\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  const analyzerSize = useResponsiveSize({\r\n    xl: 32,\r\n    lg: 28,\r\n    md: 24,\r\n    sm: 20,\r\n    xs: 18,\r\n  });\r\n\r\n  const show = useMemo(\r\n    () =>\r\n      alwaysShowOverlay || mouseOver || isActiveSpeaker || overlaidInfoVisible,\r\n    [alwaysShowOverlay, mouseOver, isActiveSpeaker, overlaidInfoVisible]\r\n  );\r\n\r\n  const isPinned = useMemo(() => pinState?.share || pinState?.cam, [pinState]);\r\n\r\n  const showPin = useMemo(\r\n    () => (alwaysShowOverlay ? isPinned : isPinned || mouseOver),\r\n    [alwaysShowOverlay, isPinned, mouseOver]\r\n  );\r\n\r\n  const { webcamStream, micStream, getVideoStats, getAudioStats } =\r\n    useParticipant(participantId);\r\n\r\n  const statsIntervalIdRef = useRef();\r\n  const [score, setScore] = useState({});\r\n\r\n  const updateStats = async () => {\r\n    let stats = {};\r\n    if (webcamStream) {\r\n      stats = await getVideoStats();\r\n    } else if (micStream) {\r\n      stats = await getAudioStats();\r\n    }\r\n    setScore(stats?.score);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (networkBarEnabled) {\r\n      if (webcamStream || micStream) {\r\n        updateStats();\r\n\r\n        if (statsIntervalIdRef.current) {\r\n          clearInterval(statsIntervalIdRef.current);\r\n        }\r\n\r\n        statsIntervalIdRef.current = setInterval(updateStats, 10000);\r\n      } else {\r\n        if (statsIntervalIdRef.current) {\r\n          clearInterval(statsIntervalIdRef.current);\r\n          statsIntervalIdRef.current = null;\r\n        }\r\n      }\r\n\r\n      return () => {\r\n        if (statsIntervalIdRef.current)\r\n          clearInterval(statsIntervalIdRef.current);\r\n      };\r\n    }\r\n  }, [webcamStream, micStream, networkBarEnabled]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}\r\n        style={{\r\n          position: \"absolute\",\r\n          bottom: show ? (isMobile ? 4 : isTab ? 8 : 12) : -32,\r\n          left: show ? (isMobile ? 4 : isTab ? 8 : 12) : -42,\r\n          opacity: show ? 1 : 0,\r\n          paddingTop: isMobile ? 2 : isTab ? 3 : 4,\r\n          paddingBottom: isMobile ? 2 : isTab ? 3 : 4,\r\n          paddingLeft: isMobile ? 4 : isTab ? 6 : 8,\r\n          paddingRight: isMobile ? 4 : isTab ? 6 : 8,\r\n          transform: `scale(${show ? 1 : 0})`,\r\n          backgroundColor: \"#00000066\",\r\n          borderRadius: 6,\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"linear\",\r\n        }}\r\n      >\r\n        {(webcamStream || micStream) && networkBarEnabled && (\r\n          <NetworkIcon\r\n            color1={score > 8 ? \"#3BA55D\" : score > 5 ? \"#F1CC4A\" : \"#FF5D5D\"}\r\n            color2={score > 8 ? \"#3BA55D\" : score > 5 ? \"#F1CC4A\" : \"#FF5D5D\"}\r\n            color3={score > 8 ? \"#3BA55D\" : score > 5 ? \"#F1CC4A\" : \"#FFDBDB\"}\r\n            color4={score > 8 ? \"#3BA55D\" : score > 5 ? \"#69571F\" : \"#FFDBDB\"}\r\n            style={{ marginRight: analyzerSize / 4 }}\r\n          />\r\n        )}\r\n        <Typography\r\n          variant={isLGDesktop ? \"subtitle1\" : \"subtitle2\"}\r\n          style={{\r\n            justifyContent: \"center\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            lineHeight: 1,\r\n          }}\r\n        >\r\n          {isPresenting\r\n            ? isLocal\r\n              ? `You are presenting`\r\n              : `${nameTructed(displayName, 15)} is presenting`\r\n            : isLocal\r\n            ? \"You\"\r\n            : nameTructed(displayName, 26)}\r\n        </Typography>\r\n      </div>\r\n      {canPin && (\r\n        <div\r\n          className=\"pinClass\"\r\n          style={{\r\n            position: \"absolute\",\r\n            right: showPin ? (isMobile ? 4 : isTab ? 8 : 12) : -42,\r\n            bottom: showPin ? (isMobile ? 4 : isTab ? 8 : 12) : -32,\r\n            transform: `scale(${showPin ? 1 : 0})`,\r\n            transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"linear\",\r\n          }}\r\n        >\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              isPinned ? unpin() : pin();\r\n            }}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              padding: isMobile ? 3 : isTab ? 4 : 5,\r\n              backgroundColor: isPinned ? \"white\" : \"#0000004d\",\r\n            }}\r\n          >\r\n            <Pin\r\n              fill={isPinned ? \"#000\" : \"#ffffffb3\"}\r\n              style={{\r\n                height: analyzerSize * 0.6,\r\n                width: analyzerSize * 0.6,\r\n              }}\r\n            />\r\n          </IconButton>\r\n        </div>\r\n      )}\r\n      {(!micOn || (webcamOn && isActiveSpeaker)) && (\r\n        <div\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n          }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: show ? (isMobile ? 4 : isTab ? 8 : 12) : -32,\r\n            right: show ? (isMobile ? 4 : isTab ? 8 : 12) : -42,\r\n            transform: `scale(${show ? 1 : 0})`,\r\n            padding: isMobile ? 2 : isTab ? 3 : 4,\r\n            backgroundColor: isActiveSpeaker\r\n              ? \"#00000066\"\r\n              : micOn\r\n              ? undefined\r\n              : \"#D32F2Fcc\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            borderRadius: 24,\r\n            transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"linear\",\r\n          }}\r\n        >\r\n          {webcamOn && isActiveSpeaker ? (\r\n            <Lottie\r\n              options={defaultOptions}\r\n              eventListeners={[{ eventName: \"done\" }]}\r\n              height={analyzerSize}\r\n              width={analyzerSize}\r\n              isClickToPauseDisabled\r\n            />\r\n          ) : micOn ? null : (\r\n            <MicOff\r\n              style={{\r\n                color: theme.palette.common.white,\r\n                height: (analyzerSize * 2) / 3,\r\n                width: (analyzerSize * 2) / 3,\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst ParticipantViewer = ({ participantId, quality, useVisibilitySensor }) => {\r\n  const videoPlayer = useRef();\r\n  const [videoDivWrapperRef, setVideoDivWrapperRef] = useState(null);\r\n  const [mouseOver, setMouseOver] = useState(false);\r\n  const [portrait, setPortrait] = useState(false);\r\n\r\n  const mMeeting = useMeeting();\r\n\r\n  const presenterId = mMeeting?.presenterId;\r\n\r\n  const {\r\n    setOverlaidInfoVisible,\r\n    whiteboardStarted,\r\n    animationsEnabled,\r\n    isRecorder,\r\n    maintainVideoAspectRatio,\r\n  } = useMeetingAppContext();\r\n\r\n  const onStreamEnabled = (stream) => {\r\n    // console.log(participantId, stream.kind, \" Stream started \");\r\n  };\r\n\r\n  const onStreamDisabled = (stream) => {\r\n    // console.log(participantId, stream.kind, \" Stream stopped \");\r\n  };\r\n\r\n  const {\r\n    displayName,\r\n    setQuality,\r\n    setViewPort,\r\n    webcamStream,\r\n    webcamOn,\r\n    micOn,\r\n    isLocal,\r\n    isActiveSpeaker,\r\n    pinState,\r\n    pin,\r\n    unpin,\r\n  } = useParticipant(participantId, {\r\n    onStreamDisabled,\r\n    onStreamEnabled,\r\n  });\r\n\r\n  const mediaStream = useMemo(() => {\r\n    if (webcamOn && webcamStream) {\r\n      const mediaStream = new MediaStream();\r\n      mediaStream.addTrack(webcamStream.track);\r\n      return mediaStream;\r\n    }\r\n  }, [webcamStream, webcamOn]);\r\n\r\n  const participantAccentColor = useMemo(() => getRandomColor(\"light\"), []);\r\n\r\n  const theme = useTheme();\r\n\r\n  // useEffect(() => {\r\n  //   if (!quality || isRecorder) return;\r\n\r\n  // setQuality(quality);\r\n  // }, [quality, setQuality, isRecorder]);\r\n\r\n  const dpSize = useResponsiveSize({\r\n    xl: 92,\r\n    lg: 52,\r\n    md: 52,\r\n    sm: 52,\r\n    xs: 52,\r\n  });\r\n\r\n  const flipStyle = useMemo(\r\n    () =>\r\n      isLocal ? { transform: \"scaleX(-1)\", WebkitTransform: \"scaleX(-1)\" } : {},\r\n    [isLocal]\r\n  );\r\n\r\n  const defaultRippleOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: circleRipple,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (!presenterId) {\r\n  //     typeof webcamStream?.resume === \"function\" && webcamStream?.resume();\r\n  //   }\r\n  // }, [presenterId, webcamOn, webcamStream]);\r\n\r\n  useEffect(() => {\r\n    if (isRecorder) {\r\n      setQuality(\"high\");\r\n    }\r\n  }, [isRecorder]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      videoDivWrapperRef?.offsetWidth &&\r\n      videoDivWrapperRef?.offsetHeight &&\r\n      !isRecorder &&\r\n      !isLocal &&\r\n      webcamStream\r\n    ) {\r\n      setViewPort(\r\n        videoDivWrapperRef?.offsetWidth,\r\n        videoDivWrapperRef?.offsetHeight\r\n      );\r\n    }\r\n  }, [isRecorder, isLocal, videoDivWrapperRef, webcamStream]);\r\n\r\n  useEffect(() => {\r\n    eventEmitter.emit(appEvents[\"participant-visible\"], {\r\n      participantId,\r\n    });\r\n\r\n    return () => {\r\n      eventEmitter.emit(appEvents[\"participant-invisible\"], {\r\n        participantId,\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  const checkAndUpdatePortrait = () => {\r\n    if (webcamStream && maintainVideoAspectRatio) {\r\n      const { height, width } = webcamStream.track.getSettings();\r\n      if (height > width && !portrait) {\r\n        setPortrait(true);\r\n      } else if (height < width && portrait) {\r\n        setPortrait(false);\r\n      }\r\n    } else {\r\n      setPortrait(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VisibilitySensor\r\n      active\r\n      // active={!!useVisibilitySensor}\r\n      onChange={(isVisible) => {\r\n        if (isVisible) {\r\n          eventEmitter.emit(appEvents[\"participant-visible\"], {\r\n            participantId,\r\n          });\r\n        } else {\r\n          eventEmitter.emit(appEvents[\"participant-invisible\"], {\r\n            participantId,\r\n          });\r\n        }\r\n        //\r\n        // if (useVisibilitySensor) {\r\n        //   if (isVisible) {\r\n        //     typeof webcamStream?.resume === \"function\" &&\r\n        //       webcamStream?.resume();\r\n        //   } else {\r\n        //     typeof webcamStream?.pause === \"function\" && webcamStream?.pause();\r\n        //   }\r\n        // } else {\r\n        //   typeof webcamStream?.resume === \"function\" && webcamStream?.resume();\r\n        // }\r\n      }}\r\n    >\r\n      <div\r\n        ref={setVideoDivWrapperRef}\r\n        onMouseEnter={() => {\r\n          setMouseOver(true);\r\n        }}\r\n        onMouseLeave={() => {\r\n          setMouseOver(false);\r\n        }}\r\n        onDoubleClick={() => {\r\n          eventEmitter.emit(appEvents[\"toggle-full-screen\"]);\r\n        }}\r\n        onClick={() => {\r\n          setOverlaidInfoVisible((s) => !s);\r\n        }}\r\n        style={{\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          backgroundColor: theme.palette.background.paper,\r\n          position: \"relative\",\r\n          overflow: \"hidden\",\r\n          borderRadius: theme.spacing(1),\r\n        }}\r\n        className={`${!portrait ? \"video-cover\" : \"\"}`}\r\n      >\r\n        {webcamOn ? (\r\n          <>\r\n            <ReactPlayer\r\n              ref={videoPlayer}\r\n              //\r\n              playsinline // very very imp prop\r\n              playIcon={<></>}\r\n              //\r\n              pip={false}\r\n              light={false}\r\n              controls={false}\r\n              muted={true}\r\n              playing={true}\r\n              //\r\n              url={mediaStream}\r\n              //\r\n              height={\"100%\"}\r\n              width={\"100%\"}\r\n              style={flipStyle}\r\n              onError={(err) => {\r\n                console.log(err, \"participant video error\");\r\n              }}\r\n              onProgress={() => {\r\n                checkAndUpdatePortrait();\r\n              }}\r\n            />\r\n          </>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              height: \"100%\",\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            {isActiveSpeaker && (\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  left: 0,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <Lottie\r\n                  options={defaultRippleOptions}\r\n                  eventListeners={[{ eventName: \"done\" }]}\r\n                  height={\r\n                    (dpSize / (presenterId || whiteboardStarted ? 2 : 1)) * 2\r\n                  }\r\n                  width={\r\n                    (dpSize / (presenterId || whiteboardStarted ? 2 : 1)) * 2\r\n                  }\r\n                  isClickToPauseDisabled\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <Box\r\n              style={{\r\n                zIndex: 10,\r\n                height: dpSize / (presenterId || whiteboardStarted ? 2 : 1),\r\n                width: dpSize / (presenterId || whiteboardStarted ? 2 : 1),\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                borderRadius: 100,\r\n                backgroundColor: participantAccentColor,\r\n                transition: animationsEnabled\r\n                  ? \"height 800ms, width 800ms\"\r\n                  : undefined,\r\n                transitionTimingFunction: \"ease-in-out\",\r\n              }}\r\n            >\r\n              <Typography\r\n                variant=\"h5\"\r\n                style={{ color: invertColor(participantAccentColor) }}\r\n              >\r\n                {String(displayName).charAt(0).toUpperCase()}\r\n              </Typography>\r\n            </Box>\r\n          </div>\r\n        )}\r\n\r\n        <CornerDisplayName\r\n          {...{\r\n            isLocal,\r\n            displayName,\r\n            micOn,\r\n            webcamOn,\r\n            isPresenting: false,\r\n            isActiveSpeaker,\r\n            pin,\r\n            unpin,\r\n            pinState,\r\n            participantId,\r\n            mouseOver,\r\n          }}\r\n        />\r\n      </div>\r\n    </VisibilitySensor>\r\n  );\r\n};\r\n\r\nexport default ParticipantViewer;\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { ScreenShare } from \"@material-ui/icons\";\r\nimport { useMeeting, useParticipant } from \"@videosdk.live/react-sdk\";\r\nimport { Box, Button, Typography, useTheme } from \"@material-ui/core\";\r\nimport ParticipantViewer, { CornerDisplayName } from \"./ParticipantViewer\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport {\r\n  appEvents,\r\n  eventEmitter,\r\n  getGridForMainParticipants,\r\n  getGridRowsAndColumns,\r\n  localAndPinnedOnTop,\r\n} from \"../../utils/common\";\r\nimport {\r\n  meetingLayouts,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport ReactPlayer from \"react-player\";\r\n\r\nconst PresenterView = ({ presenterId }) => {\r\n  const mMeeting = useMeeting();\r\n  const videoPlayer = useRef();\r\n  const {\r\n    webcamOn,\r\n    micOn,\r\n    isLocal,\r\n    screenShareStream,\r\n    screenShareAudioStream,\r\n    screenShareOn,\r\n    displayName,\r\n    pin,\r\n    unpin,\r\n    pinState,\r\n  } = useParticipant(presenterId);\r\n  const toggleScreenShare = mMeeting?.toggleScreenShare;\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n  const pinnedParticipants = mMeeting?.pinnedParticipants;\r\n\r\n  const isMobile = useIsMobile();\r\n  const {\r\n    setOverlaidInfoVisible,\r\n    mainViewParticipants,\r\n    meetingLayout,\r\n    animationsEnabled,\r\n  } = useMeetingAppContext();\r\n  const isPortrait = useMediaQuery({ query: \"(orientation: portrait)\" });\r\n\r\n  const theme = useTheme();\r\n\r\n  const [mouseOver, setMouseOver] = useState(false);\r\n\r\n  const mediaStream = useMemo(() => {\r\n    if (screenShareOn) {\r\n      const mediaStream = new MediaStream();\r\n      mediaStream.addTrack(screenShareStream.track);\r\n      return mediaStream;\r\n    }\r\n  }, [screenShareStream, screenShareOn]);\r\n\r\n  const mobilePortrait = isMobile && isPortrait;\r\n\r\n  const { singleRow } = useMemo(() => {\r\n    let mainParticipants = [...mainViewParticipants];\r\n\r\n    const participants = localAndPinnedOnTop({\r\n      localParticipantId,\r\n      participants: mainParticipants,\r\n      pinnedParticipantIds: [...pinnedParticipants.keys()],\r\n      moveLocalUnpinnedOnTop:\r\n        pinnedParticipants.size && meetingLayout !== meetingLayouts.GRID\r\n          ? false\r\n          : true,\r\n    });\r\n\r\n    const splicesActiveParticipants = participants.splice(0, 4);\r\n\r\n    const gridInfo = getGridRowsAndColumns({\r\n      participantsCount: splicesActiveParticipants.length,\r\n    });\r\n\r\n    return getGridForMainParticipants({\r\n      participants: splicesActiveParticipants,\r\n      gridInfo,\r\n    });\r\n  }, [\r\n    mainViewParticipants,\r\n    localParticipantId,\r\n    pinnedParticipants,\r\n    meetingLayout,\r\n  ]);\r\n\r\n  const audioPlayer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !isLocal &&\r\n      audioPlayer.current &&\r\n      screenShareOn &&\r\n      screenShareAudioStream\r\n    ) {\r\n      const mediaStream = new MediaStream();\r\n      mediaStream.addTrack(screenShareAudioStream.track);\r\n\r\n      audioPlayer.current.srcObject = mediaStream;\r\n      audioPlayer.current.play().catch((err) => {\r\n        if (\r\n          err.message ===\r\n          \"play() failed because the user didn't interact with the document first. https://goo.gl/xX8pDD\"\r\n        ) {\r\n          console.error(\"audio\" + err.message);\r\n        }\r\n      });\r\n    } else {\r\n      audioPlayer.current.srcObject = null;\r\n    }\r\n  }, [screenShareAudioStream, screenShareOn, isLocal]);\r\n\r\n  return (\r\n    <div\r\n      onMouseEnter={() => {\r\n        setMouseOver(true);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setMouseOver(false);\r\n      }}\r\n      onDoubleClick={() => {\r\n        eventEmitter.emit(appEvents[\"toggle-full-screen\"]);\r\n      }}\r\n      onClick={() => {\r\n        setOverlaidInfoVisible((s) => !s);\r\n      }}\r\n      style={{\r\n        position: \"relative\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        backgroundColor: \"black\",\r\n        alignItems:\r\n          mobilePortrait && meetingLayout !== meetingLayouts.SPOTLIGHT\r\n            ? undefined\r\n            : \"center\",\r\n        justifyContent:\r\n          mobilePortrait && meetingLayout !== meetingLayouts.SPOTLIGHT\r\n            ? undefined\r\n            : \"center\",\r\n        display:\r\n          mobilePortrait && meetingLayout !== meetingLayouts.SPOTLIGHT\r\n            ? undefined\r\n            : \"flex\",\r\n      }}\r\n    >\r\n      <audio autoPlay playsInline controls={false} ref={audioPlayer} />\r\n\r\n      <div\r\n        style={{\r\n          height: mobilePortrait ? \"50%\" : \"100%\",\r\n          width: \"100%\",\r\n          position: \"relative\",\r\n        }}\r\n        className={\"video-contain\"}\r\n      >\r\n        <>\r\n          <ReactPlayer\r\n            ref={videoPlayer}\r\n            //\r\n            playsinline // very very imp prop\r\n            playIcon={<></>}\r\n            //\r\n            pip={false}\r\n            light={false}\r\n            controls={false}\r\n            muted={true}\r\n            playing={true}\r\n            //\r\n            url={mediaStream}\r\n            //\r\n            height={\"100%\"}\r\n            width={\"100%\"}\r\n            style={{\r\n              filter: isLocal ? \"blur(1rem)\" : undefined,\r\n            }}\r\n            onError={(err) => {\r\n              console.log(err, \"presenter video error\");\r\n            }}\r\n          />\r\n        </>\r\n        {isLocal && (\r\n          <Box\r\n            p={5}\r\n            style={{\r\n              borderRadius: theme.spacing(2),\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n              position: \"absolute\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              transform: \"translate(-50%,-50%)\",\r\n              backgroundColor: \"#333244\",\r\n            }}\r\n          >\r\n            <ScreenShare\r\n              style={{\r\n                color: theme.palette.common.white,\r\n                height: theme.spacing(6),\r\n                width: theme.spacing(6),\r\n              }}\r\n            />\r\n            <Box mt={2}>\r\n              <Typography\r\n                variant=\"h6\"\r\n                style={{\r\n                  fontWeight: \"bold\",\r\n                  color: theme.palette.common.white,\r\n                }}\r\n              >\r\n                You are presenting to everyone\r\n              </Typography>\r\n            </Box>\r\n            <Box mt={4}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  toggleScreenShare();\r\n                }}\r\n                style={{\r\n                  transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n                  transitionTimingFunction: \"linear\",\r\n                }}\r\n              >\r\n                Stop presenting\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </div>\r\n      <CornerDisplayName\r\n        {...{\r\n          isLocal,\r\n          displayName,\r\n          micOn,\r\n          webcamOn,\r\n          pin,\r\n          unpin,\r\n          pinState,\r\n          isPresenting: true,\r\n          participantId: presenterId,\r\n          mouseOver,\r\n        }}\r\n      />\r\n      {mobilePortrait && meetingLayout !== meetingLayouts.SPOTLIGHT ? (\r\n        <div\r\n          style={{\r\n            height: \"50%\",\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          {singleRow.map(\r\n            ({\r\n              participantId,\r\n              relativeHeight,\r\n              relativeWidth,\r\n              relativeTop,\r\n              relativeLeft,\r\n            }) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    padding: 8,\r\n                    position: \"absolute\",\r\n                    top: `${relativeTop}%`,\r\n                    left: `${relativeLeft}%`,\r\n                    width: `${relativeWidth}%`,\r\n                    height: `${relativeHeight}%`,\r\n                  }}\r\n                  key={`presenter_participant_${participantId}`}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      height: `calc(100% - ${2 * 8}px)`,\r\n                      width: `calc(100% - ${2 * 8}px)`,\r\n                    }}\r\n                  >\r\n                    <ParticipantViewer\r\n                      participantId={participantId}\r\n                      quality={\"low\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PresenterView;\r\n","import { useMediaQuery } from \"react-responsive\";\r\n\r\nconst useIsSMDesktop = () => {\r\n  const isDesktopOrLaptop = useMediaQuery({\r\n    minWidth: 1224,\r\n    maxWidth: 1824,\r\n  });\r\n\r\n  return isDesktopOrLaptop;\r\n};\r\n\r\nexport default useIsSMDesktop;\r\n","import React from \"react\";\r\n\r\nconst usePrevious = (value) => {\r\n  const ref = React.useRef();\r\n  React.useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n};\r\n\r\nexport default usePrevious;\r\n","import * as React from \"react\";\r\n\r\nconst UploadImageIcon = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    height={24}\r\n    width={24}\r\n    viewBox=\"0 0 24 24\"\r\n    {...props}\r\n  >\r\n    <path d=\"M19 2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a2.81 2.81 0 0 0 .49-.05l.3-.07H19.91l.37-.14.13-.07c.1-.06.21-.11.31-.18a3.79 3.79 0 0 0 .38-.32l.07-.09a2.69 2.69 0 0 0 .27-.32l.09-.13a2.31 2.31 0 0 0 .18-.35 1 1 0 0 0 .07-.15c.05-.12.08-.25.12-.38v-.15a2.6 2.6 0 0 0 .1-.6V5a3 3 0 0 0-3-3ZM5 20a1 1 0 0 1-1-1v-4.31l3.29-3.3a1 1 0 0 1 1.42 0l8.6 8.61Zm15-1a1 1 0 0 1-.07.36 1 1 0 0 1-.08.14.94.94 0 0 1-.09.12l-5.35-5.35.88-.88a1 1 0 0 1 1.42 0l3.29 3.3Zm0-5.14L18.12 12a3.08 3.08 0 0 0-4.24 0l-.88.88L10.12 10a3.08 3.08 0 0 0-4.24 0L4 11.86V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1ZM13.5 6A1.5 1.5 0 1 0 15 7.5 1.5 1.5 0 0 0 13.5 6Z\" />\r\n  </svg>\r\n);\r\n\r\nexport default UploadImageIcon;\r\n","import {\r\n  Box,\r\n  ButtonBase,\r\n  makeStyles,\r\n  Popover,\r\n  Tooltip,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { Palette, FormatColorFill } from \"@material-ui/icons\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  CircleFilledIcon,\r\n  CircleIcon,\r\n  ClearWhiteboardIcon,\r\n  PanAroundIcon,\r\n  PencilIcon,\r\n  PointerIcon,\r\n  SaveImageIcon,\r\n  ShapeIcon,\r\n  SquareIcon,\r\n  TextIcon,\r\n  UndoIcon,\r\n  ZoomInIcon,\r\n  ZoomOutIcon,\r\n} from \"../../icons\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport { SketchPicker } from \"react-color\";\r\nimport UploadImageIcon from \"../../icons/UploadImageIcon\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  btnTool: {\r\n    padding: theme.spacing(1),\r\n    marginTop: theme.spacing(1 / 4),\r\n    marginBottom: theme.spacing(1 / 4),\r\n  },\r\n  iColorPicker: {\r\n    width: \"24px\",\r\n    height: \"26px\",\r\n    padding: \"0px\",\r\n    backgroundColor: \"transparent\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n  },\r\n  popover: {\r\n    backgroundColor: \"transparent\",\r\n    boxShadow: \"none\",\r\n  },\r\n  paper: {\r\n    backgroundColor: \"transparent\",\r\n    boxShadow: \"none\",\r\n  },\r\n}));\r\n\r\nconst ToolBarIcon = ({ Icon, onClick, title, isSelected }) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Tooltip title={title} arrow placement=\"right\">\r\n      <ButtonBase\r\n        className={classes.btnTool}\r\n        color=\"inherit\"\r\n        style={{\r\n          backgroundColor: isSelected ? \"#D5E8FF\" : \"\",\r\n          borderRadius: 6,\r\n        }}\r\n        onClick={onClick}\r\n      >\r\n        <Icon fill={isSelected ? theme.palette.primary.main : \"black\"} />\r\n      </ButtonBase>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst CustomColorPicker = ({\r\n  title,\r\n  colorPicker,\r\n  setColorPicker,\r\n  color,\r\n  setColor,\r\n  setParentColor,\r\n  changeCanvasBackgroundColor,\r\n  whiteboardToolbarWidth,\r\n  whiteboardSpacing,\r\n  Icon,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title={title} arrow placement=\"right\">\r\n        <ButtonBase\r\n          className={classes.btnTool}\r\n          color=\"inherit\"\r\n          component=\"span\"\r\n          onClick={(e) => {\r\n            setColorPicker(e.currentTarget);\r\n          }}\r\n          style={{\r\n            backgroundColor: `#D5E8FF`,\r\n            borderRadius: 6,\r\n          }}\r\n        >\r\n          <Icon\r\n            height={24}\r\n            width={24}\r\n            style={{ height: 24, width: 24, color }}\r\n            fill={color}\r\n          />\r\n        </ButtonBase>\r\n      </Tooltip>\r\n\r\n      <Popover\r\n        className={classes.popover}\r\n        classes={{\r\n          paper: classes.paper,\r\n        }}\r\n        open={Boolean(colorPicker)}\r\n        anchorEl={colorPicker}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"left\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"left\",\r\n        }}\r\n        onClose={() => {\r\n          setColorPicker(null);\r\n        }}\r\n        disableRestoreFocus\r\n      >\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            backgroundColor: \"transparent\",\r\n            paddingLeft: whiteboardToolbarWidth + whiteboardSpacing,\r\n            paddingRight: whiteboardSpacing,\r\n            paddingBottom: whiteboardSpacing,\r\n          }}\r\n        >\r\n          <Box\r\n            style={{\r\n              backgroundColor: \"white\",\r\n              boxShadow: \"0px 5px 10px #00000029\",\r\n            }}\r\n          >\r\n            <SketchPicker\r\n              color={color}\r\n              onChange={(ev) => {\r\n                setColor(ev.hex);\r\n              }}\r\n              onChangeComplete={(ev) => {\r\n                setParentColor(ev.hex);\r\n                if (changeCanvasBackgroundColor) {\r\n                  changeCanvasBackgroundColor(ev.hex);\r\n                }\r\n              }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nconst CustomImagePicker = ({ addImage }) => {\r\n  const imageInputRef = useRef();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Add Image\" arrow placement=\"right\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: 39,\r\n              height: 39,\r\n              overflow: \"hidden\",\r\n              display: \"inline-block\",\r\n            }}\r\n          >\r\n            <ButtonBase\r\n              className={classes.btnTool}\r\n              color=\"inherit\"\r\n              style={{\r\n                borderRadius: 6,\r\n                position: \"relative\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={() => {\r\n                imageInputRef.current.click();\r\n              }}\r\n            >\r\n              <input\r\n                ref={imageInputRef}\r\n                name=\"image-input\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={addImage}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  opacity: 0,\r\n                  height: 0,\r\n                  width: 0,\r\n                }}\r\n              />\r\n              <UploadImageIcon />\r\n            </ButtonBase>\r\n          </div>\r\n        </div>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n};\r\n\r\nconst WBToolbar = ({\r\n  setTool,\r\n  downloadCanvas,\r\n  clearCanvas,\r\n  changeCanvasBackgroundColor,\r\n  undo,\r\n  zoomOut,\r\n  zoomIn,\r\n  tool,\r\n  color: parentColor,\r\n  setColor: setParentColor,\r\n  canvasBackgroundColor: parentCanvasBackgroundColor,\r\n  setCanvasBackgroundColor: setParentCanvasBackgroundColor,\r\n  whiteboardToolbarWidth,\r\n  whiteboardSpacing,\r\n  addImage,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const [color, setColor] = useState(parentColor);\r\n  const [canvasBackgroundColor, setCanvasBackgroundColor] = useState(\r\n    parentCanvasBackgroundColor\r\n  );\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [colorPicker, setColorPicker] = useState(null);\r\n  const [backgroundColorPicker, setBackgroundColorPicker] = useState(null);\r\n\r\n  const handlePopoverOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handlePopoverClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const theme = useTheme();\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const { canDrawOnWhiteboard } = useMeetingAppContext();\r\n\r\n  useEffect(() => {\r\n    setColor(parentColor);\r\n    setCanvasBackgroundColor(parentCanvasBackgroundColor);\r\n  }, [parentColor, parentCanvasBackgroundColor]);\r\n\r\n  return (\r\n    canDrawOnWhiteboard && (\r\n      <Box\r\n        style={{\r\n          position: \"absolute\",\r\n          top: whiteboardSpacing,\r\n          left: whiteboardSpacing,\r\n          bottom: whiteboardSpacing,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          backgroundColor: \"white\",\r\n          boxShadow: \"0px 5px 10px #00000029\",\r\n          alignItems: \"center\",\r\n          width: whiteboardToolbarWidth,\r\n          overflow: \"auto\",\r\n        }}\r\n      >\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: PointerIcon,\r\n            onClick: () => setTool(\"select\"),\r\n            title: \"Select object\",\r\n            isSelected: tool === \"select\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: PencilIcon,\r\n            onClick: () => setTool(\"pencil\"),\r\n            title: \"Pen\",\r\n            isSelected: tool === \"pencil\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: TextIcon,\r\n            onClick: () => setTool(\"text\"),\r\n            title: \"Text\",\r\n            isSelected: tool === \"text\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <>\r\n          <ButtonBase\r\n            className={classes.btnTool}\r\n            onMouseEnter={handlePopoverOpen}\r\n            style={{\r\n              backgroundColor:\r\n                tool === \"square\" ||\r\n                tool === \"squareFilled\" ||\r\n                tool === \"circle\" ||\r\n                tool === \"circleFilled\"\r\n                  ? \"#D5E8FF\"\r\n                  : \"\",\r\n              borderRadius: 6,\r\n            }}\r\n          >\r\n            {tool === \"square\" ? (\r\n              <SquareIcon fill={theme.palette.primary.main} />\r\n            ) : tool === \"squareFilled\" ? (\r\n              <ShapeIcon fill={theme.palette.primary.main} />\r\n            ) : tool === \"circle\" ? (\r\n              <CircleIcon fill={theme.palette.primary.main} />\r\n            ) : tool === \"circleFilled\" ? (\r\n              <CircleFilledIcon fill={theme.palette.primary.main} />\r\n            ) : (\r\n              <ShapeIcon fill={\"#000\"} />\r\n            )}\r\n          </ButtonBase>\r\n\r\n          <Popover\r\n            className={classes.popover}\r\n            classes={{\r\n              paper: classes.paper,\r\n            }}\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"left\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"left\",\r\n            }}\r\n            onClose={handlePopoverClose}\r\n            disableRestoreFocus\r\n          >\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                backgroundColor: \"transparent\",\r\n                paddingLeft: whiteboardToolbarWidth + whiteboardSpacing,\r\n                paddingRight: whiteboardSpacing,\r\n                paddingBottom: whiteboardSpacing,\r\n              }}\r\n              onMouseLeave={handlePopoverClose}\r\n            >\r\n              <Box\r\n                style={{\r\n                  backgroundColor: \"white\",\r\n                  boxShadow: \"0px 5px 10px #00000029\",\r\n                }}\r\n              >\r\n                <Box style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                  <ToolBarIcon\r\n                    {...{\r\n                      Icon: SquareIcon,\r\n                      onClick: () => setTool(\"square\"),\r\n                      title: \"Square\",\r\n                      isSelected: tool === \"square\",\r\n                      whiteboardToolbarWidth,\r\n                    }}\r\n                  />\r\n                  <ToolBarIcon\r\n                    {...{\r\n                      Icon: ShapeIcon,\r\n                      onClick: () => setTool(\"squareFilled\"),\r\n                      title: \"Square Filled\",\r\n                      isSelected: tool === \"squareFilled\",\r\n                      whiteboardToolbarWidth,\r\n                    }}\r\n                  />\r\n                </Box>\r\n                <Box style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                  <ToolBarIcon\r\n                    {...{\r\n                      Icon: CircleIcon,\r\n                      onClick: () => setTool(\"circle\"),\r\n                      title: \"Circle\",\r\n                      isSelected: tool === \"circle\",\r\n                      whiteboardToolbarWidth,\r\n                    }}\r\n                  />\r\n                  <ToolBarIcon\r\n                    {...{\r\n                      Icon: CircleFilledIcon,\r\n                      onClick: () => setTool(\"circleFilled\"),\r\n                      title: \"Circle Filled\",\r\n                      isSelected: tool === \"circleFilled\",\r\n                      whiteboardToolbarWidth,\r\n                    }}\r\n                  />\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          </Popover>\r\n        </>\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: PanAroundIcon,\r\n            onClick: () => setTool(\"pan\"),\r\n            title: \"Pan around\",\r\n            isSelected: tool === \"pan\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n\r\n        <CustomColorPicker\r\n          {...{\r\n            title: \"Choose Color\",\r\n            colorPicker: colorPicker,\r\n            setColorPicker: setColorPicker,\r\n            setColor: setColor,\r\n            color: color,\r\n            setParentColor: setParentColor,\r\n            whiteboardToolbarWidth: whiteboardToolbarWidth,\r\n            whiteboardSpacing: whiteboardSpacing,\r\n            Icon: FormatColorFill,\r\n          }}\r\n        />\r\n\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: ZoomInIcon,\r\n            onClick: () => zoomIn(),\r\n            title: \"Zoom In\",\r\n            isSelected: tool === \"zoom\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: ZoomOutIcon,\r\n            onClick: () => zoomOut(),\r\n            title: \"Zoom Out\",\r\n            isSelected: tool === \"zoom\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <CustomColorPicker\r\n          {...{\r\n            title: \"Choose background\",\r\n            colorPicker: backgroundColorPicker,\r\n            setColorPicker: setBackgroundColorPicker,\r\n            setColor: setCanvasBackgroundColor,\r\n            color: canvasBackgroundColor,\r\n            setParentColor: setParentCanvasBackgroundColor,\r\n            changeCanvasBackgroundColor: changeCanvasBackgroundColor,\r\n            whiteboardToolbarWidth: whiteboardToolbarWidth,\r\n            whiteboardSpacing: whiteboardSpacing,\r\n            Icon: Palette,\r\n          }}\r\n        />\r\n        <CustomImagePicker addImage={addImage} />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: UndoIcon,\r\n            onClick: () => undo(),\r\n            title: \"Undo last drawing\",\r\n            isSelected: tool === \"undo\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: ClearWhiteboardIcon,\r\n            onClick: () => clearCanvas(),\r\n            title: \"Clear whiteboard\",\r\n            isSelected: tool === \"clear\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n        <ToolBarIcon\r\n          {...{\r\n            Icon: SaveImageIcon,\r\n            onClick: () => downloadCanvas(),\r\n            title: \"Save as image\",\r\n            isSelected: tool === \"save\",\r\n            whiteboardToolbarWidth,\r\n          }}\r\n        />\r\n      </Box>\r\n    )\r\n  );\r\n};\r\n\r\nexport default WBToolbar;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { fabric } from \"fabric\";\r\nimport { Box, Chip, useTheme } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport usePrevious from \"../../utils/usePrevious\";\r\nimport WBToolbar from \"./WBToolbar\";\r\nimport { invertColor, nameTructed } from \"../../utils/common\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nexport const convertHWAspectRatio = ({\r\n  height: containerHeight,\r\n  width: containerWidth,\r\n}) => {\r\n  let width = containerWidth;\r\n  let height = containerHeight;\r\n\r\n  const currAspectRatio = containerWidth / containerHeight;\r\n  const reqAspectRatio = 16 / 9;\r\n  if (currAspectRatio > reqAspectRatio) {\r\n    width = containerHeight * (16 / 9);\r\n  } else {\r\n    height = containerWidth / (16 / 9);\r\n  }\r\n\r\n  return { width, height };\r\n};\r\n\r\nfunction WhiteboardContainer({\r\n  height,\r\n  width,\r\n  whiteboardToolbarWidth,\r\n  whiteboardSpacing,\r\n  originalHeight,\r\n  originalWidth,\r\n}) {\r\n  const theme = useTheme();\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const previousHeight = usePrevious(height);\r\n  const previousWidth = usePrevious(width);\r\n\r\n  // const initialHeight = useRef(height);\r\n  const initialWidth = useRef(width);\r\n\r\n  //\r\n  const {\r\n    whiteboardState,\r\n    canDrawOnWhiteboard,\r\n    animationsEnabled,\r\n    notificationAlertsEnabled,\r\n    notificationSoundEnabled,\r\n  } = useMeetingAppContext();\r\n\r\n  const mMeeting = useMeeting({});\r\n\r\n  //\r\n  const [pages, setpages] = useState(0);\r\n  const [currentPageNo, setCurrentPageNo] = useState(1);\r\n  const [color, setColor] = useState(theme.palette.primary.main);\r\n  const [canvasBackgroundColor, setCanvasBackgroundColor] = useState(\r\n    whiteboardState.state.config?.bgColor || \"#f5f7f9\"\r\n  );\r\n\r\n  const [tool, _setTool] = useState(null);\r\n  const toolRef = useRef(tool);\r\n  const setTool = (data) => {\r\n    toolRef.current = data;\r\n    _setTool(data);\r\n  };\r\n\r\n  const imageWidth = useResponsiveSize({\r\n    xl: 320,\r\n    lg: 280,\r\n    md: 240,\r\n    sm: 200,\r\n    xs: 180,\r\n  });\r\n\r\n  const imageHeight = (imageWidth * 9) / 16;\r\n\r\n  //\r\n  const fabricRef = useRef(null);\r\n  const canvasCotainerRef = useRef(null);\r\n  const pdfRef = useRef(null);\r\n  const pageJSONRef = useRef({});\r\n\r\n  useEffect(() => {\r\n    switch (tool) {\r\n      case \"select\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"pencil\": {\r\n        fabricRef.current.isDrawingMode = true;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"text\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"circle\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"square\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"squareFilled\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.isDragging = false;\r\n        break;\r\n      }\r\n\r\n      case \"pan\": {\r\n        fabricRef.current.isDrawingMode = false;\r\n        fabricRef.current.fire(\"exitText\", {});\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  }, [tool]);\r\n\r\n  // Canvas initialization\r\n\r\n  useEffect(() => {\r\n    // fabric overrides\r\n    fabric.IText.prototype.keysMap[13] = \"exitEditing\";\r\n\r\n    let canvas;\r\n\r\n    // if (isHost) {\r\n    if (canDrawOnWhiteboard) {\r\n      canvas = new fabric.Canvas(document.getElementById(\"canvasId\"), {\r\n        selection: false,\r\n        defaultCursor: \"default\",\r\n      });\r\n      canvas.freeDrawingBrush.width = 3;\r\n    } else {\r\n      canvas = new fabric.Canvas(document.getElementById(\"canvasId\"), {});\r\n    }\r\n\r\n    // canvas.isDrawingMode = true; // default drawing tool\r\n\r\n    canvas.on(\"mouse:down\", (opt) => {\r\n      if (toolRef.current === \"pan\") {\r\n        canvas.isDragging = true;\r\n        canvas.lastPosX = opt.e.clientX;\r\n        canvas.lastPosY = opt.e.clientY;\r\n      }\r\n    });\r\n\r\n    canvas.on(\"mouse:move\", function (opt) {\r\n      if (canvas.isDragging) {\r\n        var e = opt.e;\r\n\r\n        var vpt = canvas.viewportTransform;\r\n        vpt[4] += e.clientX - canvas.lastPosX;\r\n        vpt[5] += e.clientY - canvas.lastPosY;\r\n\r\n        canvas.requestRenderAll();\r\n\r\n        canvas.lastPosX = e.clientX;\r\n        canvas.lastPosY = e.clientY;\r\n      }\r\n    });\r\n\r\n    canvas.on(\"after:render\", function () {\r\n      canvas.calcOffset();\r\n    });\r\n\r\n    fabricRef.current = canvas;\r\n\r\n    if (whiteboardState.started) {\r\n      //\r\n      const oldObjects = whiteboardState.state.objects;\r\n\r\n      fabric.util.enlivenObjects(oldObjects, function (objects) {\r\n        const origRenderOnAddRemove = canvas.renderOnAddRemove;\r\n        canvas.renderOnAddRemove = false;\r\n\r\n        for (const o of objects) {\r\n          canvas.add(o);\r\n        }\r\n\r\n        canvas.renderOnAddRemove = origRenderOnAddRemove;\r\n        canvas.renderAll();\r\n      });\r\n\r\n      //\r\n      if (whiteboardState.state.zoom) {\r\n        const zoom = convertZoomFrom800(whiteboardState.state.zoom);\r\n        canvas.setZoom(zoom);\r\n      } else {\r\n        const zoom = convertZoomFrom800(1);\r\n\r\n        canvas.setZoom(zoom);\r\n      }\r\n\r\n      if (whiteboardState.state.vpt) {\r\n        const vpt = convertPanFrom800(whiteboardState.state.vpt);\r\n        canvas.setViewportTransform(vpt);\r\n      }\r\n\r\n      setCanvasBackgroundColor(\r\n        whiteboardState.state.config?.bgColor || \"#F5F7F9\"\r\n      );\r\n\r\n      canvas.renderAll();\r\n    } else {\r\n      canvas.setZoom(convertZoomFrom800(1));\r\n      canvas.renderAll();\r\n    }\r\n  }, [whiteboardState]);\r\n\r\n  useEffect(() => {\r\n    if (canDrawOnWhiteboard) {\r\n      fabricRef.current.freeDrawingBrush.color = color;\r\n    }\r\n  }, [color, canDrawOnWhiteboard]);\r\n\r\n  // Drawing free line and adding text\r\n  useEffect(() => {\r\n    fabricRef.current.on(\"mouse:up\", (event) => {\r\n      //Pan\r\n      if (toolRef.current === \"pan\") {\r\n        fabricRef.current.setViewportTransform(\r\n          fabricRef.current.viewportTransform\r\n        );\r\n        fabricRef.current.isDragging = false;\r\n        let pan800 = convertPanTo800(fabricRef.current.viewportTransform);\r\n        sendData({\r\n          event: \"PAN\",\r\n          data: pan800,\r\n        });\r\n      }\r\n\r\n      // Add Text\r\n      if (toolRef.current === \"text\") {\r\n        addText(event.e);\r\n        setTool(\"select\");\r\n      }\r\n\r\n      // Add circle\r\n      else if (toolRef.current === \"circle\") {\r\n        addCircle(event.e);\r\n        setTool(\"select\");\r\n      }\r\n\r\n      // Add circle filled\r\n      else if (toolRef.current === \"circleFilled\") {\r\n        addCircleFilled(event.e);\r\n        setTool(\"select\");\r\n      }\r\n\r\n      // Add square\r\n      else if (toolRef.current === \"square\") {\r\n        addSquare(event.e);\r\n        setTool(\"select\");\r\n      }\r\n\r\n      // Add square filled\r\n      else if (toolRef.current === \"squareFilled\") {\r\n        addSquareFilled(event.e);\r\n        setTool(\"select\");\r\n      }\r\n    });\r\n\r\n    fabricRef.current.on(\"object:added\", (options) => {\r\n      if (options.target.get(\"oId\")) return;\r\n\r\n      options.target.set({\r\n        oId: Date.now(),\r\n        pId: mMeeting.localParticipant.id,\r\n      });\r\n\r\n      sendData({\r\n        event: \"OBJ_ADD\",\r\n        data: options.target.toJSON([\"oId\", \"pId\"]),\r\n      });\r\n    });\r\n\r\n    fabricRef.current.on(\"object:modified\", (options) => {\r\n      sendData({\r\n        event: \"OBJ_MOD\",\r\n        data: options.target.toJSON([\"oId\", \"pId\"]),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  //   Event Listner for chat messages\r\n  useEffect(() => {\r\n    mMeeting.meeting.on(\"chat-message\", (message) => {\r\n      const { senderId, text } = message;\r\n\r\n      const { type, data: msgData } = JSON.parse(text);\r\n      if (type !== \"WB\") return;\r\n\r\n      const isLocal = senderId === mMeeting.localParticipant.id;\r\n\r\n      if (isLocal) return;\r\n\r\n      onChatMessage(msgData);\r\n    });\r\n  }, []);\r\n\r\n  // Action on chat message\r\n  async function onChatMessage({ event, data }) {\r\n    switch (event) {\r\n      case \"PAN\": {\r\n        let newPanFrom800 = convertPanFrom800(data);\r\n        fabricRef.current.setViewportTransform(newPanFrom800);\r\n        break;\r\n      }\r\n\r\n      case \"ZOOM\": {\r\n        const newZoom = convertZoomFrom800(data);\r\n        fabricRef.current.setZoom(newZoom);\r\n        break;\r\n      }\r\n\r\n      case \"CLEAR\": {\r\n        fabricRef.current.clear();\r\n        // fabricRef.current.setBackgroundColor(\"#F5F7F9\");\r\n\r\n        //\r\n        const p = mMeeting.participants.get(data);\r\n\r\n        if (notificationSoundEnabled) {\r\n          new Audio(\"/notification.mp3\").play();\r\n        }\r\n\r\n        if (notificationAlertsEnabled) {\r\n          enqueueSnackbar(\r\n            `${\r\n              p ? nameTructed(p.displayName, 15) : \"You\"\r\n            } cleared the whiteboard 🗑️`,\r\n            { autoHideDuration: 4000 }\r\n          );\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      case \"OBJ_ADD\": {\r\n        const exists = fabricRef.current\r\n          .getObjects()\r\n          .some((o) => o.oId === data.oId);\r\n\r\n        if (!exists) {\r\n          fabric.util.enlivenObjects([data], function (objects) {\r\n            const origRenderOnAddRemove = fabricRef.current.renderOnAddRemove;\r\n            fabricRef.current.renderOnAddRemove = false;\r\n\r\n            fabricRef.current.add(objects[0]);\r\n\r\n            fabricRef.current.renderOnAddRemove = origRenderOnAddRemove;\r\n            fabricRef.current.renderAll();\r\n          });\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      case \"OBJ_MOD\": {\r\n        const objectToUpdate = fabricRef.current.getObjects().find((o) => {\r\n          return o.oId === data.oId;\r\n        });\r\n\r\n        if (objectToUpdate) {\r\n          objectToUpdate.set(data);\r\n          objectToUpdate.setCoords();\r\n          fabricRef.current.renderAll();\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      case \"OBJ_DEL\": {\r\n        const object = fabricRef.current\r\n          .getObjects()\r\n          .find((o) => o.oId === data);\r\n\r\n        if (object) fabricRef.current.remove(object);\r\n        break;\r\n      }\r\n\r\n      case \"BG_COLOR\": {\r\n        setCanvasBackgroundColor(data);\r\n        break;\r\n      }\r\n\r\n      case \"PDF_OPEN\": {\r\n        openPdf(data);\r\n        break;\r\n      }\r\n\r\n      case \"PDF_PAGE\": {\r\n        updatePage(data);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Delete key listener\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.key === \"Delete\") {\r\n        const object = fabricRef.current.getActiveObject();\r\n        if (!object) return;\r\n\r\n        fabricRef.current.remove(object);\r\n        sendData({ event: \"OBJ_DEL\", data: object.oId });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  function sendData({ event, data }) {\r\n    mMeeting.sendChatMessage(\r\n      JSON.stringify({ type: \"WB\", data: { event, data } })\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    sendData({ event: \"BG_COLOR\", data: canvasBackgroundColor });\r\n    setTool(\"pencil\");\r\n  }, []);\r\n\r\n  // on canvas resize, set canvas zoom with objects\r\n  useEffect(() => {\r\n    if (height !== previousHeight || width !== previousWidth) {\r\n      fabricRef.current.setZoom(\r\n        convertZoomFrom800(width / initialWidth.current)\r\n      );\r\n    }\r\n  }, [height, width, previousWidth, previousHeight]);\r\n\r\n  function addText(ev) {\r\n    var pointer = fabricRef.current.getPointer(ev);\r\n    const text = new fabric.IText(\"Click to edit text\", {\r\n      left: pointer.x,\r\n      top: pointer.y,\r\n      fill: fabricRef.current.freeDrawingBrush.color,\r\n      fontFamily: \"sans-serif\",\r\n    });\r\n\r\n    //fire this event if pan started\r\n    fabricRef.current.on(\"exitText\", (e) => {\r\n      text.exitEditing();\r\n    });\r\n\r\n    fabricRef.current.add(text);\r\n    fabricRef.current.renderAll();\r\n\r\n    text.enterEditing();\r\n    text.selectAll();\r\n  }\r\n\r\n  function addCircle(ev) {\r\n    var pointer = fabricRef.current.getPointer(ev);\r\n    var object = new fabric.Circle({\r\n      radius: 15,\r\n      fill: fabricRef.current.freeDrawingBrush.color,\r\n      left: pointer.x,\r\n      top: pointer.y,\r\n      stroke: fabricRef.current.freeDrawingBrush.color,\r\n      strokeWidth: 2,\r\n    });\r\n    fabricRef.current.add(object);\r\n    fabricRef.current.setActiveObject(object);\r\n    fabricRef.current.renderAll();\r\n  }\r\n\r\n  function addCircleFilled(ev) {\r\n    var pointer = fabricRef.current.getPointer(ev);\r\n    var object = new fabric.Circle({\r\n      radius: 15,\r\n      fill: fabricRef.current.freeDrawingBrush.color,\r\n      left: pointer.x,\r\n      top: pointer.y,\r\n    });\r\n    fabricRef.current.add(object);\r\n    fabricRef.current.setActiveObject(object);\r\n    fabricRef.current.renderAll();\r\n  }\r\n\r\n  function addSquare(ev) {\r\n    var pointer = fabricRef.current.getPointer(ev);\r\n    var object = new fabric.Rect({\r\n      left: pointer.x,\r\n      top: pointer.y,\r\n      fill: \"rgba(0,0,0,0)\",\r\n      stroke: fabricRef.current.freeDrawingBrush.color,\r\n      strokeWidth: 2,\r\n      width: 40,\r\n      height: 40,\r\n      strokeUniform: true,\r\n    });\r\n    fabricRef.current.add(object);\r\n    fabricRef.current.setActiveObject(object);\r\n    fabricRef.current.renderAll();\r\n  }\r\n\r\n  function addSquareFilled(ev) {\r\n    var pointer = fabricRef.current.getPointer(ev);\r\n    var object = new fabric.Rect({\r\n      left: pointer.x,\r\n      top: pointer.y,\r\n      fill: fabricRef.current.freeDrawingBrush.color,\r\n      width: 40,\r\n      height: 40,\r\n    });\r\n    fabricRef.current.add(object);\r\n    fabricRef.current.setActiveObject(object);\r\n    fabricRef.current.renderAll();\r\n  }\r\n\r\n  function undo() {\r\n    const object = fabricRef.current\r\n      .getObjects()\r\n      .filter((o) => o.pId === mMeeting.localParticipant.id)\r\n      .pop();\r\n\r\n    if (!object) return;\r\n\r\n    fabricRef.current.remove(object);\r\n    sendData({ event: \"OBJ_DEL\", data: object.oId });\r\n  }\r\n\r\n  function clearCanvas() {\r\n    fabricRef.current.clear();\r\n    sendData({ event: \"CLEAR\", data: mMeeting.localParticipant.id });\r\n  }\r\n\r\n  async function uploadImageAndGetUrl(event) {\r\n    return new Promise((resolve, reject) => {\r\n      new Compressor(event.target.files[0], {\r\n        quality: 0.8,\r\n        maxHeight: 1024,\r\n        maxWidth: 1024,\r\n\r\n        async success(result) {\r\n          var formdata = new FormData();\r\n          formdata.append(\"file\", result, event.target.files[0].name);\r\n\r\n          var requestOptions = {\r\n            method: \"POST\",\r\n            body: formdata,\r\n            redirect: \"follow\",\r\n          };\r\n\r\n          try {\r\n            const res = await fetch(\r\n              `https://${mMeeting?.meeting?.baseUrl}/file-upload?roomId=${mMeeting.meetingId}`,\r\n              requestOptions\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            return resolve(json.url);\r\n          } catch (error) {\r\n            console.log(error);\r\n            return reject(error);\r\n          }\r\n        },\r\n        error(err) {\r\n          console.log(err.message);\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  async function addImage(event) {\r\n    const url = await uploadImageAndGetUrl(event);\r\n\r\n    new fabric.Image.fromURL(url, async function (myImg) {\r\n      //create an extra var for to change some image properties\r\n      var img1 = myImg.set({\r\n        left: whiteboardSpacing,\r\n        top: 42,\r\n      });\r\n\r\n      myImg.scaleToWidth(imageWidth);\r\n\r\n      fabricRef.current.add(img1);\r\n      fabricRef.current.setActiveObject(img1);\r\n      fabricRef.current.renderAll();\r\n    });\r\n  }\r\n\r\n  function changeCanvasBackgroundColor(color) {\r\n    sendData({ event: \"BG_COLOR\", data: color });\r\n  }\r\n\r\n  function zoomIn() {\r\n    const currentZoom = fabricRef.current.getZoom();\r\n    const newZoom = currentZoom + 0.2;\r\n    fabricRef.current.fire(\"exitText\", {});\r\n    fabricRef.current.setZoom(newZoom);\r\n    const newCalculatedZoom800 = convertZoomTo800();\r\n    sendData({ event: \"ZOOM\", data: newCalculatedZoom800 });\r\n  }\r\n\r\n  function zoomOut() {\r\n    const currentZoom = fabricRef.current.getZoom();\r\n    const newZoom = currentZoom - 0.2;\r\n    fabricRef.current.fire(\"exitText\", {});\r\n    fabricRef.current.setZoom(newZoom);\r\n    const newCalculatedZoom800 = convertZoomTo800();\r\n    sendData({ event: \"ZOOM\", data: newCalculatedZoom800 });\r\n  }\r\n\r\n  function openPdf(url) {\r\n    let loadingTask = window.PDFJS.getDocument(url);\r\n\r\n    loadingTask.promise.then(function (pdf) {\r\n      pdfRef.current = pdf;\r\n      setpages(pdf.numPages);\r\n      loadPageNo(currentPageNo);\r\n    });\r\n  }\r\n\r\n  function loadPageNo(number) {\r\n    pdfRef.current.getPage(number).then(function (page) {\r\n      var viewport = page.getViewport(2.0);\r\n      var canvasEl = document.getElementById(\"pdf-canvas\");\r\n      canvasEl.height = viewport.height;\r\n      canvasEl.width = viewport.width;\r\n\r\n      page\r\n        .render({\r\n          canvasContext: canvasEl.getContext(\"2d\"),\r\n          viewport: viewport,\r\n        })\r\n        .then(function () {\r\n          var bg = canvasEl.toDataURL(\"image/png\");\r\n          fabric.Image.fromURL(bg, (img) => {\r\n            if (img.width > img.height) {\r\n              img.scaleToWidth(fabricRef.current.width);\r\n            }\r\n\r\n            if (img.height > img.width) {\r\n              img.scaleToHeight(fabricRef.current.height);\r\n            }\r\n\r\n            fabricRef.current.setBackgroundImage(img, () => {\r\n              fabricRef.current.renderAll();\r\n            });\r\n          });\r\n        });\r\n    });\r\n  }\r\n\r\n  // function sharePdf(url) {\r\n  //   openPdf(url);\r\n  //   sendData({ event: \"PDF_OPEN\", data: url });\r\n  // }\r\n\r\n  // function handlePageChange(ev) {\r\n  //   const newPage = ev === \"next\" ? currentPageNo + 1 : currentPageNo - 1;\r\n\r\n  //   if (newPage < 1 || newPage > pages) return;\r\n\r\n  //   updatePage(newPage);\r\n  //   sendData({ event: \"PDF_PAGE\", data: newPage });\r\n  // }\r\n\r\n  function updatePage(newPage) {\r\n    pageJSONRef.current[currentPageNo] = fabricRef.current.toJSON();\r\n    fabricRef.current.clear();\r\n\r\n    setCurrentPageNo(newPage);\r\n\r\n    if (pageJSONRef.current[newPage]) {\r\n      fabricRef.current.loadFromJSON(\r\n        pageJSONRef.current[newPage],\r\n        fabricRef.current.renderAll.bind(fabricRef.current)\r\n      );\r\n    } else {\r\n      loadPageNo(newPage);\r\n    }\r\n  }\r\n\r\n  //   async function uploadPdf(file) {\r\n  //     const formData = new FormData();\r\n  //     formData.append(\"pdf\", file, file.name);\r\n\r\n  //     const req = await fetch(\"/somUrl\", {\r\n  //       method: \"POST\",\r\n  //       body: formdata,\r\n  //     });\r\n  //     const fileUrl = await req.json();\r\n  //     sharePdf(fileUrl);\r\n  //   }\r\n\r\n  function downloadCanvas() {\r\n    let uri = fabricRef.current.toDataURL({ format: \"png\" });\r\n    let link = document.createElement(\"a\");\r\n    link.href = uri;\r\n    link.download = `${Date.now()}-canvas.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n\r\n  function convertZoomTo800() {\r\n    let currentCanvasWidth = fabricRef.current.getWidth();\r\n    let currentZoom = fabricRef.current.getZoom();\r\n    return (800 * currentZoom) / currentCanvasWidth;\r\n  }\r\n\r\n  function convertZoomFrom800(zoom) {\r\n    let currentCanvasWidth = fabricRef.current.getWidth();\r\n    return (currentCanvasWidth * zoom) / 800;\r\n  }\r\n\r\n  function convertPanTo800(pan) {\r\n    let currentCanvasWidth = fabricRef.current.getWidth();\r\n    let zoom = convertZoomTo800();\r\n    let copyPan = [...pan];\r\n    copyPan[0] = zoom;\r\n    copyPan[3] = zoom;\r\n    copyPan[4] = (800 * pan[4]) / currentCanvasWidth;\r\n    copyPan[5] = (800 * pan[5]) / currentCanvasWidth;\r\n    return copyPan;\r\n  }\r\n\r\n  function convertPanFrom800(pan) {\r\n    let currentCanvasWidth = fabricRef.current.getWidth();\r\n    let zoom = convertZoomFrom800(pan[0]);\r\n    let copyPan = [...pan];\r\n    copyPan[0] = zoom;\r\n    copyPan[3] = zoom;\r\n    copyPan[4] = (currentCanvasWidth * pan[4]) / 800;\r\n    copyPan[5] = (currentCanvasWidth * pan[5]) / 800;\r\n    return copyPan;\r\n  }\r\n\r\n  const space = isMobile ? 20 : isTab ? 32 : 48;\r\n  const arrXLength = Math.floor(width / space);\r\n  const arrYLength = Math.floor(height / space);\r\n\r\n  const dotBoxHeight = arrYLength * space;\r\n  const dotBoxWidth = arrXLength * space;\r\n\r\n  const dotBoxTop = (height - dotBoxHeight) / 2;\r\n  const dotBoxLeft = width - dotBoxWidth - 24;\r\n\r\n  const arrX = Array(arrXLength + 1).fill(0);\r\n  const arrY = Array(arrYLength + 1).fill(0);\r\n\r\n  useEffect(() => {\r\n    if (tool === \"pan\") {\r\n      fabricRef.current.defaultCursor = \"grabbing\";\r\n    } else {\r\n      fabricRef.current.defaultCursor = \"default\";\r\n    }\r\n  }, [tool]);\r\n\r\n  return (\r\n    <Box\r\n      id={\"main-canvas-container\"}\r\n      style={{\r\n        width: originalWidth,\r\n        height: originalHeight,\r\n        display: \"flex\",\r\n        backgroundColor: canvasBackgroundColor || \"#F5F7F9\",\r\n        transition: animationsEnabled\r\n          ? \"height 800ms, width 800ms\"\r\n          : \"height 400ms, width 400ms\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          width: whiteboardToolbarWidth + 2 * whiteboardSpacing,\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <WBToolbar\r\n          {...{\r\n            setTool,\r\n            downloadCanvas,\r\n            clearCanvas,\r\n            changeCanvasBackgroundColor,\r\n            undo,\r\n            zoomOut,\r\n            zoomIn,\r\n            tool,\r\n            color,\r\n            setColor,\r\n            canvasBackgroundColor: canvasBackgroundColor || \"#F5F7F9\",\r\n            setCanvasBackgroundColor,\r\n            whiteboardToolbarWidth,\r\n            whiteboardSpacing,\r\n            addImage,\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flex: 1,\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            position: \"relative\",\r\n            width,\r\n            height,\r\n            transition: animationsEnabled\r\n              ? \"height 800ms, width 800ms\"\r\n              : undefined,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: width,\r\n              height: height,\r\n              position: \"relative\",\r\n              backgroundColor: canvasBackgroundColor || \"#F5F7F9\",\r\n              transition: animationsEnabled\r\n                ? \"height 800ms, width 800ms\"\r\n                : undefined,\r\n            }}\r\n            ref={canvasCotainerRef}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                width: dotBoxWidth,\r\n                height: dotBoxHeight,\r\n                top: dotBoxTop,\r\n                left: dotBoxLeft,\r\n                transition: animationsEnabled\r\n                  ? \"height 800ms, width 800ms\"\r\n                  : undefined,\r\n              }}\r\n            >\r\n              {arrX.map((_, itemx) =>\r\n                arrY.map((_, itemy) => (\r\n                  <Box\r\n                    key={`dot_${itemx}_${itemy}`}\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      top: itemy * space,\r\n                      left: itemx * space,\r\n                      height: 4,\r\n                      width: 4,\r\n                      backgroundColor: invertColor(\r\n                        canvasBackgroundColor || \"#F5F7F9\"\r\n                      ),\r\n                      transform: \"translate(-2px, -2px)\",\r\n                      borderRadius: 2,\r\n                      opacity: 0.3,\r\n                    }}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n            <canvas\r\n              id=\"canvasId\"\r\n              width={width}\r\n              height={height}\r\n              style={{\r\n                width: width,\r\n                height: height,\r\n                borderRadius: theme.spacing(1),\r\n                transition: animationsEnabled\r\n                  ? \"height 800ms, width 800ms\"\r\n                  : undefined,\r\n                zIndex: 100,\r\n              }}\r\n            />\r\n          </div>\r\n          <canvas\r\n            style={{\r\n              display: \"none\",\r\n              transition: animationsEnabled\r\n                ? \"height 800ms, width 800ms\"\r\n                : undefined,\r\n            }}\r\n            id=\"pdf-canvas\"\r\n          />\r\n\r\n          {!canDrawOnWhiteboard && (\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                top: 0,\r\n                right: 0,\r\n                left: 0,\r\n                bottom: 0,\r\n                backgroundColor: \"transparent\",\r\n                zIndex: 1000,\r\n              }}\r\n            ></div>\r\n          )}\r\n        </Box>\r\n\r\n        <div style={{ position: \"absolute\", top: 16, left: 16 }}>\r\n          <Chip\r\n            label=\"BETA\"\r\n            color=\"primary\"\r\n            size=\"medium\"\r\n            style={{\r\n              color: theme.palette.primary.main,\r\n              backgroundColor: \"#D5E8FF\",\r\n              fontSize: 18,\r\n              fontWeight: \"bold\",\r\n            }}\r\n          />\r\n        </div>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst MemoizedWhiteBoard = React.memo(\r\n  WhiteboardContainer,\r\n  ({ height, width }, { height: oldHeight, width: oldWidth }) =>\r\n    height === oldHeight && width === oldWidth\r\n);\r\n\r\nexport default MemoizedWhiteBoard;\r\n","import { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport ParticipantViewer from \"./ParticipantViewer\";\r\nimport PresenterView from \"./PresenterView\";\r\nimport {\r\n  getGridRowsAndColumns,\r\n  getGridForMainParticipants,\r\n  calcQuality,\r\n  localAndPinnedOnTop,\r\n} from \"../../utils/common\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport useIsSMDesktop from \"../../utils/useIsSMDesktop\";\r\nimport useIsLGDesktop from \"../../utils/useIsLGDesktop\";\r\nimport {\r\n  meetingLayouts,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport { Motion as TransitionMotion, spring } from \"react-motion\";\r\nimport { useTheme } from \"@material-ui/core\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport WhiteboardContainer, {\r\n  convertHWAspectRatio,\r\n} from \"../../components/whiteboard/WhiteboardContainer\";\r\n\r\nconst MemoizedParticipant = React.memo(\r\n  ParticipantViewer,\r\n  (\r\n    { participantId, quality, useVisibilitySensor },\r\n    {\r\n      participantId: oldParticipantId,\r\n      quality: oldQuality,\r\n      useVisibilitySensor: oldUseVisibilitySensor,\r\n    }\r\n  ) =>\r\n    participantId === oldParticipantId &&\r\n    quality === oldQuality &&\r\n    useVisibilitySensor === oldUseVisibilitySensor\r\n);\r\n\r\nconst MotionParticipant = ({\r\n  participantId,\r\n  gutter,\r\n  quality,\r\n  relativeHeight,\r\n  relativeWidth,\r\n  relativeTop,\r\n  relativeLeft,\r\n  useVisibilitySensor,\r\n}) => {\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setMounted(true), 100);\r\n\r\n    return () => {\r\n      setTimeout(() => setMounted(false), 100);\r\n    };\r\n  }, []);\r\n\r\n  const animeConfig = { stiffness: 180, damping: 22 };\r\n\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  return (\r\n    <TransitionMotion\r\n      style={{\r\n        top: spring(relativeTop, animeConfig),\r\n        left: spring(relativeLeft, animeConfig),\r\n        height: spring(relativeHeight, animeConfig),\r\n        width: spring(relativeWidth, animeConfig),\r\n        scale: spring(mounted ? 1 : animationsEnabled ? 0 : 0.5, animeConfig),\r\n      }}\r\n    >\r\n      {({ top, left, height, width, scale }) => (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: `${top}%`,\r\n            left: `${left}%`,\r\n            height: `${height}%`,\r\n            width: `${width}%`,\r\n            paddingTop: gutter,\r\n            paddingBottom: gutter,\r\n            paddingRight: gutter,\r\n            paddingLeft: gutter,\r\n            transform: `scale(${scale})`,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              height: `calc(100% - ${2 * gutter}px)`,\r\n              width: `calc(100% - ${2 * gutter}px)`,\r\n            }}\r\n          >\r\n            <MemoizedParticipant\r\n              {...{ participantId, quality, useVisibilitySensor }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </TransitionMotion>\r\n  );\r\n};\r\n\r\nconst MotionParticipantContainer = ({\r\n  participantId,\r\n  gutter,\r\n  quality,\r\n  relativeHeight: height,\r\n  relativeWidth: width,\r\n  relativeTop: top,\r\n  relativeLeft: left,\r\n  useVisibilitySensor,\r\n}) => {\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  return animationsEnabled ? (\r\n    <MotionParticipant\r\n      {...{\r\n        participantId,\r\n        gutter,\r\n        quality,\r\n        relativeHeight: height,\r\n        relativeWidth: width,\r\n        relativeTop: top,\r\n        relativeLeft: left,\r\n        useVisibilitySensor,\r\n      }}\r\n    />\r\n  ) : (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        height: `${height}%`,\r\n        width: `${width}%`,\r\n        paddingTop: gutter,\r\n        paddingBottom: gutter,\r\n        paddingRight: gutter,\r\n        paddingLeft: gutter,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          height: `calc(100% - ${2 * gutter}px)`,\r\n          width: `calc(100% - ${2 * gutter}px)`,\r\n        }}\r\n      >\r\n        <MemoizedParticipant\r\n          {...{ participantId, quality, useVisibilitySensor }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const MemoizedMotionParticipant = React.memo(\r\n  MotionParticipantContainer,\r\n  (prevProps, nextProps) =>\r\n    prevProps.participantId === nextProps.participantId &&\r\n    prevProps.gutter === nextProps.gutter &&\r\n    prevProps.quality === nextProps.quality &&\r\n    prevProps.relativeHeight === nextProps.relativeHeight &&\r\n    prevProps.relativeWidth === nextProps.relativeWidth &&\r\n    prevProps.relativeTop === nextProps.relativeTop &&\r\n    prevProps.relativeLeft === nextProps.relativeLeft &&\r\n    prevProps.useVisibilitySensor === nextProps.useVisibilitySensor\r\n);\r\n\r\nconst MainViewContainer = ({\r\n  height,\r\n  width,\r\n  whiteboardToolbarWidth,\r\n  whiteboardSpacing,\r\n}) => {\r\n  const mMeeting = useMeeting();\r\n\r\n  const participants = mMeeting?.participants;\r\n  const presenterId = mMeeting?.presenterId;\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n  const pinnedParticipants = mMeeting?.pinnedParticipants;\r\n  const activeSpeakerId = mMeeting?.activeSpeakerId;\r\n  const mainParticipantId = mMeeting?.mainParticipant?.id;\r\n\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n  const isSMDesktop = useIsSMDesktop();\r\n  const isLGDesktop = useIsLGDesktop();\r\n\r\n  const isPortrait = useMediaQuery({ query: \"(orientation: portrait)\" });\r\n\r\n  const rowSpacing = useResponsiveSize({\r\n    xl: 24,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 8,\r\n  });\r\n\r\n  const gutter = 4;\r\n\r\n  const {\r\n    mainViewParticipants,\r\n    sideBarMode,\r\n    meetingLayout,\r\n    whiteboardStarted,\r\n    activeSortedParticipants,\r\n    animationsEnabled,\r\n    layoutGridSize,\r\n    hideLocalParticipant,\r\n    sideStackSize,\r\n    reduceEdgeSpacing,\r\n    mode,\r\n  } = useMeetingAppContext();\r\n\r\n  const lastActiveParticipantId = useMemo(\r\n    () => activeSortedParticipants[0]?.participantId,\r\n    [activeSortedParticipants]\r\n  );\r\n\r\n  const mainScreenViewActive = useMemo(\r\n    () =>\r\n      presenterId ||\r\n      whiteboardStarted ||\r\n      meetingLayout === meetingLayouts.UNPINNED_SIDEBAR ||\r\n      meetingLayout === meetingLayouts.UNPINNED_SPOTLIGHT,\r\n    [presenterId, whiteboardStarted, meetingLayout]\r\n  );\r\n\r\n  const { singleRow, mainLayoutParticipantId } = useMemo(() => {\r\n    let mainLayoutParticipantId;\r\n\r\n    let _pinnedParticipants = new Map(pinnedParticipants);\r\n\r\n    let mainParticipants = [...mainViewParticipants];\r\n\r\n    if (presenterId || whiteboardStarted) {\r\n      const remainingParticipants = [...participants.keys()].filter(\r\n        (pId) => mainParticipants.findIndex((id) => id === pId) === -1\r\n      );\r\n\r\n      mainParticipants = [...mainParticipants, ...remainingParticipants];\r\n    }\r\n\r\n    if (hideLocalParticipant) {\r\n      mainParticipants = mainParticipants.filter(\r\n        (id) => id !== localParticipantId\r\n      );\r\n\r\n      _pinnedParticipants.delete(localParticipantId);\r\n      _pinnedParticipants = new Map(_pinnedParticipants);\r\n    }\r\n\r\n    if (meetingLayout === meetingLayouts.UNPINNED_SIDEBAR) {\r\n      if (!(!!presenterId || !!whiteboardStarted)) {\r\n        if (_pinnedParticipants.size === 0) {\r\n          if (activeSpeakerId) {\r\n            mainParticipants = mainParticipants.filter(\r\n              (id) => id !== activeSpeakerId\r\n            );\r\n            mainLayoutParticipantId = activeSpeakerId;\r\n          } else {\r\n            mainParticipants = mainParticipants.filter(\r\n              (id) => id !== lastActiveParticipantId\r\n            );\r\n            mainLayoutParticipantId = lastActiveParticipantId;\r\n          }\r\n        } else {\r\n          if (activeSpeakerId) {\r\n            const pinnedActiveSpeaker =\r\n              _pinnedParticipants.get(activeSpeakerId);\r\n\r\n            if (pinnedActiveSpeaker) {\r\n              mainParticipants = mainParticipants.filter(\r\n                (id) => id !== activeSpeakerId\r\n              );\r\n\r\n              _pinnedParticipants.delete(activeSpeakerId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n              mainLayoutParticipantId = activeSpeakerId;\r\n            } else {\r\n              const firstPinnedParticipantId = _pinnedParticipants\r\n                .keys()\r\n                .next().value;\r\n\r\n              mainParticipants = mainParticipants.filter(\r\n                (id) => id !== firstPinnedParticipantId\r\n              );\r\n\r\n              _pinnedParticipants.delete(firstPinnedParticipantId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n              mainLayoutParticipantId = firstPinnedParticipantId;\r\n            }\r\n          } else {\r\n            const lastActivePinnedParticipant = _pinnedParticipants.get(\r\n              lastActiveParticipantId\r\n            );\r\n\r\n            if (lastActivePinnedParticipant) {\r\n              mainParticipants = mainParticipants.filter(\r\n                (id) => id !== lastActiveParticipantId\r\n              );\r\n              _pinnedParticipants.delete(lastActiveParticipantId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n              mainLayoutParticipantId = lastActiveParticipantId;\r\n            } else {\r\n              const firstPinnedParticipantId = _pinnedParticipants\r\n                .keys()\r\n                .next().value;\r\n\r\n              mainParticipants = mainParticipants.filter(\r\n                (id) => id !== firstPinnedParticipantId\r\n              );\r\n\r\n              _pinnedParticipants.delete(firstPinnedParticipantId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n              mainLayoutParticipantId = firstPinnedParticipantId;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (_pinnedParticipants.size === 0) {\r\n          if (activeSpeakerId) {\r\n            let activeIndex = mainParticipants.findIndex(\r\n              (id) => id === activeSpeakerId\r\n            );\r\n\r\n            if (activeIndex !== -1) {\r\n              const firstMainParticipantId = mainParticipants[0];\r\n              mainParticipants[0] = activeSpeakerId;\r\n              mainParticipants[activeIndex] = firstMainParticipantId;\r\n\r\n              _pinnedParticipants.delete(firstMainParticipantId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n            } else {\r\n              const mainGridRemovedParticipantId = mainParticipants.pop();\r\n\r\n              mainParticipants[0] = activeSpeakerId;\r\n\r\n              _pinnedParticipants.delete(mainGridRemovedParticipantId);\r\n              _pinnedParticipants = new Map(_pinnedParticipants);\r\n            }\r\n          } else {\r\n          }\r\n        } else {\r\n          if (activeSpeakerId) {\r\n          } else {\r\n          }\r\n        }\r\n      }\r\n    } else if (meetingLayout === meetingLayouts.UNPINNED_SPOTLIGHT) {\r\n      if (!!presenterId || !!whiteboardStarted) {\r\n        mainParticipants = [];\r\n      } else {\r\n        mainParticipants = [];\r\n        mainLayoutParticipantId = activeSpeakerId || lastActiveParticipantId;\r\n      }\r\n    }\r\n\r\n    let participantsCount = mainParticipants?.length;\r\n\r\n    if (participantsCount > layoutGridSize) {\r\n      mainParticipants = mainParticipants.slice(0, layoutGridSize);\r\n      const remainingMainParticipants = mainParticipants.splice(layoutGridSize);\r\n\r\n      remainingMainParticipants.forEach((p) => {\r\n        _pinnedParticipants.delete(p);\r\n      });\r\n\r\n      _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n      participantsCount = mainParticipants?.length;\r\n    }\r\n\r\n    if (mainScreenViewActive && participantsCount > sideStackSize) {\r\n      mainParticipants = mainParticipants.slice(0, sideStackSize);\r\n      const remainingMainParticipants = mainParticipants.splice(sideStackSize);\r\n\r\n      remainingMainParticipants.forEach((p) => {\r\n        _pinnedParticipants.delete(p);\r\n      });\r\n\r\n      _pinnedParticipants = new Map(_pinnedParticipants);\r\n\r\n      participantsCount = mainParticipants?.length;\r\n    }\r\n\r\n    const gridInfo = getGridRowsAndColumns({\r\n      participantsCount,\r\n      isMobile,\r\n      isTab,\r\n      isSMDesktop,\r\n      isLGDesktop,\r\n      isLandscape: !isPortrait,\r\n      isPresenting: !!mainScreenViewActive,\r\n    });\r\n\r\n    const { singleRow } = getGridForMainParticipants({\r\n      participants: localAndPinnedOnTop({\r\n        localParticipantId: hideLocalParticipant ? null : localParticipantId,\r\n        participants: mainParticipants,\r\n        pinnedParticipantIds:\r\n          meetingLayout === meetingLayouts.UNPINNED_SIDEBAR ||\r\n          meetingLayout === meetingLayouts.UNPINNED_SPOTLIGHT\r\n            ? []\r\n            : [..._pinnedParticipants.keys()],\r\n        moveLocalUnpinnedOnTop:\r\n          _pinnedParticipants.size && meetingLayout !== meetingLayouts.GRID\r\n            ? false\r\n            : true,\r\n      }),\r\n      gridInfo,\r\n    });\r\n\r\n    return { singleRow, mainLayoutParticipantId };\r\n  }, [\r\n    meetingLayout,\r\n    participants,\r\n    mainViewParticipants,\r\n    isPortrait,\r\n    isMobile,\r\n    isTab,\r\n    isSMDesktop,\r\n    isLGDesktop,\r\n    presenterId,\r\n    whiteboardStarted,\r\n    localParticipantId,\r\n    pinnedParticipants,\r\n    activeSpeakerId,\r\n    lastActiveParticipantId,\r\n    mainParticipantId,\r\n    layoutGridSize,\r\n    hideLocalParticipant,\r\n    sideStackSize,\r\n    mainScreenViewActive,\r\n  ]);\r\n\r\n  const spacing = reduceEdgeSpacing ? 4 : rowSpacing - gutter;\r\n\r\n  const theme = useTheme();\r\n\r\n  const presentingSideBarWidth = useResponsiveSize({\r\n    xl: 320,\r\n    lg: 280,\r\n    md: 260,\r\n    sm: 240,\r\n    xs: 200,\r\n  });\r\n\r\n  const mainContainerHorizontalPadding = useMemo(\r\n    () =>\r\n      presenterId ||\r\n      whiteboardStarted ||\r\n      (mainLayoutParticipantId && singleRow.length !== 0)\r\n        ? 0\r\n        : typeof sideBarMode === \"string\"\r\n        ? 0\r\n        : mainViewParticipants?.length <= 9\r\n        ? isLGDesktop\r\n          ? !mainScreenViewActive && singleRow.length === 2\r\n            ? 0\r\n            : 140\r\n          : isSMDesktop\r\n          ? !mainScreenViewActive && singleRow.length === 2\r\n            ? 20\r\n            : 90\r\n          : isTab && !isPortrait\r\n          ? 60\r\n          : 0\r\n        : 0,\r\n    [\r\n      mainScreenViewActive,\r\n      sideBarMode,\r\n      mainViewParticipants,\r\n      isLGDesktop,\r\n      isSMDesktop,\r\n      singleRow,\r\n      isTab,\r\n      isPortrait,\r\n      whiteboardStarted,\r\n      presenterId,\r\n      mainLayoutParticipantId,\r\n      meetingLayout,\r\n    ]\r\n  );\r\n\r\n  const gridVerticalSpacing = useResponsiveSize({\r\n    xl: 160,\r\n    lg: 90,\r\n    md: 90,\r\n    sm: 60,\r\n    xs: 60,\r\n  });\r\n\r\n  const actualPresentingSideBarWidth = useMemo(\r\n    () => (singleRow.length ? presentingSideBarWidth : 0),\r\n    [singleRow, presentingSideBarWidth]\r\n  );\r\n\r\n  return participants ? (\r\n    <>\r\n      <div\r\n        style={{\r\n          width,\r\n          backgroundColor: theme.palette.background.default,\r\n          overflow: \"hidden\",\r\n          transition: `width ${400 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"ease-in-out\",\r\n          display: \"flex\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: mainScreenViewActive\r\n              ? width - actualPresentingSideBarWidth\r\n              : 0,\r\n            height,\r\n            transition: `all ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"ease-in-out\",\r\n            paddingLeft: mainScreenViewActive ? spacing : 0,\r\n            paddingTop: mainScreenViewActive ? spacing : 0,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              height: height - 2 * spacing,\r\n              width: mainScreenViewActive\r\n                ? width -\r\n                  (isMobile ? 0 : actualPresentingSideBarWidth) -\r\n                  2 * spacing\r\n                : 0,\r\n              backgroundColor:\r\n                presenterId || whiteboardStarted\r\n                  ? theme.palette.background.paper\r\n                  : undefined,\r\n              transition: `width ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              transitionTimingFunction: \"ease-in-out\",\r\n              borderRadius: theme.spacing(1),\r\n              overflow: \"hidden\",\r\n              position: \"relative\",\r\n            }}\r\n          >\r\n            {whiteboardStarted && (\r\n              <WhiteboardContainer\r\n                {...{\r\n                  ...convertHWAspectRatio({\r\n                    height:\r\n                      height -\r\n                      2 * spacing -\r\n                      (whiteboardToolbarWidth === 0 ? 2 * 16 : 0),\r\n                    width: whiteboardStarted\r\n                      ? width -\r\n                        (isMobile ? 0 : presentingSideBarWidth) -\r\n                        2 * spacing -\r\n                        (whiteboardToolbarWidth + 2 * whiteboardSpacing) -\r\n                        (whiteboardToolbarWidth === 0 ? 2 * 16 : 0)\r\n                      : 0,\r\n                  }),\r\n                  whiteboardToolbarWidth,\r\n                  whiteboardSpacing,\r\n                  originalHeight: height - 2 * spacing,\r\n                  originalWidth: whiteboardStarted\r\n                    ? width -\r\n                      (isMobile ? 0 : actualPresentingSideBarWidth) -\r\n                      2 * spacing\r\n                    : 0,\r\n                }}\r\n              />\r\n            )}\r\n\r\n            {presenterId && <PresenterView presenterId={presenterId} />}\r\n\r\n            {!presenterId && !whiteboardStarted && mainLayoutParticipantId && (\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  left:\r\n                    singleRow.length === 0 ? mainContainerHorizontalPadding : 0,\r\n                  right:\r\n                    singleRow.length === 0 ? mainContainerHorizontalPadding : 0,\r\n                }}\r\n              >\r\n                <MemoizedMotionParticipant\r\n                  {...{\r\n                    participantId: mainLayoutParticipantId,\r\n                    gutter,\r\n                    quality: \"high\",\r\n                    relativeHeight: 100,\r\n                    relativeWidth: 100,\r\n                    relativeTop: 0,\r\n                    relativeLeft: 0,\r\n                  }}\r\n                  key={`mainLayoutParticipantId_${mainLayoutParticipantId}`}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {isMobile && mainScreenViewActive ? null : singleRow.length <=\r\n          0 ? null : (\r\n          <div\r\n            style={{\r\n              backgroundColor: theme.palette.background.default,\r\n              overflowX: \"hidden\",\r\n              overflowY: mainScreenViewActive ? \"scroll\" : \"hidden\",\r\n              width: mainScreenViewActive\r\n                ? actualPresentingSideBarWidth\r\n                : width - 2 * spacing,\r\n              height:\r\n                height -\r\n                2 * spacing -\r\n                (singleRow.length === 2 && !mainScreenViewActive && !isMobile\r\n                  ? 2 * gridVerticalSpacing\r\n                  : 0),\r\n              margin: spacing,\r\n              transition: `all ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              transitionTimingFunction: \"ease-in-out\",\r\n              paddingLeft:\r\n                mainContainerHorizontalPadding +\r\n                (!mainScreenViewActive &&\r\n                singleRow.length > 12 &&\r\n                singleRow.length < 17 &&\r\n                typeof sideBarMode !== \"string\"\r\n                  ? 160\r\n                  : 0),\r\n              paddingRight:\r\n                mainContainerHorizontalPadding +\r\n                (!mainScreenViewActive &&\r\n                singleRow.length > 12 &&\r\n                singleRow.length < 17 &&\r\n                typeof sideBarMode !== \"string\"\r\n                  ? 160\r\n                  : 0),\r\n              paddingTop:\r\n                singleRow.length === 2 && !mainScreenViewActive && !isMobile\r\n                  ? gridVerticalSpacing\r\n                  : 0,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height:\r\n                  (mainScreenViewActive\r\n                    ? (singleRow.length * actualPresentingSideBarWidth * 2) / 3\r\n                    : height) -\r\n                  2 * spacing -\r\n                  (singleRow.length === 2 && !mainScreenViewActive && !isMobile\r\n                    ? 2 * gridVerticalSpacing\r\n                    : 0),\r\n                position: \"relative\",\r\n                transition: `height ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n                transitionTimingFunction: \"ease-in-out\",\r\n              }}\r\n            >\r\n              {singleRow.map((c) => (\r\n                <MemoizedMotionParticipant\r\n                  quality={calcQuality(mainViewParticipants?.length || 1)}\r\n                  key={`main_participant_${c.participantId}`}\r\n                  {...c}\r\n                  gutter={gutter}\r\n                  useVisibilitySensor={mainScreenViewActive ? true : false}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  ) : null;\r\n};\r\n\r\nexport default React.memo(\r\n  MainViewContainer,\r\n  (prevProps, nextProps) =>\r\n    prevProps.width === nextProps.width &&\r\n    prevProps.height === nextProps.height &&\r\n    prevProps.whiteboardToolbarWidth === nextProps.whiteboardToolbarWidth &&\r\n    prevProps.whiteboardSpacing === nextProps.whiteboardSpacing\r\n);\r\n","import {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  useTheme,\r\n  OutlinedInput as Input,\r\n  InputAdornment,\r\n  Popover,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Linkify from \"react-linkify\";\r\nimport { useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { formatAMPM, json_verify, nameTructed } from \"../../utils/common\";\r\nimport { toArray } from \"react-emoji-render\";\r\n\r\nconst ChatMessage = ({ senderId, senderName, text, timestamp }) => {\r\n  const mMeeting = useMeeting();\r\n\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n\r\n  const localSender = localParticipantId === senderId;\r\n\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: localSender ? \"flex-end\" : \"flex-start\",\r\n        maxWidth: \"100%\",\r\n      }}\r\n      mt={2}\r\n    >\r\n      <Box\r\n        style={{\r\n          paddingTop: theme.spacing(0.5),\r\n          paddingBottom: theme.spacing(0.5),\r\n          paddingLeft: theme.spacing(1),\r\n          paddingRight: theme.spacing(1),\r\n          borderRadius: 6,\r\n          backgroundColor: theme.palette.common.sidePanel,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: localSender ? \"flex-end\" : \"flex-start\",\r\n        }}\r\n      >\r\n        <Typography style={{ color: \"#ffffff80\" }}>\r\n          {localSender ? \"You\" : nameTructed(senderName, 15)}\r\n        </Typography>\r\n        <Box mt={0.5}>\r\n          <Typography\r\n            style={{\r\n              display: \"inline-block\",\r\n              whiteSpace: \"pre-wrap\",\r\n              wordBreak: \"break-word\",\r\n            }}\r\n          >\r\n            {toArray(text).map((t, i) => (\r\n              <React.Fragment key={`chat_item_text_${i}`}>\r\n                {typeof t === \"string\" ? (\r\n                  <Linkify\r\n                    properties={{\r\n                      target: \"_blank\",\r\n                      style: {\r\n                        color: theme.palette.primary.main,\r\n                      },\r\n                    }}\r\n                  >\r\n                    {t}\r\n                  </Linkify>\r\n                ) : (\r\n                  t\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </Typography>\r\n        </Box>\r\n        <Box mt={0.5}>\r\n          <Typography\r\n            variant={\"caption\"}\r\n            style={{ color: \"#ffffff80\", fontStyle: \"italic\" }}\r\n          >\r\n            {formatAMPM(new Date())}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst ChatMessages = ({ listHeight }) => {\r\n  const listRef = useRef();\r\n\r\n  const scrollToBottom = (data) => {\r\n    if (!data) {\r\n      if (listRef.current) {\r\n        listRef.current.scrollTop = listRef.current.scrollHeight;\r\n      }\r\n    } else {\r\n      const { text } = data;\r\n\r\n      if (json_verify(text)) {\r\n        const { type } = JSON.parse(text);\r\n        if (type === \"CHAT\") {\r\n          if (listRef.current) {\r\n            listRef.current.scrollTop = listRef.current.scrollHeight;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const { messages } = usePubSub(\"CHAT\");\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  return messages ? (\r\n    <Box ref={listRef} style={{ overflowY: \"scroll\", height: listHeight }}>\r\n      <Box p={2}>\r\n        {messages.map((msg, i) => {\r\n          const { senderId, senderName, message, timestamp } = msg;\r\n          return (\r\n            <ChatMessage\r\n              key={`chat_item_${i}`}\r\n              {...{ senderId, senderName, text: message, timestamp }}\r\n            />\r\n          );\r\n        })}\r\n      </Box>\r\n    </Box>\r\n  ) : (\r\n    <p>No messages</p>\r\n  );\r\n};\r\n\r\nconst ChatMessageInput = ({ inputHeight }) => {\r\n  const [messageText, setMessageText] = useState(\"\");\r\n  const [emojiOpen, setEmojiOpen] = useState(false);\r\n\r\n  const input = useRef();\r\n  const inputContainer = useRef();\r\n\r\n  const { publish } = usePubSub(\"CHAT\");\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Box\r\n      ref={inputContainer}\r\n      style={{\r\n        height: inputHeight - 1 - theme.spacing(2),\r\n        display: \"flex\",\r\n        borderTop: \"1px solid #70707033\",\r\n        alignItems: \"center\",\r\n        paddingRight: theme.spacing(1),\r\n        paddingLeft: theme.spacing(1),\r\n      }}\r\n    >\r\n      <Popover\r\n        open={emojiOpen}\r\n        onClose={() => {\r\n          setEmojiOpen(false);\r\n        }}\r\n        anchorEl={inputContainer.current}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"left\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"left\",\r\n        }}\r\n      >\r\n        <Picker\r\n          emojiSize={28}\r\n          set={\"google\"}\r\n          showPreview={false}\r\n          showSkinTones={false}\r\n          theme={\"dark\"}\r\n          style={{\r\n            backgroundColor: theme.palette.background.default,\r\n          }}\r\n          color={theme.palette.primary.main}\r\n          onSelect={(e) => {\r\n            setMessageText((s) => `${s}${e.native}`);\r\n          }}\r\n        />\r\n      </Popover>\r\n\r\n      <Input\r\n        style={{ paddingRight: 0 }}\r\n        rows={1}\r\n        rowsMax={2}\r\n        multiline\r\n        ref={input}\r\n        placeholder=\"Write your message\"\r\n        fullWidth\r\n        value={messageText}\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\" && !e.shiftKey) {\r\n            const message = messageText.trim();\r\n\r\n            if (message.length > 0) {\r\n              publish(message, { persist: true });\r\n              setTimeout(() => {\r\n                setMessageText(\"\");\r\n              }, 100);\r\n              input.current?.focus();\r\n            }\r\n          }\r\n        }}\r\n        onChange={(e) => {\r\n          const v = e.target.value;\r\n          setMessageText(v);\r\n        }}\r\n        endAdornment={\r\n          <InputAdornment>\r\n            <Box style={{ display: \"flex\" }}>\r\n              <Box>\r\n                <IconButton\r\n                  onClick={() => {\r\n                    setEmojiOpen(true);\r\n                  }}\r\n                >\r\n                  <InsertEmoticonIcon fontSize={\"small\"} />\r\n                </IconButton>\r\n              </Box>\r\n              <Box>\r\n                <IconButton\r\n                  disabled={!messageText.trim().length}\r\n                  onClick={() => {\r\n                    const message = messageText.trim();\r\n                    if (message.length > 0) {\r\n                      publish(message, { persist: true });\r\n                      setTimeout(() => {\r\n                        setMessageText(\"\");\r\n                      }, 100);\r\n                      input.current?.focus();\r\n                    }\r\n                  }}\r\n                >\r\n                  <SendIcon fontSize={\"small\"} />\r\n                </IconButton>\r\n              </Box>\r\n            </Box>\r\n          </InputAdornment>\r\n        }\r\n      ></Input>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst ChatTabPanel = ({ panelHeight }) => {\r\n  const inputHeight = 92;\r\n  const listHeight = panelHeight - inputHeight;\r\n  return (\r\n    <div>\r\n      <ChatMessages listHeight={listHeight} />\r\n      <ChatMessageInput inputHeight={inputHeight} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatTabPanel;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n// Hook\r\nexport default function useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\n","import {\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  Typography,\r\n  DialogActions,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\n\r\nconst ConfirmBox = ({\r\n  successText,\r\n  rejectText,\r\n  onSuccess,\r\n  open,\r\n  onReject,\r\n  title,\r\n  subTitle,\r\n  subTitleColor,\r\n}) => {\r\n  const v = useMeetingAppContext();\r\n\r\n  if (v && v?.isRecorder) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth\r\n      maxWidth=\"xs\"\r\n      open={open}\r\n      onClose={() => {}}\r\n      aria-labelledby=\"responsive-dialog-title\"\r\n    >\r\n      <Box style={{ padding: 8 }}>\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            flexDirection: \"row\",\r\n          }}\r\n        >\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <DialogTitle\r\n              style={{ padding: 8, margin: 0 }}\r\n              id=\"responsive-dialog-title\"\r\n            >\r\n              <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\r\n                {title}\r\n                {/* {`Allow participant entry?`} */}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"subtitle1\"\r\n                style={{\r\n                  marginTop: 3,\r\n                  color: subTitleColor ? subTitleColor : \"#9FA0A7\",\r\n                }}\r\n              >\r\n                {subTitle}\r\n                {/* {`${name} wants to join meeting.`} */}\r\n              </Typography>\r\n            </DialogTitle>\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n          <DialogActions>\r\n            <Button onClick={onReject} color=\"white\" size=\"medium\">\r\n              {rejectText}\r\n            </Button>\r\n\r\n            <Button\r\n              size=\"medium\"\r\n              onClick={onSuccess}\r\n              color=\"white\"\r\n              autoFocus\r\n              variant=\"outlined\"\r\n            >\r\n              {successText}\r\n            </Button>\r\n          </DialogActions>\r\n        </Box>\r\n      </Box>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ConfirmBox;\r\n","import React from \"react\";\r\n\r\nfunction AddCohostIcon(props) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"16\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 16 16\"\r\n      {...props}\r\n    >\r\n      <path\r\n        // fill=\"#9E9EA7\"\r\n        fillRule=\"evenodd\"\r\n        d=\"M3.484 9.52l.61 4.88H2.6V16h9.6v-1.6h-1.494l.61-4.88A3.201 3.201 0 0013.8 6.4v-.8a.8.8 0 00-.8-.8H8.2V2.986A1.599 1.599 0 007.4 0a1.6 1.6 0 00-.8 2.986V4.8H1.8a.8.8 0 00-.8.8v.8a3.201 3.201 0 002.484 3.12z\"\r\n        clipRule=\"evenodd\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default AddCohostIcon;\r\n","import { Box, IconButton, Tooltip } from \"@material-ui/core\";\r\nimport {\r\n  useMeeting,\r\n  useParticipant,\r\n  usePubSub,\r\n} from \"@videosdk.live/react-sdk\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { meetingModes } from \"../CONSTS\";\r\nimport AddCohostIcon from \"../icons/AddCohostIcon\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\n\r\nconst ToggleModeContainer = ({ participantId, participantMode }) => {\r\n  const mMeetingRef = useRef();\r\n\r\n  const [isHoverOnCohost, setIsHoverOnCohost] = useState(false);\r\n\r\n  const mMeeting = useMeeting({});\r\n\r\n  const { isLocal } = useParticipant(participantId);\r\n\r\n  useEffect(() => {\r\n    mMeetingRef.current = mMeeting;\r\n  }, [mMeeting]);\r\n\r\n  const { publish } = usePubSub(`CHANGE_MODE_${participantId}`, {});\r\n\r\n  return (\r\n    !isLocal && (\r\n      <Box\r\n        ml={1}\r\n        mr={0}\r\n        onMouseEnter={() => setIsHoverOnCohost(true)}\r\n        onMouseLeave={() => setIsHoverOnCohost(false)}\r\n      >\r\n        <Tooltip\r\n          title={\r\n            participantMode === meetingModes.CONFERENCE\r\n              ? \"Remove from Co-host\"\r\n              : \"Add as a Co-host\"\r\n          }\r\n          style={{ backgroundColor: \"#fff\" }}\r\n        >\r\n          <IconButton\r\n            style={{ padding: 0 }}\r\n            onClick={() => {\r\n              publish({\r\n                mode:\r\n                  participantMode === meetingModes.CONFERENCE\r\n                    ? meetingModes.VIEWER\r\n                    : meetingModes.CONFERENCE,\r\n              });\r\n            }}\r\n          >\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                borderRadius: 100,\r\n              }}\r\n              p={0.5}\r\n            >\r\n              <AddCohostIcon\r\n                fill={\r\n                  isHoverOnCohost || participantMode === meetingModes.CONFERENCE\r\n                    ? \"#fff\"\r\n                    : \"#9E9EA7\"\r\n                }\r\n              />\r\n            </Box>\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    )\r\n  );\r\n};\r\n\r\nexport default ToggleModeContainer;\r\n","import * as React from \"react\";\r\n\r\nconst ParticipantScreenShareIcon = (props) => (\r\n  <svg\r\n    width={20}\r\n    height={20}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <path\r\n      d=\"M18.317 2.02H1.686a1.02 1.02 0 0 0-1.02 1.015V15.56a1.02 1.02 0 0 0 1.02 1.017h16.632a1.016 1.016 0 0 0 1.015-1.02V3.038a1.017 1.017 0 0 0-1.016-1.018ZM14.3 8.482l-2.902 2.905a.378.378 0 0 1-.574-.06.368.368 0 0 1-.063-.208v-1.012a4.775 4.775 0 0 0-4.184 3.293.373.373 0 0 1-.71 0A5.543 5.543 0 0 1 10.76 6.17v-.852a.368.368 0 0 1 .23-.345.378.378 0 0 1 .407.077L14.3 7.958a.365.365 0 0 1 .112.26.378.378 0 0 1-.112.265Zm-.438 9.498a.373.373 0 1 0 0-.747H6.144a.374.374 0 0 0 0 .747h7.718Z\"\r\n      fill={props.fillColor}\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default ParticipantScreenShareIcon;\r\n","import {\r\n  useMeeting,\r\n  useParticipant,\r\n  usePubSub,\r\n} from \"@videosdk.live/react-sdk\";\r\nimport {\r\n  Close,\r\n  MoreVert,\r\n  SearchOutlined,\r\n  MicOff as MicOffIcon,\r\n  Mic as MicIcon,\r\n  VideocamOff as VideocamOffIcon,\r\n  Videocam as VideocamIcon,\r\n} from \"@material-ui/icons\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n  Fade,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useRef, useMemo, useState } from \"react\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport { Pin, RaiseHand, KickoutUserIcon } from \"../../icons\";\r\nimport { List } from \"react-virtualized\";\r\nimport useWindowSize from \"../../utils/useWindowSize\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport ConfirmBox from \"../../components/ConfirmBox\";\r\nimport { nameTructed } from \"../../utils/common\";\r\nimport ToggleModeContainer from \"../../components/ToggleModeContainer\";\r\nimport { meetingModes } from \"../../CONSTS\";\r\nimport ParticipantScreenShareIcon from \"../../icons/ParticipantScreenShareIcon\";\r\n\r\nfunction ParticipantListItem({\r\n  raisedHand,\r\n  participantId,\r\n  participantExpandedId,\r\n  setParticipantExpandedId,\r\n}) {\r\n  const { presenterId } = useMeeting();\r\n  const {\r\n    participant,\r\n    micOn,\r\n    webcamOn,\r\n    displayName,\r\n    isLocal,\r\n    pinState,\r\n    pin,\r\n    unpin,\r\n    enableMic,\r\n    disableMic,\r\n    enableWebcam,\r\n    disableWebcam,\r\n  } = useParticipant(participantId);\r\n\r\n  const {\r\n    participantCanToggleOtherMic,\r\n    participantCanToggleOtherWebcam,\r\n    partcipantCanToogleOtherScreenShare,\r\n    participantCanToggleOtherMode,\r\n    canRemoveOtherParticipant,\r\n    canPin,\r\n    animationsEnabled,\r\n    meetingMode,\r\n  } = useMeetingAppContext();\r\n\r\n  const isParticipantPresenting = useMemo(() => {\r\n    return presenterId === participantId;\r\n  }, [presenterId, participantId]);\r\n\r\n  const { publish } = usePubSub(`SCR_SHR_REQ_${participantId}`);\r\n\r\n  const [isParticipantKickoutVisible, setIsParticipantKickoutVisible] =\r\n    useState(false);\r\n\r\n  const [morePanelWidth, setMorePanelWidth] = useState(0);\r\n  const [participantMode, setParticipantMode] = useState(null);\r\n\r\n  const theme = useTheme();\r\n\r\n  const expanded = participantExpandedId === participantId;\r\n\r\n  const morePanelRef = useRef();\r\n\r\n  useEffect(() => {\r\n    morePanelRef.current?.offsetWidth &&\r\n      setMorePanelWidth(morePanelRef.current.offsetWidth);\r\n  }, []);\r\n\r\n  usePubSub(`CURRENT_MODE_${participantId}`, {\r\n    onMessageReceived: (data) => {\r\n      setParticipantMode(data.message);\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      const latestMessage = messages.sort((a, b) => {\r\n        if (a.timestamp > b.timestamp) {\r\n          return -1;\r\n        }\r\n        if (a.timestamp < b.timestamp) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })[0];\r\n\r\n      if (latestMessage) {\r\n        setParticipantMode(latestMessage.message);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Box\r\n      mt={1}\r\n      p={1}\r\n      style={{\r\n        backgroundColor: theme.palette.common.sidePanel,\r\n        borderRadius: 6,\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flex: 1,\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <Avatar variant={\"rounded\"}>{displayName?.charAt(0)}</Avatar>\r\n        <Fade in={!expanded}>\r\n          <Box ml={1} mr={0.5} style={{ flex: 1, display: \"flex\" }}>\r\n            <Typography\r\n              style={{\r\n                textOverflow: \"ellipsis\",\r\n                overflow: \"hidden\",\r\n                whiteSpace: \"pre-wrap\",\r\n              }}\r\n              variant=\"body1\"\r\n              noWrap\r\n            >\r\n              {isLocal ? \"You\" : nameTructed(displayName, 15)}\r\n            </Typography>\r\n          </Box>\r\n        </Fade>\r\n\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flex: 1,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n          }}\r\n        >\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              position: \"relative\",\r\n            }}\r\n          >\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n                right: expanded ? morePanelWidth : 0,\r\n                position: \"absolute\",\r\n              }}\r\n            >\r\n              {raisedHand && (\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  mr={0.5}\r\n                  p={0.5}\r\n                >\r\n                  <RaiseHand />\r\n                </Box>\r\n              )}\r\n\r\n              {meetingMode === meetingModes.CONFERENCE && (\r\n                <Box ml={0.5} mr={0.5}>\r\n                  <IconButton\r\n                    disabled={\r\n                      !participantCanToggleOtherMic ||\r\n                      isLocal ||\r\n                      meetingMode === meetingModes.VIEWER ||\r\n                      participantMode === meetingModes.VIEWER\r\n                    }\r\n                    style={{ padding: 0 }}\r\n                    onClick={() => {\r\n                      if (micOn) {\r\n                        disableMic();\r\n                      } else {\r\n                        enableMic();\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Box\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        borderRadius: 100,\r\n                        backgroundColor: micOn\r\n                          ? null\r\n                          : theme.palette.error.main,\r\n                      }}\r\n                      p={0.5}\r\n                    >\r\n                      {micOn ? (\r\n                        <MicIcon\r\n                          fontSize=\"small\"\r\n                          style={{ color: theme.palette.common.white }}\r\n                        />\r\n                      ) : (\r\n                        <MicOffIcon\r\n                          fontSize=\"small\"\r\n                          style={{ color: theme.palette.common.white }}\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                  </IconButton>\r\n                </Box>\r\n              )}\r\n              {meetingMode === meetingModes.CONFERENCE && (\r\n                <Box ml={1} mr={0}>\r\n                  <IconButton\r\n                    disabled={\r\n                      !participantCanToggleOtherWebcam ||\r\n                      isLocal ||\r\n                      meetingMode === meetingModes.VIEWER ||\r\n                      participantMode === meetingModes.VIEWER\r\n                    }\r\n                    style={{ padding: 0 }}\r\n                    onClick={() => {\r\n                      if (webcamOn) {\r\n                        disableWebcam();\r\n                      } else {\r\n                        enableWebcam();\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Box\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        borderRadius: 100,\r\n                        backgroundColor: webcamOn\r\n                          ? null\r\n                          : theme.palette.error.main,\r\n                      }}\r\n                      p={0.5}\r\n                    >\r\n                      {webcamOn ? (\r\n                        <VideocamIcon\r\n                          fontSize=\"small\"\r\n                          style={{ color: theme.palette.common.white }}\r\n                        />\r\n                      ) : (\r\n                        <VideocamOffIcon\r\n                          fontSize=\"small\"\r\n                          style={{ color: theme.palette.common.white }}\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                  </IconButton>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            <Box\r\n              ref={morePanelRef}\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n                right: expanded ? 0 : -morePanelWidth,\r\n                position: \"absolute\",\r\n                opacity: expanded ? 1 : 0,\r\n              }}\r\n            >\r\n              {canPin && (\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  ml={1}\r\n                  mr={0}\r\n                  p={0.5}\r\n                >\r\n                  <Tooltip\r\n                    title={pinState?.share || pinState?.cam ? \"Unpin\" : `Pin`}\r\n                  >\r\n                    <IconButton\r\n                      disabled={\r\n                        !expanded ||\r\n                        meetingMode === meetingModes.VIEWER ||\r\n                        participantMode === meetingModes.VIEWER\r\n                      }\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        pinState?.share || pinState?.cam ? unpin() : pin();\r\n                      }}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <Pin\r\n                        fill={\r\n                          pinState?.share || pinState?.cam\r\n                            ? \"white\"\r\n                            : \"#ffffff80\"\r\n                        }\r\n                        style={{\r\n                          width: 20,\r\n                          height: 20,\r\n                        }}\r\n                      />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              )}\r\n\r\n              {meetingMode === meetingModes.CONFERENCE && (\r\n                <Box ml={1} mr={0}>\r\n                  <Tooltip title={`Screen share`}>\r\n                    <IconButton\r\n                      disabled={\r\n                        !(\r\n                          !isLocal &&\r\n                          partcipantCanToogleOtherScreenShare &&\r\n                          (presenterId ? isParticipantPresenting : true)\r\n                        ) ||\r\n                        meetingMode === meetingModes.VIEWER ||\r\n                        participantMode === meetingModes.VIEWER\r\n                      }\r\n                      style={{ padding: 0 }}\r\n                      onClick={() => {\r\n                        publish({\r\n                          setScreenShareOn: !isParticipantPresenting,\r\n                        });\r\n                      }}\r\n                    >\r\n                      <Box\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          alignItems: \"center\",\r\n                          borderRadius: 100,\r\n                        }}\r\n                        p={0.5}\r\n                      >\r\n                        {/* {isParticipantPresenting ? (\r\n                          <ScreenShare />\r\n                        ) : (\r\n                          <ScreenShareOutlined color=\"#ffffff80\" />\r\n                        )} */}\r\n                        {isParticipantPresenting ? (\r\n                          <ParticipantScreenShareIcon fillColor={\"#ffffff\"} />\r\n                        ) : (\r\n                          <ParticipantScreenShareIcon fillColor=\"#ffffff80\" />\r\n                        )}\r\n                      </Box>\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              )}\r\n\r\n              {participantCanToggleOtherMode && (\r\n                <ToggleModeContainer\r\n                  participantId={participantId}\r\n                  participantMode={participantMode}\r\n                />\r\n              )}\r\n\r\n              {!isLocal && canRemoveOtherParticipant && (\r\n                <Box ml={1} mr={0}>\r\n                  <Tooltip title={`Remove`}>\r\n                    <IconButton\r\n                      // disabled={!expanded}\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setIsParticipantKickoutVisible(true);\r\n                      }}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <KickoutUserIcon height={18} width={18} />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <ConfirmBox\r\n                    open={isParticipantKickoutVisible}\r\n                    title={`Remove ${nameTructed(displayName, 15)} `}\r\n                    subTitle={`Are you sure want to remove ${nameTructed(\r\n                      displayName,\r\n                      15\r\n                    )} from the call?`}\r\n                    successText={\"Remove\"}\r\n                    rejectText={\"Cancel\"}\r\n                    onSuccess={() => {\r\n                      participant.remove();\r\n                    }}\r\n                    onReject={() => {\r\n                      setIsParticipantKickoutVisible(false);\r\n                    }}\r\n                  />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n          {meetingMode === meetingModes.CONFERENCE && (\r\n            <Box\r\n              style={{\r\n                transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              }}\r\n              ml={expanded ? 1.5 : 1}\r\n            >\r\n              <IconButton\r\n                style={{ padding: 0 }}\r\n                disabled={meetingMode === meetingModes.VIEWER}\r\n                onClick={(e) => {\r\n                  if (participantId === participantExpandedId) {\r\n                    setParticipantExpandedId(null);\r\n                  } else {\r\n                    setParticipantExpandedId(participantId);\r\n                  }\r\n                }}\r\n              >\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    borderRadius: 100,\r\n                    border: `${expanded ? \"0\" : \"0\"}px solid ${\r\n                      expanded\r\n                        ? theme.palette.error.main\r\n                        : theme.palette.common.secondaryContrastTextLight\r\n                    }`,\r\n                    backgroundColor: expanded ? theme.palette.error.main : null,\r\n                  }}\r\n                  p={0.5}\r\n                >\r\n                  {expanded ? (\r\n                    <Close fontSize=\"small\" />\r\n                  ) : (\r\n                    <MoreVert fontSize=\"small\" />\r\n                  )}\r\n                </Box>\r\n              </IconButton>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default function ParticipantsTabPanel({ panelWidth, panelHeight }) {\r\n  const [filterQuery, setFilterQuery] = useState(\"\");\r\n  const [participantExpandedId, setParticipantExpandedId] = useState(null);\r\n\r\n  const { participants } = useMeeting();\r\n  const { raisedHandsParticipants } = useMeetingAppContext();\r\n\r\n  const sortedRaisedHandsParticipants = useMemo(() => {\r\n    const participantIds = [...participants.keys()];\r\n\r\n    const notRaised = participantIds.filter(\r\n      (pID) =>\r\n        raisedHandsParticipants.findIndex(\r\n          ({ participantId: rPID }) => rPID === pID\r\n        ) === -1\r\n    );\r\n\r\n    const raisedSorted = raisedHandsParticipants.sort((a, b) => {\r\n      if (a.raisedHandOn > b.raisedHandOn) {\r\n        return -1;\r\n      }\r\n      if (a.raisedHandOn < b.raisedHandOn) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    const combined = [\r\n      ...raisedSorted.map(({ participantId: p }) => ({\r\n        raisedHand: true,\r\n        participantId: p,\r\n      })),\r\n      ...notRaised.map((p) => ({ raisedHand: false, participantId: p })),\r\n    ];\r\n\r\n    return combined;\r\n  }, [raisedHandsParticipants, participants]);\r\n\r\n  const theme = useTheme();\r\n\r\n  const filterParticipants = (\r\n    sortedRaisedHandsParticipants,\r\n    participants,\r\n    filterQuery\r\n  ) =>\r\n    filterQuery?.length > 3\r\n      ? sortedRaisedHandsParticipants.filter(({ participantId }) => {\r\n          const { displayName } = participants.get(participantId);\r\n\r\n          const hide = !displayName\r\n            ?.toLowerCase()\r\n            .includes(filterQuery.toLowerCase());\r\n\r\n          return !hide;\r\n        })\r\n      : sortedRaisedHandsParticipants;\r\n\r\n  const part = useMemo(\r\n    () =>\r\n      filterParticipants(\r\n        sortedRaisedHandsParticipants,\r\n        participants,\r\n        filterQuery\r\n      ),\r\n\r\n    [sortedRaisedHandsParticipants, participants, filterQuery]\r\n  );\r\n\r\n  function rowRenderer({ key, index, isScrolling, isVisible, style }) {\r\n    const { participantId, raisedHand } = part[index];\r\n\r\n    return (\r\n      <div {...{ key, style }}>\r\n        {isVisible ? (\r\n          <ParticipantListItem\r\n            participantId={participantId}\r\n            raisedHand={raisedHand}\r\n            participantExpandedId={participantExpandedId}\r\n            setParticipantExpandedId={setParticipantExpandedId}\r\n          />\r\n        ) : (\r\n          <Box\r\n            mt={1}\r\n            style={{\r\n              height: 56,\r\n              backgroundColor: theme.palette.common.sidePanel,\r\n              borderRadius: 6,\r\n            }}\r\n          ></Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  const { width } = useWindowSize();\r\n  const isTab = useIsTab();\r\n  const isMobile = useIsMobile();\r\n\r\n  return (\r\n    <Box\r\n      p={1}\r\n      style={{\r\n        height: panelHeight - 32,\r\n        overflowY: \"auto\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <Box>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          placeholder=\"Search Participants\"\r\n          onChange={(e) => setFilterQuery(e.target.value)}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchOutlined />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      <Box style={{ overflowY: \"auto\" }}>\r\n        <List\r\n          width={isTab || isMobile ? width - 32 : panelWidth - 36}\r\n          height={panelHeight - 90}\r\n          rowCount={part.length}\r\n          rowHeight={64}\r\n          rowRenderer={rowRenderer}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nfunction PollIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"32\"\r\n      height=\"33\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 32 33\"\r\n    >\r\n      <path\r\n        fill=\"#fff\"\r\n        d=\"M28.444.5H3.556A3.566 3.566 0 000 4.056v24.888C0 30.9 1.6 32.5 3.556 32.5h24.888C30.4 32.5 32 30.9 32 28.944V4.056C32 2.1 30.4.5 28.444.5zM8.89 25.389c-.978 0-1.778-.8-1.778-1.778v-8.889c0-.978.8-1.778 1.778-1.778s1.778.8 1.778 1.778v8.89c0 .977-.8 1.777-1.778 1.777zm7.111 0c-.978 0-1.778-.8-1.778-1.778V9.39c0-.978.8-1.778 1.778-1.778s1.778.8 1.778 1.778V23.61c0 .978-.8 1.778-1.778 1.778zm7.111 0c-.978 0-1.778-.8-1.778-1.778v-3.555c0-.978.8-1.778 1.778-1.778s1.778.8 1.778 1.778v3.555c0 .978-.8 1.778-1.778 1.778z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default PollIcon;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  IconButton,\r\n  makeStyles,\r\n  MenuItem,\r\n  Radio,\r\n  Select,\r\n  styled,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useMemo, useRef, useState } from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport {\r\n  sideBarNestedModes,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  textField: {\r\n    borderRadius: \"4px\",\r\n    color: \"white\",\r\n    fontWeight: 400,\r\n  },\r\n\r\n  textFieldRoot: {\r\n    \"& .MuiInputBase-input\": {\r\n      fontSize: \"16px\",\r\n      fontWeight: 400,\r\n    },\r\n  },\r\n\r\n  root: {\r\n    \"& .MuiFilledInput-input\": {\r\n      padding: \"12px 12px 12px\",\r\n    },\r\n    borderRadius: \"4px\",\r\n  },\r\n\r\n  checkbox1: {\r\n    \"&$checked\": {\r\n      color: \"#1178F8\",\r\n    },\r\n  },\r\n\r\n  selectRoot: {\r\n    \"& .MuiInputBase-input \": {\r\n      padding: \"0px 24px 0px 0\",\r\n    },\r\n  },\r\n\r\n  iconbutton: {\r\n    \"&:hover \": {\r\n      background: \"transparent\",\r\n    },\r\n  },\r\n  iconContainer: {\r\n    \"&:hover $icon\": {\r\n      color: \"white\",\r\n      background: \"transparent\",\r\n    },\r\n  },\r\n\r\n  icon: {\r\n    color: \"#9FA0A7\",\r\n    background: \"transparent\",\r\n  },\r\n\r\n  checkbox: {\r\n    \"&. .MuiCheckbox-colorSecondary\": {\r\n      color: \"#1178F8\",\r\n    },\r\n    \"& .MuiCheckbox-colorSecondary.Mui-checked \": {\r\n      backgroundColor: \"#1178F8\",\r\n      color: \"#1178F8\",\r\n    },\r\n    \"& .Mui-checked\": {\r\n      backgroundColor: \"#1178F8\",\r\n      color: \"#1178F8\",\r\n    },\r\n    \"& .MuiCheckbox-root\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst BpIcon = styled(\"span\")(({ theme }) => ({\r\n  borderRadius: 3,\r\n  padding: 0,\r\n  margin: 0,\r\n  width: 16,\r\n  height: 16,\r\n  border: `2px solid ${theme.palette.text.secondary}`,\r\n  \"input:disabled ~ &\": {\r\n    boxShadow: \"none\",\r\n    background: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst MarkCorrectIcon = styled(\"span\")(({ theme }) => ({\r\n  borderRadius: 12,\r\n  padding: 0,\r\n  margin: 0,\r\n  width: 16,\r\n  height: 16,\r\n  border: `2px solid ${theme.palette.text.secondary}`,\r\n  \"input:disabled ~ &\": {\r\n    boxShadow: \"none\",\r\n    background: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst BpCheckedIcon = styled(BpIcon)({\r\n  backgroundColor: \"#1178F8\",\r\n  border: \"2px solid #1178F8\",\r\n  \"&:before\": {\r\n    display: \"block\",\r\n    width: 16,\r\n    height: 16,\r\n    backgroundImage:\r\n      \"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\r\n      \" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\r\n      \"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\r\n    content: '\"\"',\r\n  },\r\n});\r\n\r\nconst MarkCorrectCheckedIcon = styled(MarkCorrectIcon)({\r\n  backgroundColor: \"#1178F8\",\r\n  border: \"2px solid #1178F8\",\r\n  \"&:before\": {\r\n    display: \"block\",\r\n    width: 16,\r\n    height: 16,\r\n    backgroundImage:\r\n      \"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\r\n      \" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\r\n      \"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\r\n    content: '\"\"',\r\n  },\r\n});\r\n\r\nfunction BpCheckbox(CheckboxProps) {\r\n  return (\r\n    <Checkbox\r\n      disableRipple\r\n      disableFocusRipple\r\n      color=\"default\"\r\n      checkedIcon={<BpCheckedIcon />}\r\n      icon={<BpIcon />}\r\n      style={{\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        backgroundColor: \"transparent\",\r\n      }}\r\n      {...CheckboxProps}\r\n    />\r\n  );\r\n}\r\n\r\nexport function MarkCorrectCheckbox(CheckboxProps) {\r\n  return (\r\n    <Radio\r\n      disableRipple\r\n      disableFocusRipple\r\n      color=\"default\"\r\n      checkedIcon={<MarkCorrectCheckedIcon />}\r\n      icon={<MarkCorrectIcon />}\r\n      style={{\r\n        padding: 0,\r\n        margin: 0,\r\n        backgroundColor: \"transparent\",\r\n      }}\r\n      {...CheckboxProps}\r\n    />\r\n  );\r\n}\r\n\r\nconst CreatePollPart = ({\r\n  classes,\r\n  isMarkAsCorrectChecked,\r\n  setIsMarkAsCorrectChecked,\r\n  isSetTimerChecked,\r\n  setIsSetTimerChecked,\r\n  question,\r\n  setQuestion,\r\n  questionErr,\r\n  option,\r\n  setOption,\r\n  options,\r\n  setOptions,\r\n  setTimer,\r\n  _handleKeyDown,\r\n  padding,\r\n  timer,\r\n  timerErr,\r\n  correctAnswerErr,\r\n  minOptionErr,\r\n  optionErr,\r\n}) => {\r\n  const createOptionRef = useRef(null);\r\n  //for timer\r\n  const pollTimerArr = useMemo(() => {\r\n    const pollTimerArr = [{ value: 30, Label: \"30 secs\" }];\r\n    for (let i = 1; i < 11; i++) {\r\n      pollTimerArr.push({\r\n        value: i * 60,\r\n        Label: `${i} min${i === 1 ? \"\" : \"s\"}`,\r\n      });\r\n    }\r\n    return pollTimerArr;\r\n  }, []);\r\n\r\n  const focusCreateOption = () => {\r\n    setTimeout(() => {\r\n      createOptionRef.current.focus();\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        margin: padding,\r\n        overflowY: \"auto\",\r\n      }}\r\n    >\r\n      <TextField\r\n        variant=\"standard\"\r\n        style={{ width: \"100%\", borderBottom: \"1px solid #3D3C4E\" }}\r\n        placeholder=\"What you want to ask ?\"\r\n        autoFocus\r\n        InputProps={{\r\n          classes: {\r\n            root: classes.textFieldRoot,\r\n          },\r\n        }}\r\n        value={question}\r\n        onChange={(e) => setQuestion(e.target.value)}\r\n      />\r\n      {questionErr && (\r\n        <Box style={{ marginTop: 2 }}>\r\n          <Typography style={{ color: \"#E03B34\", fontSize: 12 }}>\r\n            Please enter proper question.\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n\r\n      <Box style={{ marginTop: 24 }}>\r\n        {/* option list  */}\r\n        <Box>\r\n          {options.length > 0 && (\r\n            <Box>\r\n              {options.map((item) => {\r\n                return (\r\n                  <Box style={{ display: \"flex\", marginBottom: 16 }}>\r\n                    {isMarkAsCorrectChecked && item.option.length != 0 && (\r\n                      <MarkCorrectCheckbox\r\n                        value={item.isCorrect}\r\n                        checked={item.isCorrect === true}\r\n                        onChange={() => {\r\n                          setOptions(\r\n                            options.map((option) => {\r\n                              if (option.optionId === item.optionId) {\r\n                                option.isCorrect = !option.isCorrect;\r\n                              } else {\r\n                                option.isCorrect = false;\r\n                              }\r\n                              return option;\r\n                            })\r\n                          );\r\n                        }}\r\n                      />\r\n                    )}\r\n                    <TextField\r\n                      placeholder=\"Add your options\"\r\n                      fullWidth\r\n                      variant=\"filled\"\r\n                      autocomplete=\"off\"\r\n                      value={item.option}\r\n                      onBlur={_handleKeyDown}\r\n                      onChange={(e) => {\r\n                        setOptions(\r\n                          options.map((option) => {\r\n                            if (option.optionId === item.optionId) {\r\n                              option.option = e.target.value;\r\n                              if (e.target.value === \"\" && item.isCorrect) {\r\n                                option.isCorrect = false;\r\n                              }\r\n                            }\r\n                            return option;\r\n                          })\r\n                        );\r\n                      }}\r\n                      className={classes.root}\r\n                      style={{\r\n                        marginLeft: isMarkAsCorrectChecked ? 8 : 0,\r\n                        backgroundColor:\r\n                          item.isCorrect && item.option !== \"\"\r\n                            ? \"#1178F8\"\r\n                            : \"#3D3C4E\",\r\n                      }}\r\n                      InputProps={{\r\n                        disableUnderline: true,\r\n                        classes: {\r\n                          root: classes.textField,\r\n                        },\r\n                        endAdornment: (\r\n                          <IconButton\r\n                            onClick={() => {\r\n                              setOptions((options) => {\r\n                                const newOptions = options.filter(\r\n                                  ({ optionId }) => {\r\n                                    return optionId !== item.optionId;\r\n                                  }\r\n                                );\r\n                                return newOptions;\r\n                              });\r\n                            }}\r\n                            disableFocusRipple\r\n                            disableRipple\r\n                            disableTouchRipple\r\n                            className={classes.iconbutton}\r\n                            classes={{\r\n                              root: classes.iconContainer,\r\n                            }}\r\n                            style={{ padding: 0, margin: 0 }}\r\n                          >\r\n                            <CloseIcon\r\n                              fontSize={\"small\"}\r\n                              className={classes.icon}\r\n                            />\r\n                          </IconButton>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                );\r\n              })}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n        {/* end of option list */}\r\n\r\n        <Box>\r\n          {/* old Text */}\r\n          <Box style={{ display: \"flex\" }}>\r\n            {isMarkAsCorrectChecked && option.option && (\r\n              <MarkCorrectCheckbox\r\n                value={option.isCorrect}\r\n                checked={option.isCorrect === true}\r\n                onChange={(e) => {\r\n                  setOptions((options) => {\r\n                    return [\r\n                      ...options.map((option) => {\r\n                        return { ...option, isCorrect: false };\r\n                      }),\r\n                      {\r\n                        ...option,\r\n                        isCorrect: e.target.checked,\r\n                      },\r\n                    ];\r\n                  });\r\n\r\n                  setOption({\r\n                    option: \"\",\r\n                    isCorrect: false,\r\n                  });\r\n                }}\r\n              />\r\n            )}\r\n            <TextField\r\n              placeholder=\"Add your options\"\r\n              inputRef={createOptionRef}\r\n              fullWidth\r\n              variant=\"filled\"\r\n              autocomplete=\"off\"\r\n              value={option.option}\r\n              onChange={(e) =>\r\n                setOption({\r\n                  optionId: uuid(),\r\n                  option: e.target.value,\r\n                  isCorrect: !!option.isCorrect,\r\n                })\r\n              }\r\n              onKeyDown={_handleKeyDown}\r\n              onBlur={_handleKeyDown}\r\n              className={classes.root}\r\n              style={{\r\n                marginLeft: isMarkAsCorrectChecked && option.option ? 8 : 0,\r\n                backgroundColor:\r\n                  option.isCorrect && option.option ? \"#1178F8\" : \"#3D3C4E\",\r\n              }}\r\n              InputProps={{\r\n                disableUnderline: true,\r\n                classes: {\r\n                  root: classes.textField,\r\n                },\r\n              }}\r\n            />\r\n          </Box>\r\n          {/* end of old Text */}\r\n\r\n          {/* dummy Text */}\r\n          {option?.option?.length > 0 && (\r\n            <Box style={{ display: \"flex\" }}>\r\n              <TextField\r\n                placeholder=\"Add your options\"\r\n                fullWidth\r\n                variant=\"filled\"\r\n                autocomplete=\"off\"\r\n                onChange={(e) => {}}\r\n                onFocus={(e) => {\r\n                  _handleKeyDown(e);\r\n                  focusCreateOption();\r\n                  // e.preventDefault();\r\n                  // setOptions([...options, option]);\r\n                  // setOption({ option: \"\", isCorrect: false });\r\n\r\n                  // setTimeout(() => {\r\n                  //   createOptionRef.current.focus();\r\n                  // }, 1000);\r\n                }}\r\n                className={classes.root}\r\n                style={{\r\n                  marginLeft: 0,\r\n                  marginTop: 16,\r\n                }}\r\n                InputProps={{\r\n                  disableUnderline: true,\r\n                  classes: {\r\n                    root: classes.textField,\r\n                  },\r\n                }}\r\n              />\r\n            </Box>\r\n          )}\r\n          {/* end of dummy Text */}\r\n\r\n          {minOptionErr && (\r\n            <Typography\r\n              style={{ fontSize: 12, color: \"#E03B34\", marginTop: 4 }}\r\n            >\r\n              Please add atleast 2 options.\r\n            </Typography>\r\n          )}\r\n          {optionErr && (\r\n            <Typography\r\n              style={{ fontSize: 12, color: \"#E03B34\", marginTop: 4 }}\r\n            >\r\n              Please enter valid option value.\r\n            </Typography>\r\n          )}\r\n          <Box style={{ marginTop: 32 }}>\r\n            <FormGroup\r\n              style={{\r\n                display: \"flex\",\r\n                paddingLeft: 6,\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <FormControlLabel\r\n                style={{ color: \"white\" }}\r\n                control={\r\n                  <BpCheckbox\r\n                    onClick={() => {\r\n                      setIsMarkAsCorrectChecked((s) => !s);\r\n                    }}\r\n                  />\r\n                }\r\n                label=\"Mark correct option\"\r\n              />\r\n            </FormGroup>\r\n            {correctAnswerErr && (\r\n              <Typography\r\n                style={{ fontSize: 12, color: \"#E03B34\", marginTop: 4 }}\r\n              >\r\n                {\r\n                  \"Please check any one option as correct if `isMarkAsCorrectChecked`\"\r\n                }\r\n              </Typography>\r\n            )}\r\n            <Box style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  alignItems: \"center\",\r\n                  marginTop: 14,\r\n                }}\r\n              >\r\n                <FormGroup\r\n                  style={{\r\n                    display: \"flex\",\r\n                    paddingLeft: 6,\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  <FormControlLabel\r\n                    style={{ color: \"white\" }}\r\n                    control={\r\n                      <BpCheckbox\r\n                        onClick={(e) => {\r\n                          setIsSetTimerChecked((s) => !s);\r\n                        }}\r\n                      />\r\n                    }\r\n                    label=\"Set timer\"\r\n                  />\r\n                </FormGroup>\r\n                {isSetTimerChecked && (\r\n                  <Select\r\n                    value={timer}\r\n                    onChange={(e) => {\r\n                      setTimer(e.target.value);\r\n                    }}\r\n                    className={classes.selectRoot}\r\n                  >\r\n                    {pollTimerArr.map((item) => {\r\n                      return (\r\n                        <MenuItem value={item.value}>{item.Label}</MenuItem>\r\n                      );\r\n                    })}\r\n                  </Select>\r\n                )}\r\n              </Box>\r\n              <Box style={{ marginTop: 4, marginLeft: 4 }}>\r\n                {timerErr && (\r\n                  <Typography style={{ fontSize: 12, color: \"#E03B34\" }}>\r\n                    {\"Timer should be more than 30 seconds.\"}\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst PollButtonPart = ({\r\n  theme,\r\n  publishCreatePoll,\r\n  publishDraftPoll,\r\n  question,\r\n  options,\r\n  padding,\r\n  timer,\r\n  setQuestionErr,\r\n  isMarkAsCorrectChecked,\r\n  isSetTimerChecked,\r\n  setSideBarNestedMode,\r\n  setTimerErr,\r\n  setCorrectAnswerErr,\r\n  setMinOptionErr,\r\n  setOptionErr,\r\n}) => {\r\n  const { polls } = useMeetingAppContext();\r\n\r\n  const singleOption = options?.map((option) => {\r\n    return option.option;\r\n  });\r\n\r\n  const handleValidation = ({\r\n    question,\r\n    options,\r\n    isSetTimerChecked,\r\n    timer,\r\n    isMarkAsCorrectChecked,\r\n  }) => {\r\n    let isValid = true;\r\n\r\n    if (\r\n      question.length >= 2 &&\r\n      /^[^-\\s][a-zA-Z0-9_!@#$%^&*()`~.,<>{}[\\]<>?_=+\\-|;:\\\\'\\\"\\/\\s-]+$/i.test(\r\n        question.trim()\r\n      )\r\n    ) {\r\n      setQuestionErr(false);\r\n    } else {\r\n      isValid = false;\r\n      setQuestionErr(true);\r\n      return false;\r\n    }\r\n\r\n    if (options?.length < 2) {\r\n      isValid = false;\r\n      setMinOptionErr(true);\r\n      return false;\r\n    } else {\r\n      setMinOptionErr(false);\r\n    }\r\n\r\n    for (let i = 0; i < singleOption.length; i++) {\r\n      if (singleOption[i].length < 1) {\r\n        isValid = false;\r\n        setOptionErr(true);\r\n        return false;\r\n      } else {\r\n        setOptionErr(false);\r\n      }\r\n    }\r\n\r\n    // check time timer if `isSetTimerChecked`\r\n    if (isSetTimerChecked && timer < 30) {\r\n      isValid = false;\r\n      setTimerErr(true);\r\n      return false;\r\n    } else {\r\n      setTimerErr(false);\r\n    }\r\n\r\n    if (\r\n      isMarkAsCorrectChecked &&\r\n      options.findIndex(({ isCorrect }) => isCorrect) === -1\r\n    ) {\r\n      // please check any one option as correct if `isMarkAsCorrectChecked`\r\n      isValid = false;\r\n      setCorrectAnswerErr(true);\r\n      return false;\r\n    } else {\r\n      setCorrectAnswerErr(false);\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  return (\r\n    <Box style={{ display: \"flex\", padding: padding }}>\r\n      <Button\r\n        variant=\"contained\"\r\n        style={{\r\n          width: \"50%\",\r\n          backgroundColor: theme.palette.common.sidePanel,\r\n          color: theme.palette.common.white,\r\n          padding: \"8px\",\r\n          boxShadow: \"none\",\r\n        }}\r\n        onClick={() => {\r\n          const isValid = handleValidation({\r\n            question,\r\n            options,\r\n            isSetTimerChecked,\r\n            isMarkAsCorrectChecked,\r\n            timer,\r\n          });\r\n\r\n          if (isValid) {\r\n            publishDraftPoll(\r\n              {\r\n                id: uuid(),\r\n                question: question.trim(),\r\n                options: options.map((option) => ({\r\n                  ...option,\r\n                  option: option.option.trim(),\r\n                })),\r\n                timeout: isSetTimerChecked ? timer : 0,\r\n                hasCorrectAnswer: isMarkAsCorrectChecked ? true : false,\r\n                hasTimer: isSetTimerChecked ? true : false,\r\n                isActive: false,\r\n              },\r\n              {\r\n                persist: true,\r\n              }\r\n            );\r\n            setSideBarNestedMode(sideBarNestedModes.POLLS);\r\n          }\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        style={{\r\n          width: \"50%\",\r\n          marginLeft: 8,\r\n          color: theme.palette.common.white,\r\n          backgroundColor: theme.palette.primary.main,\r\n          padding: \"8px\",\r\n          boxShadow: \"none\",\r\n        }}\r\n        onClick={() => {\r\n          const isValid = handleValidation({\r\n            question,\r\n            options,\r\n            isSetTimerChecked,\r\n            isMarkAsCorrectChecked,\r\n            timer,\r\n          });\r\n\r\n          if (isValid) {\r\n            publishCreatePoll(\r\n              {\r\n                id: uuid(),\r\n                question: question.trim(),\r\n                options: options.map((option) => ({\r\n                  ...option,\r\n                  option: option.option.trim(),\r\n                })),\r\n                timeout: isSetTimerChecked ? timer : 0,\r\n                hasCorrectAnswer: isMarkAsCorrectChecked ? true : false,\r\n                hasTimer: isSetTimerChecked ? true : false,\r\n                isActive: true,\r\n                index: polls.length + 1,\r\n              },\r\n              { persist: true }\r\n            );\r\n            setSideBarNestedMode(sideBarNestedModes.POLLS);\r\n          }\r\n        }}\r\n      >\r\n        Launch\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst CreatePoll = ({ panelHeight }) => {\r\n  const theme = useTheme();\r\n  const padding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 16,\r\n    md: 8,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n\r\n  const { setSideBarNestedMode } = useMeetingAppContext();\r\n  const classes = useStyles();\r\n  const [isMarkAsCorrectChecked, setIsMarkAsCorrectChecked] = useState(false);\r\n  const [isSetTimerChecked, setIsSetTimerChecked] = useState(false);\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [questionErr, setQuestionErr] = useState(false);\r\n  const [optionErr, setOptionErr] = useState(false);\r\n  const [option, setOption] = useState({\r\n    optionId: uuid(),\r\n    option: null,\r\n    isCorrect: false,\r\n  });\r\n  const [options, setOptions] = useState([]);\r\n  const [timer, setTimer] = useState(30);\r\n  const [timerErr, setTimerErr] = useState(false);\r\n  const [correctAnswerErr, setCorrectAnswerErr] = useState(false);\r\n  const [minOptionErr, setMinOptionErr] = useState(false);\r\n\r\n  const _handleKeyDown = (e) => {\r\n    if (\r\n      e.key === \"Enter\" ||\r\n      e.type === \"mouseleave\" ||\r\n      e.type === \"focus\" ||\r\n      e.type === \"blur\"\r\n    ) {\r\n      if (option?.option?.length >= 1 && option?.option.trim()) {\r\n        e.preventDefault();\r\n        setOptions([...options, option]);\r\n        setOption({ option: \"\", isCorrect: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  const { publish: publishCreatePoll } = usePubSub(`CREATE_POLL`);\r\n  const { publish: publishDraftPoll } = usePubSub(`DRAFT_A_POLL`);\r\n  const Height = panelHeight - 14;\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        // padding: padding,\r\n        height: Height,\r\n        overflowY: \"auto\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"space-between\",\r\n          flex: 1,\r\n          height: \"100%\",\r\n        }}\r\n      >\r\n        <CreatePollPart\r\n          classes={classes}\r\n          isMarkAsCorrectChecked={isMarkAsCorrectChecked}\r\n          setIsMarkAsCorrectChecked={setIsMarkAsCorrectChecked}\r\n          isSetTimerChecked={isSetTimerChecked}\r\n          setIsSetTimerChecked={setIsSetTimerChecked}\r\n          question={question}\r\n          setQuestion={setQuestion}\r\n          questionErr={questionErr}\r\n          option={option}\r\n          setOption={setOption}\r\n          options={options}\r\n          setOptions={setOptions}\r\n          _handleKeyDown={_handleKeyDown}\r\n          padding={padding}\r\n          setTimer={setTimer}\r\n          timer={timer}\r\n          timerErr={timerErr}\r\n          correctAnswerErr={correctAnswerErr}\r\n          minOptionErr={minOptionErr}\r\n          optionErr={optionErr}\r\n        />\r\n        <PollButtonPart\r\n          theme={theme}\r\n          publishCreatePoll={publishCreatePoll}\r\n          publishDraftPoll={publishDraftPoll}\r\n          question={question}\r\n          options={options}\r\n          padding={padding}\r\n          timer={timer}\r\n          setQuestionErr={setQuestionErr}\r\n          isMarkAsCorrectChecked={isMarkAsCorrectChecked}\r\n          isSetTimerChecked={isSetTimerChecked}\r\n          setSideBarNestedMode={setSideBarNestedMode}\r\n          setTimerErr={setTimerErr}\r\n          setCorrectAnswerErr={setCorrectAnswerErr}\r\n          setMinOptionErr={setMinOptionErr}\r\n          setOptionErr={setOptionErr}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CreatePoll;\r\n","import { Box, Button, Typography, useTheme } from \"@material-ui/core\";\r\nimport { useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport {\r\n  sideBarNestedModes,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nexport const secondsToMinutes = (time) => {\r\n  var minutes = Math.floor((time % 3600) / 60)\r\n    .toString()\r\n    .padStart(2, \"0\");\r\n  var seconds = Math.floor(time % 60)\r\n    .toString()\r\n    .padStart(2, \"0\");\r\n  return minutes + \" : \" + seconds;\r\n};\r\n\r\nconst Poll = ({ poll, isDraft, publishDraftPoll }) => {\r\n  const timerIntervalRef = useRef();\r\n\r\n  const padding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 16,\r\n    md: 8,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n  const marginY = useResponsiveSize({\r\n    xl: 18,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 10,\r\n  });\r\n\r\n  const equalSpacing = useResponsiveSize({\r\n    xl: 18,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 10,\r\n  });\r\n\r\n  const { publish: EndPublish } = usePubSub(`END_POLL`);\r\n\r\n  const { hasCorrectAnswer, hasTimer, timeout, createdAt, isActive, index } =\r\n    poll;\r\n\r\n  const [timeLeft, setTimeLeft] = useState(0);\r\n  const [isTimerPollActive, setIsTimerPollActive] = useState(false);\r\n\r\n  const mMeeting = useMeeting();\r\n\r\n  const localParticipantId = useMemo(\r\n    () => mMeeting?.localParticipant?.id,\r\n    [mMeeting]\r\n  );\r\n\r\n  const isPollActive = useMemo(\r\n    () => (hasTimer ? isTimerPollActive : isActive),\r\n    [hasTimer, isTimerPollActive, isActive]\r\n  );\r\n\r\n  const {\r\n    localSubmittedOption,\r\n    totalSubmissions,\r\n    groupedSubmissionCount,\r\n    maxSubmittedOptions,\r\n  } = useMemo(() => {\r\n    const localSubmittedOption = poll?.submissions?.find(\r\n      ({ participantId }) => participantId === localParticipantId\r\n    );\r\n\r\n    const totalSubmissions = poll?.submissions?.length || 0;\r\n\r\n    const groupedSubmissionCount = poll?.submissions?.reduce(\r\n      (group, { optionId }) => {\r\n        group[optionId] = group[optionId] || 0;\r\n\r\n        group[optionId] += 1;\r\n\r\n        return group;\r\n      },\r\n      {}\r\n    );\r\n\r\n    const maxSubmittedOptions = [];\r\n\r\n    const maxSubmittedOptionId =\r\n      groupedSubmissionCount &&\r\n      Object.keys(groupedSubmissionCount)\r\n        .map((optionId) => ({\r\n          optionId,\r\n          count: groupedSubmissionCount[optionId],\r\n        }))\r\n        .sort((a, b) => {\r\n          if (a.count > b.count) {\r\n            return -1;\r\n          }\r\n          if (a.count < b.count) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        })[0]?.optionId;\r\n\r\n    groupedSubmissionCount &&\r\n      Object.keys(groupedSubmissionCount).forEach((optionId) => {\r\n        if (\r\n          groupedSubmissionCount[optionId] ===\r\n          groupedSubmissionCount[maxSubmittedOptionId]\r\n        ) {\r\n          maxSubmittedOptions.push(optionId);\r\n        }\r\n      });\r\n\r\n    return {\r\n      localSubmittedOption,\r\n      totalSubmissions,\r\n      groupedSubmissionCount,\r\n      maxSubmittedOptions,\r\n    };\r\n  }, [poll, localParticipantId]);\r\n\r\n  const checkTimeOver = ({ timeout, createdAt }) =>\r\n    !(new Date(createdAt).getTime() + timeout * 1000 > new Date().getTime());\r\n\r\n  const updateTimer = ({ timeout, createdAt }) => {\r\n    if (checkTimeOver({ timeout, createdAt })) {\r\n      setTimeLeft(0);\r\n      setIsTimerPollActive(false);\r\n      clearInterval(timerIntervalRef.current);\r\n    } else {\r\n      setTimeLeft(\r\n        (new Date(createdAt).getTime() +\r\n          timeout * 1000 -\r\n          new Date().getTime()) /\r\n          1000\r\n      );\r\n      setIsTimerPollActive(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hasTimer) {\r\n      updateTimer({ timeout, createdAt });\r\n\r\n      if (!checkTimeOver({ timeout, createdAt })) {\r\n        timerIntervalRef.current = setInterval(() => {\r\n          updateTimer({ timeout, createdAt });\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      clearInterval(timerIntervalRef.current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        borderBottom: \"1px solid #70707033\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          margin: padding,\r\n          marginTop: marginY,\r\n          marginBottom: marginY,\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            padding: 0,\r\n            margin: 0,\r\n          }}\r\n        >\r\n          <Typography\r\n            style={{\r\n              fontSize: 14,\r\n              color: \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >{`Poll ${index || \"\"}`}</Typography>\r\n          <p\r\n            style={{\r\n              marginLeft: 8,\r\n              marginRight: 8,\r\n              color: \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >\r\n            &#x2022;\r\n          </p>\r\n          <Typography\r\n            style={{\r\n              fontSize: 14,\r\n              color: isPollActive || isDraft ? \"#FF5D5D\" : \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >\r\n            {isPollActive\r\n              ? hasTimer\r\n                ? `Ends in ${secondsToMinutes(timeLeft)}`\r\n                : \"Live\"\r\n              : isDraft\r\n              ? \"Draft\"\r\n              : \"Ended\"}\r\n          </Typography>\r\n        </Box>\r\n        <Box style={{ marginTop: 16 }}>\r\n          <Typography style={{ fontSize: 16, color: \"white\", fontWeight: 600 }}>\r\n            {poll.question}\r\n          </Typography>\r\n          {poll.options.map((item, j) => {\r\n            const total = groupedSubmissionCount\r\n              ? groupedSubmissionCount[item.optionId]\r\n              : 0;\r\n\r\n            const percentage = (total ? total / totalSubmissions : 0) * 100;\r\n\r\n            const isCorrectOption = item.isCorrect;\r\n\r\n            return (\r\n              <Box\r\n                style={{\r\n                  marginTop: j === 0 ? equalSpacing : equalSpacing / 2,\r\n                }}\r\n              >\r\n                <Typography\r\n                  style={{\r\n                    fontSize: 15,\r\n                    color: \"white\",\r\n                    fontWeight: 400,\r\n                  }}\r\n                >\r\n                  {item.option}\r\n                </Typography>\r\n                <Box\r\n                  style={{\r\n                    marginTop: 0,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Box\r\n                    style={{\r\n                      height: 6,\r\n                      backgroundColor: \"#3D3C4E\",\r\n                      borderRadius: 4,\r\n                      display: \"flex\",\r\n                      flex: 1,\r\n                    }}\r\n                  >\r\n                    <Box\r\n                      style={{\r\n                        backgroundColor: hasCorrectAnswer\r\n                          ? isCorrectOption\r\n                            ? \"#1178F8\"\r\n                            : \"#9E9DA6\"\r\n                          : maxSubmittedOptions.includes(item.optionId)\r\n                          ? \"#1178F8\"\r\n                          : \"#9E9DA6\",\r\n\r\n                        // backgroundColor: item.isCorrect ? \"#1178F8\" : \"#9E9DA6\",\r\n                        width: `${percentage}%`,\r\n                        borderRadius: 4,\r\n                      }}\r\n                    ></Box>\r\n                  </Box>\r\n\r\n                  {!isDraft && (\r\n                    <Box\r\n                      style={{\r\n                        marginLeft: 24,\r\n                        width: 40,\r\n                        display: \"flex\",\r\n                        alignItems: \"flex-end\",\r\n                        justifyContent: \"flex-end\",\r\n                      }}\r\n                    >\r\n                      <Typography style={{ margin: 0, padding: 0 }}>\r\n                        {`${Math.floor(percentage)}%`}\r\n                      </Typography>\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n            );\r\n          })}\r\n\r\n          <Box\r\n            style={{\r\n              // marginTop: equalSpacing,\r\n              marginBottom: equalSpacing,\r\n              display: \"flex\",\r\n              alignItems: \"flex-end\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            {isDraft ? (\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                onClick={() => {\r\n                  publishDraftPoll(poll);\r\n                }}\r\n                style={{ marginTop: equalSpacing + 2 }}\r\n              >\r\n                Launch\r\n              </Button>\r\n            ) : null}\r\n            {isPollActive && !hasTimer ? (\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                style={{ marginTop: equalSpacing + 2 }}\r\n                onClick={() => {\r\n                  EndPublish(\r\n                    {\r\n                      pollId: poll.id,\r\n                    },\r\n                    { persist: true }\r\n                  );\r\n                }}\r\n              >\r\n                End the Poll\r\n              </Button>\r\n            ) : null}\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst PollList = ({ panelHeight }) => {\r\n  const { setSideBarNestedMode, polls, draftPolls } = useMeetingAppContext();\r\n\r\n  const theme = useTheme();\r\n\r\n  const { publish: RemoveFromDraftPublish } = usePubSub(\r\n    `REMOVE_POLL_FROM_DRAFT`\r\n  );\r\n  const { publish: publishCreatePoll } = usePubSub(`CREATE_POLL`);\r\n\r\n  const totalPolls = useMemo(() => polls?.length || 0, [polls]);\r\n\r\n  const padding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 10,\r\n    md: 8,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n\r\n  const equalSpacing = useResponsiveSize({\r\n    xl: 18,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 10,\r\n  });\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        height: panelHeight - 14,\r\n        overflowY: \"auto\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"space-between\",\r\n          flex: 1,\r\n          height: \"100%\",\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            overflowY: \"auto\",\r\n          }}\r\n        >\r\n          {draftPolls.map((poll, index) => {\r\n            return (\r\n              <Poll\r\n                key={`draft_polls_${poll.id}`}\r\n                poll={poll}\r\n                panelHeight={panelHeight}\r\n                index={index}\r\n                isDraft={true}\r\n                publishDraftPoll={(poll) => {\r\n                  //\r\n                  RemoveFromDraftPublish(\r\n                    { pollId: poll.id },\r\n                    { persist: true }\r\n                  );\r\n                  //\r\n                  publishCreatePoll(\r\n                    {\r\n                      id: uuid(),\r\n                      question: poll.question,\r\n                      options: poll.options,\r\n                      // createdAt: new Date(),\r\n                      timeout: poll.timeout,\r\n                      hasTimer: poll.hasTimer,\r\n                      hasCorrectAnswer: poll.hasCorrectAnswer,\r\n                      isActive: true,\r\n                      index: polls.length + 1,\r\n                    },\r\n                    { persist: true }\r\n                  );\r\n                  //\r\n                  setSideBarNestedMode(sideBarNestedModes.POLLS);\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n          {polls.map((poll, index) => {\r\n            return (\r\n              <Poll\r\n                key={`creator_polls_${poll.id}`}\r\n                // totalPolls={totalPolls}\r\n                poll={poll}\r\n                panelHeight={panelHeight}\r\n                index={index}\r\n              />\r\n            );\r\n          })}\r\n        </Box>\r\n        <Box style={{ padding: padding, marginTop: equalSpacing }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            style={{\r\n              width: \"100%\",\r\n              color: theme.palette.common.white,\r\n              backgroundColor: theme.palette.primary.main,\r\n              padding: \"12px\",\r\n            }}\r\n            onClick={() => {\r\n              setSideBarNestedMode(sideBarNestedModes.CREATE_POLL);\r\n            }}\r\n          >\r\n            Create new poll\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PollList;\r\n","import React from \"react\";\r\n\r\nfunction AnswerSubmittedIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"16\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 16 16\"\r\n    >\r\n      <path\r\n        fill=\"#fff\"\r\n        d=\"M8.236 13.687c3.248 0 5.882-2.458 5.882-5.49s-2.634-5.49-5.882-5.49c-3.25 0-5.883 2.458-5.883 5.49s2.634 5.49 5.883 5.49z\"\r\n      ></path>\r\n      <path\r\n        fill=\"#1178F8\"\r\n        d=\"M8 0a8 8 0 100 16A8 8 0 008 0zm4 6.235l-4 4.252a1.54 1.54 0 01-1.117.48h-.052a1.54 1.54 0 01-1.129-.536L3.966 8.413a.616.616 0 11.923-.805l1.736 2.019a.31.31 0 00.459.012l4.031-4.252a.616.616 0 01.893.846L12 6.235z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default AnswerSubmittedIcon;\r\n","import React from \"react\";\r\n\r\nfunction CorrectSelectedIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"17\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 16 17\"\r\n    >\r\n      <g clipPath=\"url(#clip0_42_1403)\">\r\n        <circle cx=\"8\" cy=\"8.604\" r=\"5.542\" fill=\"#fff\"></circle>\r\n        <path\r\n          fill=\"#34A853\"\r\n          d=\"M8 .604a8 8 0 100 16 8 8 0 000-16zm4 6.234L8 11.09a1.538 1.538 0 01-1.117.48h-.052a1.538 1.538 0 01-1.13-.535L3.967 9.016a.615.615 0 11.923-.803l1.736 2.019a.308.308 0 00.458.012l4.03-4.252a.616.616 0 01.893.846H12z\"\r\n        ></path>\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"clip0_42_1403\">\r\n          <path\r\n            fill=\"#fff\"\r\n            d=\"M0 0H16V16H0z\"\r\n            transform=\"translate(0 .604)\"\r\n          ></path>\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CorrectSelectedIcon;\r\n","import React from \"react\";\r\n\r\nfunction NoPollActiveIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"120\"\r\n      height=\"120\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 120 120\"\r\n    >\r\n      <mask\r\n        id=\"mask0_399_6\"\r\n        style={{ maskType: \"alpha\" }}\r\n        width=\"120\"\r\n        height=\"120\"\r\n        x=\"0\"\r\n        y=\"0\"\r\n        maskUnits=\"userSpaceOnUse\"\r\n      >\r\n        <path fill=\"#D9D9D9\" d=\"M0 0H120V120H0z\"></path>\r\n      </mask>\r\n      <g mask=\"url(#mask0_399_6)\">\r\n        <path\r\n          fill=\"#95959E\"\r\n          d=\"M114.601 96.324H63.608l9.545-10h32.514a6.676 6.676 0 006.666-6.666v-50a6.677 6.677 0 00-6.666-6.667H12.333a6.674 6.674 0 00-6.666 6.666v50a6.675 6.675 0 006.666 6.667h32.514l9.545 10H3.4a1.682 1.682 0 100 3.334h111.2a1.683 1.683 0 001.899-1.667 1.676 1.676 0 00-.572-1.263 1.682 1.682 0 00-1.326-.404z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#333244\"\r\n          d=\"M77.333 54.657A14.166 14.166 0 1091.5 40.492a14.184 14.184 0 00-14.167 14.166zm25 0a10.836 10.836 0 01-6.687 10.01 10.833 10.833 0 116.687-10.01z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#333244\"\r\n          d=\"M86.175 58.458a1.667 1.667 0 102.317 2.399 4.366 4.366 0 016.016 0 1.667 1.667 0 002.317-2.399 7.732 7.732 0 00-10.65 0zM40.667 54.657A14.166 14.166 0 1026.5 68.825a14.183 14.183 0 0014.167-14.166zm-25 0a10.834 10.834 0 1121.667 0 10.834 10.834 0 01-21.667 0zm29.166 0A14.166 14.166 0 1059 40.492a14.183 14.183 0 00-14.167 14.166zm25 0a10.833 10.833 0 11-21.666 0 10.833 10.833 0 0121.666 0z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#333244\"\r\n          d=\"M31.825 60.023a1.667 1.667 0 10-2.317-2.398 4.37 4.37 0 01-6.016 0 1.668 1.668 0 10-2.317 2.398 7.73 7.73 0 0010.65 0zm21.342-.365a1.666 1.666 0 001.666 1.667h8.334a1.666 1.666 0 100-3.333h-8.334a1.666 1.666 0 00-1.666 1.666zM19 37.158h80a1.669 1.669 0 001.667-1.666A1.669 1.669 0 0099 33.825H19a1.667 1.667 0 000 3.333zm81.667 36.667A1.669 1.669 0 0099 72.158H19a1.667 1.667 0 000 3.334h80a1.669 1.669 0 001.667-1.667z\"\r\n        ></path>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default NoPollActiveIcon;\r\n","import React from \"react\";\r\n\r\nfunction WrongOptionSelectedIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"17\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 16 17\"\r\n    >\r\n      <circle cx=\"8\" cy=\"8.604\" r=\"5.66\" fill=\"#fff\"></circle>\r\n      <path\r\n        fill=\"#FF5D5D\"\r\n        d=\"M13.66 2.84c-3.122-3.12-8.198-3.12-11.32 0-3.12 3.122-3.12 8.2 0 11.32A7.981 7.981 0 008 16.5a7.98 7.98 0 005.66-2.34c3.12-3.12 3.12-8.198 0-11.32zM11.3 10.86a.666.666 0 11-.943.943L8 9.443l-2.357 2.358a.667.667 0 11-.943-.943L7.057 8.5 4.7 6.142a.666.666 0 11.943-.943L8 7.557l2.358-2.358a.666.666 0 11.943.943L8.943 8.5l2.358 2.359z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default WrongOptionSelectedIcon;\r\n","import { Box, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport React, { useMemo, useRef, useState, useEffect } from \"react\";\r\nimport AnswerSubmittedIcon from \"../../icons/AnswerSubmittedIcon\";\r\nimport CorrectSelectedIcon from \"../../icons/CorrectSelectedIcon\";\r\nimport NoPollActiveIcon from \"../../icons/NoPollActiveIcon\";\r\nimport WrongOptionSelectedIcon from \"../../icons/WrongOptionSelectedIcon\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { MarkCorrectCheckbox } from \"./CreatePoll\";\r\nimport { secondsToMinutes } from \"./PollList\";\r\n\r\nconst SubmitPollListItem = ({ poll }) => {\r\n  const timerIntervalRef = useRef();\r\n\r\n  const padding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 16,\r\n    md: 8,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n  const marginY = useResponsiveSize({\r\n    xl: 18,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 10,\r\n  });\r\n\r\n  const mMeeting = useMeeting();\r\n\r\n  const localParticipantId = useMemo(\r\n    () => mMeeting?.localParticipant?.id,\r\n    [mMeeting]\r\n  );\r\n\r\n  const { publish } = usePubSub(`SUBMIT_A_POLL_${poll.id}`);\r\n\r\n  const { hasCorrectAnswer, hasTimer, timeout, createdAt, isActive, index } =\r\n    poll;\r\n\r\n  const [timeLeft, setTimeLeft] = useState(0);\r\n  const [isTimerPollActive, setIsTimerPollActive] = useState(false);\r\n\r\n  const isPollActive = useMemo(\r\n    () => (hasTimer ? isTimerPollActive : isActive),\r\n    [hasTimer, isTimerPollActive, isActive]\r\n  );\r\n\r\n  const {\r\n    localSubmittedOption,\r\n    totalSubmissions,\r\n    groupedSubmissionCount,\r\n    maxSubmittedOptions,\r\n  } = useMemo(() => {\r\n    const localSubmittedOption = poll.submissions.find(\r\n      ({ participantId }) => participantId === localParticipantId\r\n    );\r\n\r\n    const totalSubmissions = poll.submissions.length;\r\n\r\n    const groupedSubmissionCount = poll.submissions.reduce(\r\n      (group, { optionId }) => {\r\n        group[optionId] = group[optionId] || 0;\r\n\r\n        group[optionId] += 1;\r\n\r\n        return group;\r\n      },\r\n      {}\r\n    );\r\n\r\n    const maxSubmittedOptions = [];\r\n\r\n    const maxSubmittedOptionId = Object.keys(groupedSubmissionCount)\r\n      .map((optionId) => ({\r\n        optionId,\r\n        count: groupedSubmissionCount[optionId],\r\n      }))\r\n      .sort((a, b) => {\r\n        if (a.count > b.count) {\r\n          return -1;\r\n        }\r\n        if (a.count < b.count) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })[0]?.optionId;\r\n\r\n    Object.keys(groupedSubmissionCount).forEach((optionId) => {\r\n      if (\r\n        groupedSubmissionCount[optionId] ===\r\n        groupedSubmissionCount[maxSubmittedOptionId]\r\n      ) {\r\n        maxSubmittedOptions.push(optionId);\r\n      }\r\n    });\r\n\r\n    return {\r\n      localSubmittedOption,\r\n      totalSubmissions,\r\n      groupedSubmissionCount,\r\n      maxSubmittedOptions,\r\n    };\r\n  }, [poll, localParticipantId]);\r\n\r\n  const checkTimeOver = ({ timeout, createdAt }) =>\r\n    !(new Date(createdAt).getTime() + timeout * 1000 > new Date().getTime());\r\n\r\n  const updateTimer = ({ timeout, createdAt }) => {\r\n    if (checkTimeOver({ timeout, createdAt })) {\r\n      setTimeLeft(0);\r\n      setIsTimerPollActive(false);\r\n      clearInterval(timerIntervalRef.current);\r\n    } else {\r\n      setTimeLeft(\r\n        (new Date(createdAt).getTime() +\r\n          timeout * 1000 -\r\n          new Date().getTime()) /\r\n          1000\r\n      );\r\n      setIsTimerPollActive(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hasTimer) {\r\n      updateTimer({ timeout, createdAt });\r\n\r\n      if (!checkTimeOver({ timeout, createdAt })) {\r\n        timerIntervalRef.current = setInterval(() => {\r\n          updateTimer({ timeout, createdAt });\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      clearInterval(timerIntervalRef.current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Box style={{ borderBottom: \"1px solid #70707033\" }}>\r\n      <Box\r\n        style={{\r\n          margin: padding,\r\n          marginTop: marginY,\r\n          marginBottom: marginY,\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            padding: 0,\r\n            margin: 0,\r\n          }}\r\n        >\r\n          <Typography\r\n            style={{\r\n              fontSize: 14,\r\n              color: \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >{`Poll ${index}`}</Typography>\r\n          <p\r\n            style={{\r\n              marginLeft: 8,\r\n              marginRight: 8,\r\n              color: \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >\r\n            &#x2022;\r\n          </p>\r\n          <Typography\r\n            style={{\r\n              fontSize: 14,\r\n              color: isPollActive ? \"#FF5D5D\" : \"#95959E\",\r\n              fontWeight: 500,\r\n              marginTop: 0,\r\n              marginBottom: 0,\r\n            }}\r\n          >\r\n            {isPollActive\r\n              ? hasTimer\r\n                ? `Ends in ${secondsToMinutes(timeLeft)}`\r\n                : \"Live\"\r\n              : \"Ended\"}\r\n          </Typography>\r\n        </Box>\r\n        <Box style={{ marginTop: 16 }}>\r\n          <Typography style={{ fontSize: 16, color: \"white\", fontWeight: 600 }}>\r\n            {poll.question}\r\n          </Typography>\r\n          <Box style={{ marginTop: 16 }}>\r\n            {localSubmittedOption || !isPollActive\r\n              ? poll.options.map((option) => {\r\n                  const total = groupedSubmissionCount[option.optionId];\r\n\r\n                  const isOptionSubmittedByLocal =\r\n                    localSubmittedOption?.optionId === option.optionId;\r\n\r\n                  const percentage =\r\n                    (total ? total / totalSubmissions : 0) * 100;\r\n\r\n                  const isOptionSelectedByLocalIncorrect =\r\n                    localSubmittedOption?.optionId === option.optionId &&\r\n                    !option.isCorrect;\r\n\r\n                  const isCorrectOption = option.isCorrect;\r\n\r\n                  return (\r\n                    <Box\r\n                      style={{\r\n                        display: \"flex\",\r\n                        marginBottom: 12,\r\n                      }}\r\n                    >\r\n                      <Box\r\n                        style={{\r\n                          marginTop: 0,\r\n                          width: \"100%\",\r\n                        }}\r\n                      >\r\n                        <Box style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                          <Typography\r\n                            style={{\r\n                              fontSize: 15,\r\n                              color: \"white\",\r\n                              fontWeight: 400,\r\n                            }}\r\n                          >\r\n                            {option.option}\r\n                          </Typography>\r\n\r\n                          {isPollActive ? (\r\n                            isOptionSubmittedByLocal ? (\r\n                              <Box style={{ marginLeft: 8 }}>\r\n                                <AnswerSubmittedIcon />\r\n                              </Box>\r\n                            ) : null\r\n                          ) : hasCorrectAnswer ? (\r\n                            isCorrectOption ? (\r\n                              <Tooltip\r\n                                placement=\"right\"\r\n                                title={\"Correct Answer\"}\r\n                              >\r\n                                <Box\r\n                                  style={{\r\n                                    marginLeft: 8,\r\n                                    cursor: \"pointer\",\r\n                                  }}\r\n                                >\r\n                                  <CorrectSelectedIcon />\r\n                                </Box>\r\n                              </Tooltip>\r\n                            ) : isOptionSelectedByLocalIncorrect ? (\r\n                              <Tooltip\r\n                                placement=\"right\"\r\n                                title={\"Your answer is wrong\"}\r\n                              >\r\n                                <Box\r\n                                  style={{\r\n                                    marginLeft: 8,\r\n                                    cursor: \"pointer\",\r\n                                  }}\r\n                                >\r\n                                  <WrongOptionSelectedIcon />\r\n                                </Box>\r\n                              </Tooltip>\r\n                            ) : null\r\n                          ) : null}\r\n                        </Box>\r\n                        <Box\r\n                          style={{\r\n                            marginTop: 0,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                          }}\r\n                        >\r\n                          <Box\r\n                            style={{\r\n                              height: 6,\r\n                              backgroundColor: \"#3D3C4E\",\r\n                              borderRadius: 4,\r\n                              display: \"flex\",\r\n                              flex: 1,\r\n                            }}\r\n                          >\r\n                            <Box\r\n                              style={{\r\n                                backgroundColor:\r\n                                  hasCorrectAnswer && isActive\r\n                                    ? isCorrectOption\r\n                                      ? \"#1178F8\"\r\n                                      : \"#9E9DA6\"\r\n                                    : maxSubmittedOptions.includes(\r\n                                        option.optionId\r\n                                      )\r\n                                    ? \"#1178F8\"\r\n                                    : \"#9E9DA6\",\r\n                                width: `${percentage}%`,\r\n                                borderRadius: 4,\r\n                              }}\r\n                            ></Box>\r\n                          </Box>\r\n                          <Box\r\n                            style={{\r\n                              marginLeft: 24,\r\n                              width: 40,\r\n                              display: \"flex\",\r\n                              alignItems: \"flex-end\",\r\n                              justifyContent: \"flex-end\",\r\n                            }}\r\n                          >\r\n                            <Typography style={{ margin: 0, padding: 0 }}>\r\n                              {`${Math.floor(percentage)}%`}\r\n                            </Typography>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })\r\n              : poll?.options.map((option) => {\r\n                  return (\r\n                    <Box\r\n                      style={{\r\n                        display: \"flex\",\r\n                        marginBottom: 12,\r\n                      }}\r\n                    >\r\n                      <MarkCorrectCheckbox\r\n                        onClick={() => {\r\n                          publish(\r\n                            { optionId: option.optionId },\r\n                            { persist: true }\r\n                          );\r\n                        }}\r\n                      />\r\n                      <Box\r\n                        style={{\r\n                          marginLeft: 8,\r\n                          backgroundColor: \"#3D3C4E\",\r\n                          padding: \"8px 8px 8px\",\r\n                          width: \"100%\",\r\n                          borderRadius: \"4px\",\r\n                        }}\r\n                      >\r\n                        <Typography>{option.option}</Typography>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst SubmitPollList = ({ panelHeight }) => {\r\n  const { polls } = useMeetingAppContext();\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        height: panelHeight - 14,\r\n        overflowY: \"auto\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          flex: 1,\r\n          height: \"100%\",\r\n        }}\r\n      >\r\n        {polls.length > 0 ? (\r\n          polls.map((poll, index) => {\r\n            return (\r\n              <SubmitPollListItem\r\n                key={`submit_polls_${poll.id}`}\r\n                totalPolls={polls.length}\r\n                poll={poll}\r\n                panelHeight={panelHeight}\r\n                index={index}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              flex: 1,\r\n              marginTop: \"-50px\",\r\n            }}\r\n          >\r\n            <NoPollActiveIcon />\r\n            <Typography\r\n              style={{ color: \"white\", fontSize: 16, fontWeight: 700 }}\r\n            >\r\n              No Poll has been launched yet.\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SubmitPollList;\r\n","import React from \"react\";\r\nimport {\r\n  ButtonBase,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport QAIcon from \"../../icons/QAIcon\";\r\nimport PollIcon from \"../../icons/PollIcon\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport CreatePoll from \"../../components/pollContainer/CreatePoll\";\r\nimport {\r\n  sideBarNestedModes,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport PollList from \"../../components/pollContainer/PollList\";\r\nimport SubmitPollList from \"../../components/pollContainer/SubmitPollList\";\r\nimport { meetingModes } from \"../../CONSTS\";\r\n\r\nconst ActivitiesTabPanel = ({ panelHeight }) => {\r\n  const theme = useTheme();\r\n\r\n  const listPadding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 10,\r\n    md: 8,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n\r\n  const {\r\n    polls,\r\n    draftPolls,\r\n    canCreatePoll,\r\n    setSideBarNestedMode,\r\n    sideBarNestedMode,\r\n    meetingMode,\r\n  } = useMeetingAppContext();\r\n\r\n  return sideBarNestedMode === sideBarNestedModes.POLLS ? (\r\n    canCreatePoll && meetingMode !== meetingModes.VIEWER ? (\r\n      polls.length === 0 && draftPolls.length === 0 ? (\r\n        <CreatePoll {...{ panelHeight }} />\r\n      ) : (\r\n        <PollList {...{ panelHeight }} />\r\n      )\r\n    ) : (\r\n      <SubmitPollList {...{ panelHeight }} />\r\n    )\r\n  ) : sideBarNestedMode === sideBarNestedModes.CREATE_POLL ? (\r\n    <CreatePoll {...{ panelHeight }} />\r\n  ) : (\r\n    <List style={{ padding: listPadding }}>\r\n      {[\r\n        {\r\n          Icon: PollIcon,\r\n          primary: \"Polls\",\r\n          secondary: \"Find out participant’s opinion.\",\r\n          disabled: false,\r\n          onClick: () => {\r\n            setSideBarNestedMode(sideBarNestedModes.POLLS);\r\n          },\r\n        },\r\n        // {\r\n        //   Icon: QAIcon,\r\n        //   primary: \"Q&A\",\r\n        //   secondary: \"Participants can post questions.\",\r\n        //   disabled: true,\r\n        //   onClick: () => {},\r\n        // },\r\n      ].map(({ Icon, primary, secondary, disabled, onClick }, i) => (\r\n        <ButtonBase\r\n          // disabled={disabled}\r\n          onClick={onClick}\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: theme.palette.common.sidePanel,\r\n            width: \"100%\",\r\n            marginBottom: 12,\r\n            borderRadius: 4,\r\n          }}\r\n        >\r\n          <ListItem key={`activities_panel_item_${i}`}>\r\n            <ListItemAvatar>\r\n              <Icon />\r\n            </ListItemAvatar>\r\n            <div>\r\n              <h1\r\n                style={{\r\n                  fontSize: 16,\r\n                  fontWeight: 600,\r\n                  color: \"white\",\r\n                  lineHeight: 1.5,\r\n                  marginTop: 6,\r\n                  marginBottom: 0,\r\n                }}\r\n              >\r\n                {primary}\r\n              </h1>\r\n              <h2\r\n                style={{\r\n                  fontSize: 14,\r\n                  color: \"#9fa0a7\",\r\n                  fontWeight: 400,\r\n                  lineHeight: 1.43,\r\n                  marginTop: 0,\r\n                  marginBottom: 6,\r\n                }}\r\n              >\r\n                {secondary}\r\n              </h2>\r\n            </div>\r\n            {/* <ListItemText\r\n              style={{ fontWeight: primary && 500 }}\r\n              primary={primary}\r\n              secondary={secondary}\r\n            /> */}\r\n          </ListItem>\r\n        </ButtonBase>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default ActivitiesTabPanel;\r\n","import { useMemo } from \"react\";\r\nimport { Constants, useMeeting } from \"@videosdk.live/react-sdk\";\r\n\r\nconst useIsLivestreaming = () => {\r\n  const { livestreamState } = useMeeting();\r\n\r\n  const isLiveStreaming = useMemo(\r\n    () =>\r\n      livestreamState === Constants.livestreamEvents.LIVESTREAM_STARTED ||\r\n      livestreamState === Constants.livestreamEvents.LIVESTREAM_STOPPING,\r\n    [livestreamState]\r\n  );\r\n\r\n  return isLiveStreaming;\r\n};\r\n\r\nexport default useIsLivestreaming;\r\n","import {\r\n  Box,\r\n  TextField,\r\n  Typography,\r\n  Button,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport ConfirmBox from \"../../components/ConfirmBox\";\r\nimport { extractRootDomain, getUniqueId } from \"../../utils/common\";\r\nimport useIsLiveStreaming from \"../useIsLivestreaming\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  textField: {\r\n    borderRadius: \"4px\",\r\n    backgroundColor: \"#3D3C4E\",\r\n    color: \"white\",\r\n  },\r\n  button: {\r\n    color: \"#95959E\",\r\n    \"&:hover\": {\r\n      color: \"#ffffff\",\r\n    },\r\n  },\r\n  input: {\r\n    color: \"white\",\r\n  },\r\n  root: {\r\n    \"& .MuiFilledInput-input\": {\r\n      padding: \"12px 12px 12px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst SingleLiveStreamItem = ({\r\n  item,\r\n  setLiveStreamConfig,\r\n  liveStreamConfigRef,\r\n  isEditingId,\r\n  setIsEditingId,\r\n  _handleRemove,\r\n  publish,\r\n  index,\r\n}) => {\r\n  const isLiveStreaming = useIsLiveStreaming();\r\n  const rootDomain = extractRootDomain(item.url);\r\n  const mainDomain = rootDomain?.split(\".\")[0];\r\n  const domainName = mainDomain.charAt(0).toUpperCase() + mainDomain.slice(1);\r\n\r\n  const isEditing = !!isEditingId;\r\n  const isSelfEditing = isEditingId === item.id;\r\n  const [editedUrl, setEditedUrl] = useState(\"\");\r\n  const [editedStreamKey, setEditedStreamKey] = useState(\"\");\r\n  const [editedUrlErr, setEditedUrlErr] = useState(false);\r\n  const [editedStreamKeyErr, setEditedStreamKeyErr] = useState(false);\r\n  const [onCancelClick, setOnCancelClick] = useState({\r\n    id: null,\r\n    visible: false,\r\n  });\r\n  const [onRemoveClick, setOnRemoveClick] = useState({\r\n    id: null,\r\n    visible: false,\r\n  });\r\n\r\n  const handleValidation = () => {\r\n    let isValid = true;\r\n    if (editedStreamKey.length === 0) {\r\n      isValid = false;\r\n      setEditedStreamKeyErr(true);\r\n      return false;\r\n    } else {\r\n      setEditedStreamKeyErr(false);\r\n    }\r\n    if (editedUrl.length === 0) {\r\n      isValid = false;\r\n      setEditedUrlErr(true);\r\n      return false;\r\n    } else {\r\n      setEditedUrlErr(false);\r\n    }\r\n    return isValid;\r\n  };\r\n  const itemRef = useRef(item);\r\n\r\n  useEffect(() => {\r\n    if (isSelfEditing) {\r\n      setEditedUrl(itemRef.current.url);\r\n      setEditedStreamKey(itemRef.current.streamKey);\r\n    }\r\n  }, [isSelfEditing]);\r\n\r\n  useEffect(() => {\r\n    itemRef.current = item;\r\n  }, [item]);\r\n\r\n  const classes = useStyles();\r\n\r\n  const _handleSaveInsideArray = ({ Id, streamKey, url }) => {\r\n    const liveStreamConfig = liveStreamConfigRef.current;\r\n\r\n    const newPlatforms = liveStreamConfig.map((item) => {\r\n      if (item.id === Id) {\r\n        return {\r\n          ...item,\r\n          url,\r\n          streamKey: streamKey,\r\n          isEdit: false,\r\n        };\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    publish({ config: newPlatforms }, { persist: true });\r\n    setLiveStreamConfig(newPlatforms);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        style={{\r\n          borderTop: index === 0 ? \"\" : \"3px solid #3A3F4B\",\r\n          paddingRight: \"12px\",\r\n          paddingLeft: \"12px\",\r\n          paddingTop: \"12px\",\r\n          paddingBottom: \"12px\",\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Box style={{ display: \"flex\", flex: 1 }}>\r\n            <Typography variant={\"body1\"} style={{ fontWeight: \"bold\" }}>\r\n              {item.url ? domainName : item.title}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              alignItems: \"flex-end\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            {isSelfEditing ? (\r\n              <>\r\n                <Button\r\n                  variant=\"text\"\r\n                  onClick={() => {\r\n                    const isValid = handleValidation();\r\n                    if (isValid) {\r\n                      _handleSaveInsideArray({\r\n                        Id: item.id,\r\n                        streamKey: editedStreamKey,\r\n                        url: editedUrl,\r\n                      });\r\n                      setIsEditingId(null);\r\n                    }\r\n                  }}\r\n                  className={classes.button}\r\n                >\r\n                  Save\r\n                </Button>\r\n                <Button\r\n                  variant=\"text\"\r\n                  onClick={() => {\r\n                    setOnCancelClick({ id: item.id, visible: true });\r\n                  }}\r\n                  className={classes.button}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button\r\n                  variant=\"text\"\r\n                  onClick={() => {\r\n                    // setIsEditing({ id: item.id, editing: true });\r\n                    setIsEditingId(item.id);\r\n                  }}\r\n                  className={classes.button}\r\n                  disabled={isEditing || isLiveStreaming}\r\n                >\r\n                  EDIT\r\n                </Button>\r\n\r\n                <Button\r\n                  variant=\"text\"\r\n                  onClick={() => {\r\n                    setOnRemoveClick({\r\n                      id: item.id,\r\n                      visible: true,\r\n                    });\r\n                  }}\r\n                  className={classes.button}\r\n                  disabled={isEditing || isLiveStreaming}\r\n                >\r\n                  REMOVE\r\n                </Button>\r\n              </>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n        <Box mt={1}>\r\n          <TextField\r\n            placeholder=\"Stream Key\"\r\n            fullWidth\r\n            variant=\"filled\"\r\n            type=\"password\"\r\n            autocomplete=\"off\"\r\n            className={classes.root}\r\n            disabled={!isSelfEditing}\r\n            value={isSelfEditing ? editedStreamKey : item.streamKey}\r\n            InputProps={{\r\n              disableUnderline: true,\r\n              classes: {\r\n                root: classes.textField,\r\n              },\r\n            }}\r\n            onChange={(e) => {\r\n              setEditedStreamKey(e.target.value);\r\n            }}\r\n          />\r\n          {editedStreamKeyErr && (\r\n            <Typography variant=\"body2\" style={{ color: \"#D33730\" }}>\r\n              Please provide stream key\r\n            </Typography>\r\n          )}\r\n\r\n          <TextField\r\n            placeholder=\"Stream Url\"\r\n            fullWidth\r\n            variant=\"filled\"\r\n            autocomplete=\"off\"\r\n            style={{ marginTop: \"8px\" }}\r\n            className={classes.root}\r\n            disabled={!isSelfEditing}\r\n            value={isSelfEditing ? editedUrl : item.url}\r\n            InputProps={{\r\n              disableUnderline: true,\r\n              classes: {\r\n                root: classes.textField,\r\n              },\r\n            }}\r\n            onChange={(e) => {\r\n              setEditedUrl(e.target.value);\r\n            }}\r\n          />\r\n          {editedUrlErr && (\r\n            <Typography variant=\"body2\" style={{ color: \"#D33730\" }}>\r\n              Please provide stream url\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      <ConfirmBox\r\n        open={onRemoveClick.visible}\r\n        title={`Remove Stream Configuration?`}\r\n        subTitle={\"It will be removed forever\"}\r\n        successText={\"Remove\"}\r\n        onSuccess={() => {\r\n          _handleRemove({ id: onRemoveClick.id });\r\n          setOnRemoveClick({ visible: false });\r\n        }}\r\n        rejectText={\"Cancel\"}\r\n        onReject={() => {\r\n          setOnRemoveClick({\r\n            visible: false,\r\n          });\r\n        }}\r\n      />\r\n      <ConfirmBox\r\n        open={onCancelClick.visible}\r\n        title={\"Discard Changes?\"}\r\n        subTitle={\"Changes you made so far will not be saved\"}\r\n        successText={\"Discard\"}\r\n        onSuccess={() => {\r\n          setOnCancelClick({ visible: false });\r\n          setIsEditingId(null);\r\n        }}\r\n        rejectText={\"Cancel\"}\r\n        onReject={() => {\r\n          setOnCancelClick({ visible: false });\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst AddLiveStream = ({ _handleSave, renderCallback }) => {\r\n  const [streamKey, setStreamKey] = useState(\"\");\r\n  const [url, setStreamUrl] = useState(\"\");\r\n  const [streamKeyErr, setStreamKeyErr] = useState(false);\r\n  const [streamUrlErr, setStreamUrlErr] = useState(false);\r\n\r\n  const elementRef = useRef();\r\n\r\n  const domainName = useMemo(() => {\r\n    const rootDomain = extractRootDomain(url);\r\n    const mainDomain = rootDomain?.split(\".\")[0];\r\n    const domainName = mainDomain.charAt(0).toUpperCase() + mainDomain.slice(1);\r\n    return domainName;\r\n  }, [url]);\r\n\r\n  const handleValidation = ({ streamKey, url }) => {\r\n    let isValid = true;\r\n    if (streamKey.length === 0) {\r\n      isValid = false;\r\n      setStreamKeyErr(true);\r\n      return false;\r\n    } else {\r\n      setStreamKeyErr(false);\r\n    }\r\n    if (url.length === 0) {\r\n      isValid = false;\r\n      setStreamUrlErr(true);\r\n      return false;\r\n    } else {\r\n      setStreamUrlErr(false);\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    renderCallback(elementRef.current);\r\n  }, [streamKey, url, streamKeyErr, streamUrlErr]);\r\n\r\n  return (\r\n    <Box\r\n      ref={(el) => {\r\n        elementRef.current = el;\r\n        renderCallback(elementRef.current);\r\n      }}\r\n      style={{\r\n        paddingRight: \"12px\",\r\n        paddingLeft: \"12px\",\r\n        paddingTop: \"12px\",\r\n        paddingBottom: \"12px\",\r\n        boxShadow: \"0 -10px 20px -5px rgba(0,0,0,0.35)\",\r\n        borderTop: \"3px solid #3A3F4B\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Box style={{ display: \"flex\", flex: 1 }}>\r\n          <Typography variant={\"body1\"} style={{ fontWeight: \"bold\" }}>\r\n            {url ? domainName : \"Platform Name\"}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flex: 1,\r\n            alignItems: \"flex-end\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >\r\n          <Button\r\n            variant=\"text\"\r\n            onClick={() => {\r\n              const isValid = handleValidation({ streamKey, url });\r\n              if (isValid) {\r\n                const _streamKey = streamKey;\r\n                const _url = url;\r\n\r\n                _handleSave({ streamKey: _streamKey, url: _url });\r\n                setStreamKey(\"\");\r\n                setStreamUrl(\"\");\r\n              }\r\n            }}\r\n            className={classes.button}\r\n          >\r\n            ADD\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n      <Box mt={1}>\r\n        <TextField\r\n          placeholder=\"Stream Key\"\r\n          fullWidth\r\n          variant=\"filled\"\r\n          type=\"password\"\r\n          autocomplete=\"off\"\r\n          className={classes.root}\r\n          value={streamKey}\r\n          InputProps={{\r\n            disableUnderline: true,\r\n            classes: {\r\n              root: classes.textField,\r\n            },\r\n          }}\r\n          onChange={(e) => {\r\n            setStreamKey(e.target.value);\r\n          }}\r\n        />\r\n        {streamKeyErr && (\r\n          <Typography variant=\"body2\" style={{ color: \"#D33730\" }}>\r\n            Please provide stream key\r\n          </Typography>\r\n        )}\r\n        <TextField\r\n          placeholder=\"Stream Url\"\r\n          fullWidth\r\n          variant=\"filled\"\r\n          style={{ marginTop: \"8px\" }}\r\n          autocomplete=\"off\"\r\n          className={classes.root}\r\n          value={url}\r\n          InputProps={{\r\n            disableUnderline: true,\r\n            classes: {\r\n              root: classes.textField,\r\n            },\r\n          }}\r\n          onChange={(e) => {\r\n            setStreamUrl(e.target.value);\r\n          }}\r\n        />\r\n        {streamUrlErr && (\r\n          <Typography variant=\"body2\" style={{ color: \"#D33730\" }}>\r\n            Please provide stream url\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst LiveStreamConfigTabPanel = ({ panelWidth, panelHeight }) => {\r\n  const [editingItemId, setEditingItemId] = useState(null);\r\n  const [addLiveStreamBoxHeight, setAddLiveStreamBoxHeight] = useState(0);\r\n\r\n  const [isEditingId, setIsEditingId] = useState(null);\r\n\r\n  const mMeeting = useMeeting({});\r\n  const { liveStreamConfig, setLiveStreamConfig } = useMeetingAppContext();\r\n\r\n  const isLiveStreaming = useIsLiveStreaming();\r\n\r\n  const liveStreamConfigRef = useRef();\r\n  const addLiveStreamBoxRef = useRef();\r\n  const liveStreamsContainerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    liveStreamConfigRef.current = liveStreamConfig;\r\n  }, [liveStreamConfig]);\r\n\r\n  const { publish } = usePubSub(\"LIVE_STREAM_CONFIG\");\r\n\r\n  const _handleRemove = ({ id }) => {\r\n    const liveStreamConfig = liveStreamConfigRef.current;\r\n\r\n    const filtered = liveStreamConfig.filter(({ id: _id }) => {\r\n      return id !== _id;\r\n    });\r\n\r\n    publish({ config: filtered }, { persist: true });\r\n  };\r\n\r\n  const _handleSave = ({ streamKey, url }) => {\r\n    const liveStreamConfig = liveStreamConfigRef.current;\r\n    liveStreamConfig.push({ id: getUniqueId(), streamKey, url });\r\n\r\n    publish({ config: liveStreamConfig }, { persist: true });\r\n\r\n    setTimeout(() => {\r\n      liveStreamsContainerRef.current.scrollTop =\r\n        liveStreamsContainerRef.current.scrollHeight;\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        height: panelHeight - 32,\r\n        overflowY: \"hidden\",\r\n        overflowX: \"hidden\",\r\n      }}\r\n    >\r\n      <Box\r\n        ref={liveStreamsContainerRef}\r\n        style={{\r\n          overflowY: \"scroll\",\r\n          maxHeight: panelHeight - 32 - addLiveStreamBoxHeight,\r\n        }}\r\n      >\r\n        {liveStreamConfig?.map((item, i) => {\r\n          return (\r\n            <SingleLiveStreamItem\r\n              key={`live_stream_op_item${i}`}\r\n              item={item}\r\n              liveStreamConfig={liveStreamConfig}\r\n              setLiveStreamConfig={setLiveStreamConfig}\r\n              liveStreamConfigRef={liveStreamConfigRef}\r\n              publish={publish}\r\n              editingItemId={editingItemId}\r\n              setEditingItemId={setEditingItemId}\r\n              _handleRemove={_handleRemove}\r\n              isEditingId={isEditingId}\r\n              setIsEditingId={setIsEditingId}\r\n              isLiveStreaming={isLiveStreaming}\r\n              index={i}\r\n            />\r\n          );\r\n        })}\r\n      </Box>\r\n      {!isLiveStreaming && (\r\n        <AddLiveStream\r\n          {...{\r\n            _handleSave,\r\n            renderCallback: (el) => {\r\n              addLiveStreamBoxRef.current = el;\r\n\r\n              const addLiveStreamBoxHeight =\r\n                addLiveStreamBoxRef.current?.clientHeight + 3 || 0;\r\n\r\n              setAddLiveStreamBoxHeight(addLiveStreamBoxHeight);\r\n            },\r\n          }}\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LiveStreamConfigTabPanel;\r\n","import * as React from \"react\";\r\n\r\nconst SpotlightIcon = (props) => (\r\n  <svg\r\n    width={92}\r\n    height={56}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <rect\r\n      x={0.75}\r\n      y={0.75}\r\n      width={90.5}\r\n      height={54.5}\r\n      rx={5.25}\r\n      stroke={props.strokeColor}\r\n      strokeWidth={1.5}\r\n    />\r\n    <rect x={6} y={6} width={80} height={44} rx={2} fill={props.fillColor} />\r\n    <path\r\n      d=\"M38 31.889v2.333c0 .43.336.778.75.778h10.5c.414 0 .75-.348.75-.778V31.89c0-1.718-1.343-3.111-3-3.111h-6c-1.657 0-3 1.393-3 3.11Zm9-7.778c0 1.718-1.343 3.111-3 3.111s-3-1.393-3-3.11C41 22.391 42.343 21 44 21s3 1.393 3 3.111Z\"\r\n      fill=\"#333244\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SpotlightIcon;\r\n","import * as React from \"react\";\r\n\r\nconst SideBarIcon = (props) => (\r\n  <svg\r\n    width={92}\r\n    height={56}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <rect\r\n      x={0.75}\r\n      y={0.75}\r\n      width={90.5}\r\n      height={54.5}\r\n      rx={5.25}\r\n      stroke={props.strokeColor}\r\n      strokeWidth={1.5}\r\n    />\r\n    <rect x={6} y={6} width={52} height={44} rx={2} fill={props.fillColor} />\r\n    <rect x={62} y={6} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={62} y={30} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <path\r\n      d=\"M25 31.889v2.333c0 .43.336.778.75.778h10.5c.414 0 .75-.348.75-.778V31.89c0-1.718-1.343-3.111-3-3.111h-6c-1.657 0-3 1.393-3 3.11Zm9-7.778c0 1.718-1.343 3.111-3 3.111s-3-1.393-3-3.11C28 22.391 29.343 21 31 21s3 1.393 3 3.111ZM71 18.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S73.534 12 74.5 12s1.75.796 1.75 1.778ZM71 42.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S73.534 36 74.5 36s1.75.796 1.75 1.778Z\"\r\n      fill=\"#333244\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SideBarIcon;\r\n","import * as React from \"react\";\r\n\r\nconst GridIcon = (props) => (\r\n  <svg\r\n    width={92}\r\n    height={56}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <rect\r\n      x={0.75}\r\n      y={0.75}\r\n      width={90.5}\r\n      height={54.5}\r\n      rx={5.25}\r\n      stroke={props.strokeColor}\r\n      strokeWidth={1.5}\r\n    />\r\n    <rect x={6} y={6} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={6} y={30} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={34} y={6} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={34} y={30} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={62} y={6} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <rect x={62} y={30} width={24} height={20} rx={2} fill={props.fillColor} />\r\n    <path\r\n      d=\"M15 18.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S17.534 12 18.5 12s1.75.796 1.75 1.778ZM15 42.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S17.534 36 18.5 36s1.75.796 1.75 1.778ZM43 18.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.783-1.778-1.75-1.778h-3.5c-.967 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.783 1.778-1.75 1.778s-1.75-.796-1.75-1.778S45.533 12 46.5 12s1.75.796 1.75 1.778ZM43 42.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.783-1.778-1.75-1.778h-3.5c-.967 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.783 1.778-1.75 1.778s-1.75-.796-1.75-1.778S45.533 36 46.5 36s1.75.796 1.75 1.778ZM71 18.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S73.534 12 74.5 12s1.75.796 1.75 1.778ZM71 42.222v1.334c0 .245.196.444.438.444h6.124a.441.441 0 0 0 .438-.444v-1.334c0-.982-.784-1.778-1.75-1.778h-3.5c-.966 0-1.75.796-1.75 1.778Zm5.25-4.444c0 .982-.784 1.778-1.75 1.778s-1.75-.796-1.75-1.778S73.534 36 74.5 36s1.75.796 1.75 1.778Z\"\r\n      fill=\"#333244\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default GridIcon;\r\n","import * as React from \"react\";\r\n\r\nconst SvgComponent = (props) => (\r\n  <svg\r\n    width={92}\r\n    height={56}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <rect\r\n      x={0.75}\r\n      y={0.75}\r\n      width={90.5}\r\n      height={54.5}\r\n      rx={5.25}\r\n      stroke={props.strokeColor}\r\n      strokeWidth={1.5}\r\n    />\r\n    <rect x={6} y={6} width={80} height={44} rx={2} fill={props.fillColor} />\r\n    <path\r\n      d=\"M38 31.889v2.333c0 .43.336.778.75.778h10.5c.414 0 .75-.348.75-.778V31.89c0-1.718-1.343-3.111-3-3.111h-6c-1.657 0-3 1.393-3 3.11Zm9-7.778c0 1.718-1.343 3.111-3 3.111s-3-1.393-3-3.11C41 22.391 42.343 21 44 21s3 1.393 3 3.111Z\"\r\n      fill=\"#333244\"\r\n    />\r\n    <rect x={74} y={40} width={2} height={4} rx={1} fill=\"#333244\" />\r\n    <rect x={77} y={38} width={2} height={8} rx={1} fill=\"#333244\" />\r\n    <rect x={80} y={40} width={2} height={4} rx={1} fill=\"#333244\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgComponent;\r\n","import * as React from \"react\";\r\n\r\nconst PinParticipantIcon = (props) => (\r\n  <svg\r\n    width={92}\r\n    height={56}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <rect\r\n      x={0.75}\r\n      y={0.75}\r\n      width={90.5}\r\n      height={54.5}\r\n      rx={5.25}\r\n      stroke={props.strokeColor}\r\n      strokeWidth={1.5}\r\n    />\r\n    <rect x={6} y={6} width={80} height={44} rx={2} fill={props.fillColor} />\r\n    <path\r\n      d=\"M38 31.889v2.333c0 .43.336.778.75.778h10.5c.414 0 .75-.348.75-.778V31.89c0-1.718-1.343-3.111-3-3.111h-6c-1.657 0-3 1.393-3 3.11Zm9-7.778c0 1.718-1.343 3.111-3 3.111s-3-1.393-3-3.11C41 22.391 42.343 21 44 21s3 1.393 3 3.111Z\"\r\n      fill=\"#333244\"\r\n    />\r\n    <mask\r\n      id=\"a\"\r\n      style={{\r\n        maskType: \"alpha\",\r\n      }}\r\n      maskUnits=\"userSpaceOnUse\"\r\n      x={72}\r\n      y={36}\r\n      width={12}\r\n      height={12}\r\n    >\r\n      <path fill=\"#C4C4C4\" d=\"M72 36h12v12H72z\" />\r\n    </mask>\r\n    <g mask=\"url(#a)\">\r\n      <path\r\n        d=\"M79.98 37h-3.692c-.36 0-.65.316-.65.706 0 .186.069.371.188.502.12.13.29.204.462.204h.12v3.51l-.872 1.132a.214.214 0 0 0-.017.204c.034.056.085.112.153.112h4.906a.15.15 0 0 0 .12-.056c.016-.019.016-.037.033-.056a.214.214 0 0 0-.017-.204l-.854-1.114v-3.51h.12a.607.607 0 0 0 .46-.204.717.717 0 0 0 .189-.501c0-.39-.29-.724-.65-.724Zm-2.017 10.102c.017.074.085.13.17.149a.15.15 0 0 0 .12-.056.414.414 0 0 0 .052-.093l.803-3.361h-1.931l.786 3.36Z\"\r\n        fill=\"#333244\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default PinParticipantIcon;\r\n","import React, { useEffect, useMemo, useRef } from \"react\";\r\nimport { Box, Typography, Slider, ButtonBase } from \"@material-ui/core\";\r\nimport {\r\n  meetingLayoutTopics,\r\n  useMeetingAppContext,\r\n} from \"../../MeetingAppContextDef\";\r\nimport SpotlightIcon from \"../../icons/SpotlightIcon\";\r\nimport SideBarIcon from \"../../icons/SideBarIcon\";\r\nimport GridIcon from \"../../icons/GridIcon\";\r\nimport SpeakerIcon from \"../../icons/SpeakerIcon\";\r\nimport PinParticipantIcon from \"../../icons/PinParticipantIcon\";\r\nimport { usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport { debounce } from \"../../utils/common\";\r\n\r\nfunction ConfigTabPanel() {\r\n  const isMobile = useIsMobile(375);\r\n\r\n  const { appMeetingLayout } = useMeetingAppContext();\r\n\r\n  const { type, priority, gridSize } = useMemo(\r\n    () => ({\r\n      type: appMeetingLayout.type,\r\n      priority: appMeetingLayout.priority,\r\n      gridSize: appMeetingLayout.gridSize,\r\n    }),\r\n    [appMeetingLayout]\r\n  );\r\n\r\n  const typeRef = useRef(type);\r\n  const priorityRef = useRef(priority);\r\n  const gridSizeRef = useRef(gridSize);\r\n\r\n  useEffect(() => {\r\n    typeRef.current = type;\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    priorityRef.current = priority;\r\n  }, [priority]);\r\n\r\n  useEffect(() => {\r\n    gridSizeRef.current = gridSize;\r\n  }, [gridSize]);\r\n\r\n  const { publish: livestreamPublish } = usePubSub(\r\n    meetingLayoutTopics.LIVE_STREAM_LAYOUT\r\n  );\r\n  const { publish: recordingPublish } = usePubSub(\r\n    meetingLayoutTopics.RECORDING_LAYOUT\r\n  );\r\n  const { publish: hlsPublish } = usePubSub(meetingLayoutTopics.HLS_LAYOUT);\r\n  const { publish: meetingPublish } = usePubSub(\r\n    meetingLayoutTopics.MEETING_LAYOUT\r\n  );\r\n\r\n  const livestreamPublishRef = useRef(livestreamPublish);\r\n  const recordingPublishRef = useRef(recordingPublish);\r\n  const hlsPublishRef = useRef(hlsPublish);\r\n  const meetingPublishRef = useRef(meetingPublish);\r\n\r\n  useEffect(() => {\r\n    livestreamPublishRef.current = livestreamPublish;\r\n  }, [livestreamPublish]);\r\n  useEffect(() => {\r\n    recordingPublishRef.current = recordingPublish;\r\n  }, [recordingPublish]);\r\n  useEffect(() => {\r\n    hlsPublishRef.current = hlsPublish;\r\n  }, [hlsPublish]);\r\n  useEffect(() => {\r\n    meetingPublishRef.current = meetingPublish;\r\n  }, [meetingPublish]);\r\n\r\n  const marks = Array.from({ length: 25 }, (_, i) => i + 1);\r\n\r\n  const layoutArr = [\r\n    {\r\n      type: \"Spotlight\",\r\n      Icon: SpotlightIcon,\r\n    },\r\n    {\r\n      type: \"Sidebar\",\r\n      Icon: SideBarIcon,\r\n    },\r\n    {\r\n      type: \"Grid\",\r\n      Icon: GridIcon,\r\n    },\r\n  ];\r\n\r\n  const priorityArr = [\r\n    {\r\n      type: \"Pin\",\r\n      Icon: PinParticipantIcon,\r\n    },\r\n    {\r\n      type: \"Speaker\",\r\n      Icon: SpeakerIcon,\r\n    },\r\n  ];\r\n\r\n  //BaseButton focus\r\n  function focusVisible() {\r\n    document.getElementById(\"card\").style.cursor = \"pointer\";\r\n  }\r\n\r\n  //sliders events\r\n  function valuetext(value) {\r\n    return `${value}`;\r\n  }\r\n\r\n  //handlers\r\n  const _handleChangeLayout = (event) => {\r\n    const type = event.currentTarget.value.toUpperCase() || typeRef.current;\r\n    publishToPubSub({ type });\r\n  };\r\n\r\n  const _handleChangePriority = (event) => {\r\n    const priority =\r\n      event.currentTarget.value.toUpperCase() || priorityRef.current;\r\n    publishToPubSub({ priority });\r\n  };\r\n\r\n  const _handleGridSize = (newGridSize) => {\r\n    const gridSize = newGridSize || gridSizeRef.current;\r\n    publishToPubSub({ gridSize });\r\n  };\r\n\r\n  const publishToPubSub = debounce(function ({\r\n    type: _type,\r\n    gridSize: _gridSize,\r\n    priority: _priority,\r\n  }) {\r\n    const type = _type || typeRef.current;\r\n    const gridSize = _gridSize || gridSizeRef.current;\r\n    const priority = _priority || priorityRef.current;\r\n\r\n    const layout = { type, gridSize, priority };\r\n\r\n    livestreamPublishRef.current({ layout }, { persist: true });\r\n    hlsPublishRef.current({ layout }, { persist: true });\r\n    meetingPublishRef.current({ layout }, { persist: true });\r\n    recordingPublishRef.current({ layout }, { persist: true });\r\n  },\r\n  500);\r\n\r\n  //layout and priority card\r\n  let Card = ({ isActive, ref, title, Icon, onClick }) => {\r\n    return isActive ? (\r\n      <Box\r\n        mr={isMobile ? 0.8 : 2}\r\n        style={{\r\n          justifyItems: \"center\",\r\n          alignItems: \"center\",\r\n          textAlign: \"center\",\r\n          maxWidth: \"fit-content\",\r\n        }}\r\n      >\r\n        <ButtonBase\r\n          value={title}\r\n          onClick={onClick}\r\n          action={focusVisible}\r\n          id=\"card\"\r\n          ref={ref}\r\n        >\r\n          <Icon fillColor=\"white\" strokeColor=\"#fff\" />\r\n        </ButtonBase>\r\n        <Typography\r\n          style={{\r\n            marginTop: 12,\r\n            fontSize: \"14px\",\r\n            fontWeight: \"400\",\r\n            color: \"white\",\r\n          }}\r\n        >\r\n          {title}\r\n        </Typography>\r\n      </Box>\r\n    ) : (\r\n      <Box\r\n        mr={isMobile ? 0.8 : 2}\r\n        style={{\r\n          justifyItems: \"center\",\r\n          alignItems: \"center\",\r\n          textAlign: \"center\",\r\n          maxWidth: \"fit-content\",\r\n        }}\r\n      >\r\n        <ButtonBase\r\n          value={title}\r\n          onClick={onClick}\r\n          action={focusVisible}\r\n          id=\"card\"\r\n          ref={ref}\r\n        >\r\n          <Icon fillColor=\"#95959E\" strokeColor=\"#474657\" />\r\n        </ButtonBase>\r\n        <Typography\r\n          style={{\r\n            marginTop: 12,\r\n            fontSize: \"14px\",\r\n            fontWeight: \"400\",\r\n            color: \"#95959E\",\r\n          }}\r\n        >\r\n          {title}\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  let Div = ({ heading, onLayoutChange, onPriorityChange }) => {\r\n    return (\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <Typography\r\n          style={{\r\n            fontWeight: 600,\r\n            lineHeight: \"16px\",\r\n            fontSize: \"16px\",\r\n            marginTop: 24,\r\n          }}\r\n          variant=\"body1\"\r\n        >\r\n          {heading}\r\n        </Typography>\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            marginTop: 16,\r\n            marginBottom: 24,\r\n          }}\r\n        >\r\n          {heading === \"Layout\" ? (\r\n            <>\r\n              {layoutArr.map((layoutObj) => {\r\n                return layoutObj.type.toUpperCase() === type ? (\r\n                  <Card\r\n                    onClick={onLayoutChange}\r\n                    isActive={true}\r\n                    title={layoutObj.type}\r\n                    Icon={layoutObj.Icon}\r\n                    ref={typeRef}\r\n                  />\r\n                ) : (\r\n                  <Card\r\n                    onClick={onLayoutChange}\r\n                    isActive={false}\r\n                    title={layoutObj.type}\r\n                    Icon={layoutObj.Icon}\r\n                    ref={priorityRef}\r\n                  />\r\n                );\r\n              })}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {priorityArr.map((priorityObj) => {\r\n                return priorityObj.type.toUpperCase() === priority ? (\r\n                  <Card\r\n                    onClick={onPriorityChange}\r\n                    isActive={true}\r\n                    title={priorityObj.type}\r\n                    Icon={priorityObj.Icon}\r\n                  />\r\n                ) : (\r\n                  <Card\r\n                    onClick={onPriorityChange}\r\n                    isActive={false}\r\n                    title={priorityObj.type}\r\n                    Icon={priorityObj.Icon}\r\n                  />\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </Box>\r\n        <Box\r\n          style={{ borderBottom: \"2px solid #3A3F4B\", marginLeft: -12 }}\r\n        ></Box>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        display: \"flex\",\r\n        maxWidth: \"100%\",\r\n        marginLeft: 12,\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <Div onLayoutChange={_handleChangeLayout} heading=\"Layout\" />\r\n      <Div onPriorityChange={_handleChangePriority} heading=\"Priority\" />\r\n      {type === \"GRID\" ? (\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            marginRight: 12,\r\n          }}\r\n        >\r\n          <Typography\r\n            style={{\r\n              fontWeight: 600,\r\n              lineHeight: \"16px\",\r\n              fontSize: \"16px\",\r\n              marginTop: 24,\r\n            }}\r\n            variant=\"body1\"\r\n          >\r\n            Participants On Screen\r\n          </Typography>\r\n          <Slider\r\n            getAriaValueText={valuetext}\r\n            min={1}\r\n            max={25}\r\n            defaultValue={gridSize}\r\n            onChange={(_, newValue) => {\r\n              _handleGridSize(newValue);\r\n            }}\r\n            valueLabelDisplay=\"on\"\r\n            step={1}\r\n            style={{\r\n              marginTop: 48,\r\n              color: \"#ffffff\",\r\n            }}\r\n            area-label=\"default\"\r\n            marks={marks}\r\n          />\r\n        </Box>\r\n      ) : null}\r\n    </Box>\r\n  );\r\n}\r\nexport default ConfigTabPanel;\r\n","import {\r\n  Box,\r\n  capitalize,\r\n  Dialog,\r\n  IconButton,\r\n  Slide,\r\n  Typography,\r\n  useTheme,\r\n  Fade,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport React, { useMemo } from \"react\";\r\nimport { sideBarModes, useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport ChatTabPanel from \"./ChatTabPanel\";\r\nimport ParticipantsTabPanel from \"./ParticipantsTabPanel\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport ActivitiesTabPanel from \"./ActivitiesTabPanel\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport LiveStreamConfigTabPanel from \"./LivestreamConfigTabPanel\";\r\nimport ConfigTabPanel from \"./ConfigTabPanel\";\r\nimport { NavigateBeforeOutlined } from \"@material-ui/icons\";\r\nimport { meetingModes } from \"../../CONSTS\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  iconbutton: {\r\n    \"&:hover \": {\r\n      background: \"transparent\",\r\n    },\r\n  },\r\n  iconContainer: {\r\n    \"&:hover $icon\": {\r\n      color: \"white\",\r\n      background: \"transparent\",\r\n    },\r\n  },\r\n  icon: {\r\n    color: \"#9FA0A7\",\r\n    background: \"transparent\",\r\n  },\r\n}));\r\n\r\nconst SideBarTabView = ({ width, height }) => {\r\n  const {\r\n    sideBarMode,\r\n    setSideBarMode,\r\n    polls,\r\n    draftPolls,\r\n    canCreatePoll,\r\n    sideBarNestedMode,\r\n    setSideBarNestedMode,\r\n    meetingMode,\r\n  } = useMeetingAppContext();\r\n  const { participants } = useMeeting();\r\n  const value =\r\n    sideBarMode === sideBarModes.PARTICIPANTS\r\n      ? 0\r\n      : sideBarMode === sideBarModes.CHAT\r\n      ? 1\r\n      : sideBarMode === sideBarModes.ACTIVITIES\r\n      ? 2\r\n      : sideBarMode === sideBarModes.ADD_LIVE_STREAM\r\n      ? 3\r\n      : sideBarMode === sideBarModes.CONFIGURATION\r\n      ? 4\r\n      : null;\r\n\r\n  const panelPadding = 8;\r\n\r\n  const paddedHeight = height - panelPadding * 2;\r\n\r\n  const panelHeaderHeight = useResponsiveSize({\r\n    xl: 38,\r\n    lg: 34,\r\n    md: 44,\r\n    sm: 40,\r\n    xs: 36,\r\n  });\r\n\r\n  const panelHeaderPadding = useResponsiveSize({\r\n    xl: 12,\r\n    lg: 12,\r\n    md: 10,\r\n    sm: 6,\r\n    xs: 4,\r\n  });\r\n\r\n  const panelHeight = paddedHeight - panelHeaderPadding - panelHeaderHeight;\r\n\r\n  const handleClose = () => {\r\n    setSideBarMode(null);\r\n  };\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height,\r\n        paddingTop: panelPadding,\r\n        paddingLeft: panelPadding,\r\n        paddingRight: panelPadding,\r\n        paddingBottom: panelPadding,\r\n        backgroundColor: theme.palette.background.default,\r\n      }}\r\n    >\r\n      <Fade in={sideBarMode}>\r\n        <div\r\n          style={{\r\n            backgroundColor: theme.palette.background.paper,\r\n            height: paddedHeight,\r\n            borderRadius: 10,\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n          <>\r\n            {sideBarMode && (\r\n              <Box\r\n                style={{\r\n                  padding: panelHeaderPadding,\r\n                  height: panelHeaderHeight - 1,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                  borderBottom: \"1px solid #70707033\",\r\n                }}\r\n              >\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  {(sideBarNestedMode === \"POLLS\" ||\r\n                    sideBarNestedMode === \"CREATE_POLL\") && (\r\n                    <IconButton\r\n                      onClick={() => {\r\n                        setSideBarNestedMode(null);\r\n                      }}\r\n                      disableFocusRipple\r\n                      disableRipple\r\n                      disableTouchRipple\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        margin: 0,\r\n                        padding: 0,\r\n                        marginLeft: -4,\r\n                      }}\r\n                      className={classes.iconbutton}\r\n                      classes={{\r\n                        root: classes.iconContainer,\r\n                      }}\r\n                    >\r\n                      <NavigateBeforeOutlined\r\n                        fontSize=\"medium\"\r\n                        className={classes.icon}\r\n                      />\r\n                    </IconButton>\r\n                  )}\r\n                  <Typography variant={\"body1\"} style={{ fontWeight: \"bold\" }}>\r\n                    {sideBarMode === \"PARTICIPANTS\"\r\n                      ? `${capitalize(\r\n                          String(sideBarMode || \"\").toLowerCase()\r\n                        )} (${new Map(participants)?.size})`\r\n                      : sideBarMode === \"ADD_LIVE_STREAM\"\r\n                      ? \"Add Live Streams\"\r\n                      : sideBarMode === \"ACTIVITIES\" &&\r\n                        sideBarNestedMode === \"POLLS\"\r\n                      ? polls.length >= 1 || draftPolls.length >= 1\r\n                        ? `Polls (${polls.length || draftPolls.length})`\r\n                        : sideBarNestedMode === \"CREATE_POLL\" &&\r\n                          sideBarMode === \"ACTIVITIES\"\r\n                        ? \"Create a poll\"\r\n                        : canCreatePoll &&\r\n                          sideBarMode === \"ACTIVITIES\" &&\r\n                          meetingMode !== meetingModes.VIEWER\r\n                        ? \"Create a poll\"\r\n                        : `Polls ${polls.length > 0 ? `(${polls.length})` : \"\"}`\r\n                      : sideBarNestedMode === \"CREATE_POLL\" &&\r\n                        sideBarMode === \"ACTIVITIES\"\r\n                      ? \"Create a poll\"\r\n                      : capitalize(String(sideBarMode || \"\").toLowerCase())}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <IconButton\r\n                    onClick={handleClose}\r\n                    disableFocusRipple\r\n                    disableRipple\r\n                    disableTouchRipple\r\n                    className={classes.iconbutton}\r\n                    classes={{\r\n                      root: classes.iconContainer,\r\n                    }}\r\n                    style={{ padding: 0, margin: 0 }}\r\n                  >\r\n                    <CloseIcon fontSize={\"small\"} className={classes.icon} />\r\n                  </IconButton>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n            {value === 0 ? (\r\n              <ParticipantsTabPanel {...{ panelHeight, panelWidth: width }} />\r\n            ) : value === 1 ? (\r\n              <ChatTabPanel {...{ panelHeight }} />\r\n            ) : value === 2 ? (\r\n              <ActivitiesTabPanel {...{ panelHeight }} />\r\n            ) : value === 3 ? (\r\n              <LiveStreamConfigTabPanel {...{ panelHeight }} />\r\n            ) : value === 4 ? (\r\n              <ConfigTabPanel {...{ panelHeight }} />\r\n            ) : null}\r\n          </>\r\n        </div>\r\n      </Fade>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst SideViewContainer = ({ topBarHeight, width, height }) => {\r\n  const {\r\n    sideBarMode,\r\n    setSideBarMode,\r\n    endCallContainerRef,\r\n    animationsEnabled,\r\n  } = useMeetingAppContext();\r\n  const isTab = useIsTab();\r\n  const isMobile = useIsMobile();\r\n\r\n  const isOpen = useMemo(() => typeof sideBarMode === \"string\", [sideBarMode]);\r\n\r\n  const handleClose = () => {\r\n    setSideBarMode(null);\r\n  };\r\n\r\n  const theme = useTheme();\r\n\r\n  return isTab || isMobile ? (\r\n    <Dialog\r\n      container={endCallContainerRef?.current}\r\n      closeAfterTransition\r\n      fullScreen\r\n      open={sideBarMode}\r\n      onClose={handleClose}\r\n      TransitionComponent={Transition}\r\n    >\r\n      <SideBarTabView {...{ width, height: height + topBarHeight }} />\r\n    </Dialog>\r\n  ) : (\r\n    <div\r\n      style={{\r\n        height,\r\n        position: \"relative\",\r\n        width: isOpen ? width : 0,\r\n        transition: `width ${400 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n        transitionTimingFunction: \"ease-in-out\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          height,\r\n          width,\r\n          top: 0,\r\n          left: 0,\r\n          backgroundColor: theme.palette.background.paper,\r\n          flex: 1,\r\n          flexDirection: \"column\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <SideBarTabView {...{ width, height }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideViewContainer;\r\n","import {\r\n  Badge,\r\n  Box,\r\n  ButtonBase,\r\n  Tooltip,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport Lottie from \"react-lottie\";\r\n\r\nconst OutlineIconButton = ({\r\n  badge,\r\n  onClick,\r\n  Icon,\r\n  isFocused,\r\n  bgColor,\r\n  focusBGColor,\r\n  focusIconColor,\r\n  disabled,\r\n  large,\r\n  renderRightComponent,\r\n  tooltipTitle,\r\n  btnID,\r\n  buttonText,\r\n  lottieOption,\r\n  isRequestProcessing,\r\n}) => {\r\n  const theme = useTheme();\r\n  const [mouseOver, setMouseOver] = useState(false);\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [blinkingState, setBlinkingState] = useState(1);\r\n\r\n  const intervalRef = useRef();\r\n\r\n  const iconSize = useResponsiveSize({\r\n    xl: 24 * (large ? 1.7 : 1),\r\n    lg: 24 * (large ? 1.7 : 1),\r\n    md: 32 * (large ? 1.7 : 1),\r\n    sm: 28 * (large ? 1.7 : 1),\r\n    xs: 24 * (large ? 1.7 : 1),\r\n  });\r\n\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  const startBlinking = () => {\r\n    intervalRef.current = setInterval(() => {\r\n      setBlinkingState((s) => (s === 1 ? 0.4 : 1));\r\n    }, 600);\r\n  };\r\n\r\n  const stopBlinking = () => {\r\n    clearInterval(intervalRef.current);\r\n\r\n    setBlinkingState(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isRequestProcessing) {\r\n      startBlinking();\r\n    } else {\r\n      stopBlinking();\r\n    }\r\n  }, [isRequestProcessing]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopBlinking();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Tooltip placement=\"bottom\" title={tooltipTitle || \"\"}>\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          borderRadius: theme.spacing(1),\r\n          // overflow: \"hidden\",\r\n          backgroundColor: bgColor\r\n            ? bgColor\r\n            : isFocused\r\n            ? focusBGColor || \"#fff\"\r\n            : theme.palette.background.default,\r\n          border: `${2}px solid ${\r\n            mouseOver || mouseDown\r\n              ? \"transparent\"\r\n              : bgColor\r\n              ? bgColor\r\n              : focusBGColor\r\n              ? focusBGColor\r\n              : \"#ffffff33\"\r\n          }`,\r\n          transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"linear\",\r\n          opacity: blinkingState,\r\n        }}\r\n      >\r\n        <ButtonBase\r\n          id={btnID}\r\n          onMouseEnter={() => {\r\n            setMouseOver(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setMouseOver(false);\r\n          }}\r\n          onMouseDown={() => {\r\n            setMouseDown(true);\r\n          }}\r\n          onMouseUp={() => {\r\n            setMouseDown(false);\r\n          }}\r\n          disabled={disabled}\r\n          onClick={onClick}\r\n        >\r\n          <Box\r\n            p={1}\r\n            style={{\r\n              opacity: disabled ? 0.7 : 1,\r\n              // overflow: \"hidden\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              borderRadius: theme.spacing(1),\r\n              transform: `scale(${mouseOver ? (mouseDown ? 0.95 : 1.1) : 1})`,\r\n              transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              transitionTimingFunction: \"linear\",\r\n            }}\r\n          >\r\n            {Icon && (\r\n              <Badge max={1000} color={\"secondary\"} badgeContent={badge}>\r\n                {lottieOption ? (\r\n                  <Box\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <Lottie\r\n                      style={{ height: iconSize }}\r\n                      options={lottieOption}\r\n                      eventListeners={[{ eventName: \"done\" }]}\r\n                      height={iconSize}\r\n                      width={\r\n                        (iconSize * lottieOption?.width) / lottieOption?.height\r\n                      }\r\n                      isClickToPauseDisabled\r\n                    />\r\n                  </Box>\r\n                ) : (\r\n                  <Icon\r\n                    style={{\r\n                      color: isFocused ? focusIconColor || \"#1C1F2E\" : \"#fff\",\r\n                      height: iconSize,\r\n                      width: iconSize,\r\n                    }}\r\n                    fillColor={isFocused ? focusIconColor || \"#1C1F2E\" : \"#fff\"}\r\n                  />\r\n                )}\r\n              </Badge>\r\n            )}\r\n          </Box>\r\n          {buttonText ? (\r\n            <Typography variant=\"subtitle2\" style={{ fontWeight: \"bold\" }}>\r\n              {buttonText}\r\n            </Typography>\r\n          ) : null}\r\n        </ButtonBase>\r\n        {typeof renderRightComponent === \"function\" && renderRightComponent()}\r\n      </Box>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default OutlineIconButton;\r\n","import * as React from \"react\";\r\n\r\nconst LiveIcon = (props) => (\r\n  <svg\r\n    width={24}\r\n    height={24}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <mask\r\n      id=\"a\"\r\n      style={{\r\n        maskType: \"alpha\",\r\n      }}\r\n      maskUnits=\"userSpaceOnUse\"\r\n      x={0}\r\n      y={0}\r\n      width={24}\r\n      height={24}\r\n    >\r\n      <path fill=\"#C4C4C4\" d=\"M0 0h24v24H0z\" />\r\n    </mask>\r\n    <g mask=\"url(#a)\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M22.532 4.236c.201 0 .398.067.567.195.164.134.3.308.399.51.098.203.155.428.167.66V16c.018.224-.021.45-.113.65a1.227 1.227 0 0 1-.654.569c-.27.095-.56.077-.82-.05L18 14.83c-.045 1.006-.421 1.954-1.052 2.654s-1.47 1.099-2.348 1.116H4.4a2.966 2.966 0 0 1-1.31-.277 3.343 3.343 0 0 1-1.112-.844 3.915 3.915 0 0 1-.735-1.275A4.331 4.331 0 0 1 1 14.7V6.9a4.33 4.33 0 0 1 .242-1.503c.167-.478.418-.911.735-1.275.317-.364.695-.651 1.112-.844a2.965 2.965 0 0 1 1.31-.277h10.2c.877.017 1.716.416 2.347 1.116.631.7 1.007 1.648 1.052 2.653l3.966-2.34a.938.938 0 0 1 .567-.194ZM6.792 13v-.643H4.895V9H4v4h2.792Zm1.465 0V9h-.892v4h.892Zm1.974 0h.937l1.512-4h-.996l-.984 3.045L9.718 9h-.99l1.503 4ZM16 13v-.643h-2.02v-1.101H15.7v-.627H13.98v-.983h2.016V9h-2.911v4H16Z\"\r\n        fill={props.fillColor}\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default LiveIcon;\r\n","import {\r\n  Box,\r\n  ButtonBase,\r\n  Tooltip,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport Lottie from \"react-lottie\";\r\n\r\nconst OutlineIconTextButton = ({\r\n  onClick,\r\n  isFocused,\r\n  bgColor,\r\n  Icon,\r\n  focusBGColor,\r\n  disabled,\r\n  renderRightComponent,\r\n  fillColor,\r\n  lottieOption,\r\n  tooltipTitle,\r\n  btnID,\r\n  buttonText,\r\n  large,\r\n  isRequestProcessing,\r\n}) => {\r\n  const theme = useTheme();\r\n  const [mouseOver, setMouseOver] = useState(false);\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [blinkingState, setBlinkingState] = useState(1);\r\n\r\n  const intervalRef = useRef();\r\n\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  const iconSize = useResponsiveSize({\r\n    xl: 22 * (large ? 1 : 1),\r\n    lg: 22 * (large ? 1 : 1),\r\n  });\r\n\r\n  const startBlinking = () => {\r\n    intervalRef.current = setInterval(() => {\r\n      setBlinkingState((s) => (s === 1 ? 0.4 : 1));\r\n    }, 600);\r\n  };\r\n\r\n  const stopBlinking = () => {\r\n    clearInterval(intervalRef.current);\r\n\r\n    setBlinkingState(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isRequestProcessing) {\r\n      startBlinking();\r\n    } else {\r\n      stopBlinking();\r\n    }\r\n  }, [isRequestProcessing]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopBlinking();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Tooltip placement=\"bottom\" title={tooltipTitle || \"\"}>\r\n      <ButtonBase\r\n        id={btnID}\r\n        onMouseEnter={() => {\r\n          setMouseOver(true);\r\n        }}\r\n        onMouseLeave={() => {\r\n          setMouseOver(false);\r\n        }}\r\n        onMouseDown={() => {\r\n          setMouseDown(true);\r\n        }}\r\n        onMouseUp={() => {\r\n          setMouseDown(false);\r\n        }}\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n        style={{\r\n          padding: \"8px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          borderRadius: theme.spacing(1),\r\n          overflow: \"hidden\",\r\n          backgroundColor: bgColor\r\n            ? bgColor\r\n            : isFocused\r\n            ? focusBGColor || \"#fff\"\r\n            : theme.palette.background.default,\r\n          border: `${2}px solid ${\r\n            mouseOver || mouseDown\r\n              ? \"transparent\"\r\n              : bgColor\r\n              ? bgColor\r\n              : focusBGColor\r\n              ? focusBGColor\r\n              : \"#ffffff33\"\r\n          }`,\r\n          transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"linear\",\r\n          cursor: \"pointer\",\r\n          opacity: blinkingState,\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            opacity: disabled ? 0.7 : 1,\r\n            overflow: \"hidden\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            borderRadius: theme.spacing(1),\r\n            transform: `scale(${mouseOver ? (mouseDown ? 0.97 : 1.05) : 1})`,\r\n            transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"linear\",\r\n          }}\r\n        >\r\n          {buttonText ? (\r\n            lottieOption ? (\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Lottie\r\n                  style={{ height: iconSize }}\r\n                  options={lottieOption}\r\n                  eventListeners={[{ eventName: \"done\" }]}\r\n                  height={iconSize}\r\n                  width={\r\n                    (iconSize * lottieOption?.width) / lottieOption?.height\r\n                  }\r\n                  isClickToPauseDisabled\r\n                />\r\n              </Box>\r\n            ) : (\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                style={{\r\n                  fontWeight: \"bold\",\r\n                  color: isFocused ? \"#1C1F2E\" : \"#fff\",\r\n                }}\r\n              >\r\n                {buttonText}\r\n              </Typography>\r\n            )\r\n          ) : null}\r\n        </Box>\r\n\r\n        {typeof renderRightComponent === \"function\" && renderRightComponent()}\r\n      </ButtonBase>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default OutlineIconTextButton;\r\n","import {\r\n  Badge,\r\n  Box,\r\n  ButtonBase,\r\n  Tooltip,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport Lottie from \"react-lottie\";\r\n\r\nconst MobileIconButton = ({\r\n  badge,\r\n  onClick,\r\n  Icon,\r\n  isFocused,\r\n  bgColor,\r\n  focusBGColor,\r\n  focusIconColor,\r\n  disabled,\r\n  large,\r\n  // liveStreamStarted,\r\n  // renderRightComponent,\r\n  tooltipTitle,\r\n  btnID,\r\n  isActive,\r\n  buttonText,\r\n  lottieOption,\r\n}) => {\r\n  const theme = useTheme();\r\n  const [mouseOver, setMouseOver] = useState(false);\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n\r\n  const iconSize = useResponsiveSize({\r\n    xl: 24 * (large ? 1.7 : 1),\r\n    lg: 24 * (large ? 1.7 : 1),\r\n    md: 32 * (large ? 1.7 : 1),\r\n    sm: 28 * (large ? 1.7 : 1),\r\n    xs: 24 * (large ? 1.7 : 1),\r\n  });\r\n\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  return (\r\n    <Tooltip placement=\"bottom\" title={tooltipTitle || \"\"}>\r\n      <Box\r\n        p={1}\r\n        style={{\r\n          borderRadius: theme.spacing(1),\r\n          // overflow: \"hidden\",\r\n          transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"linear\",\r\n        }}\r\n      >\r\n        <ButtonBase\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n          id={btnID}\r\n          onMouseEnter={() => {\r\n            setMouseOver(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setMouseOver(false);\r\n          }}\r\n          onMouseDown={() => {\r\n            setMouseDown(true);\r\n          }}\r\n          onMouseUp={() => {\r\n            setMouseDown(false);\r\n          }}\r\n          disabled={disabled}\r\n          onClick={onClick}\r\n        >\r\n          <Box\r\n            p={1}\r\n            style={{\r\n              opacity: disabled ? 0.7 : 1,\r\n              // overflow: \"hidden\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              borderRadius: theme.spacing(1),\r\n              transform: `scale(${mouseOver ? (mouseDown ? 0.95 : 1.1) : 1})`,\r\n              transition: `all ${200 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              transitionTimingFunction: \"linear\",\r\n            }}\r\n          >\r\n            <Badge max={1000} color={\"secondary\"} badgeContent={badge}>\r\n              {lottieOption ? (\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    backgroundColor: bgColor,\r\n                    padding: \"5px\",\r\n                    borderRadius: \"5px\",\r\n                  }}\r\n                >\r\n                  <Lottie\r\n                    style={{ height: iconSize }}\r\n                    options={lottieOption}\r\n                    eventListeners={[{ eventName: \"done\" }]}\r\n                    height={iconSize}\r\n                    width={\r\n                      (iconSize * lottieOption?.width) / lottieOption?.height\r\n                    }\r\n                    isClickToPauseDisabled\r\n                  />\r\n                </Box>\r\n              ) : (\r\n                <Icon\r\n                  style={{\r\n                    color: isFocused ? focusIconColor || \"#fff\" : \"#95959E\",\r\n                    height: iconSize,\r\n                    width: iconSize,\r\n                  }}\r\n                  fillColor={isFocused ? \"#fff\" : \"#95959E\"}\r\n                />\r\n              )}\r\n            </Badge>\r\n          </Box>\r\n          <Box>\r\n            {buttonText ? (\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                style={{\r\n                  fontWeight: \"bold\",\r\n                  color: isFocused ? \"#fff\" : \"#95959E\",\r\n                }}\r\n              >\r\n                {buttonText}\r\n              </Typography>\r\n            ) : null}\r\n          </Box>\r\n        </ButtonBase>\r\n        {/* {typeof renderRightComponent === \"function\" && renderRightComponent()} */}\r\n      </Box>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default MobileIconButton;\r\n","import * as React from \"react\";\r\n\r\nconst AddLiveStreamIcon = (props) => (\r\n  <svg\r\n    width={24}\r\n    height={24}\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <mask\r\n      id=\"a\"\r\n      style={{\r\n        maskType: \"alpha\",\r\n      }}\r\n      maskUnits=\"userSpaceOnUse\"\r\n      x={0}\r\n      y={0}\r\n      width={24}\r\n      height={24}\r\n    >\r\n      <path fill=\"#C4C4C4\" d=\"M0 0h24v24H0z\" />\r\n    </mask>\r\n    <g mask=\"url(#a)\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M20.637 3h-18A1.638 1.638 0 0 0 1 4.636V12a.818.818 0 0 0 .818.818 7.372 7.372 0 0 1 7.364 7.364A.818.818 0 0 0 10 21h10.637a1.639 1.639 0 0 0 1.636-1.636V4.636A1.639 1.639 0 0 0 20.637 3ZM1.818 14.454a.818.818 0 1 0 0 1.637 4.095 4.095 0 0 1 4.091 4.09.818.818 0 1 0 1.637 0 5.734 5.734 0 0 0-5.728-5.727Zm0 3.273a.818.818 0 0 0 0 1.636.82.82 0 0 1 .819.819.818.818 0 0 0 1.636 0 2.458 2.458 0 0 0-2.455-2.455Z\"\r\n        fill=\"#95959E\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default AddLiveStreamIcon;\r\n","import { useMemo } from \"react\";\r\nimport { Constants, useMeeting } from \"@videosdk.live/react-sdk\";\r\n\r\nconst useIsRecording = () => {\r\n  const { recordingState } = useMeeting();\r\n\r\n  const isRecording = useMemo(\r\n    () =>\r\n      recordingState === Constants.recordingEvents.RECORDING_STARTED ||\r\n      recordingState === Constants.recordingEvents.RECORDING_STOPPING,\r\n    [recordingState]\r\n  );\r\n\r\n  return isRecording;\r\n};\r\n\r\nexport default useIsRecording;\r\n","import { useMeeting } from \"@videosdk.live/react-sdk\";\r\n\r\nconst useIsHls = () => {\r\n  const { isHls } = useMeeting();\r\n\r\n  return isHls;\r\n};\r\n\r\nexport default useIsHls;\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport {\r\n  IconButton,\r\n  Box,\r\n  MenuItem,\r\n  Popover,\r\n  Tooltip,\r\n  MenuList,\r\n  Typography,\r\n  Link,\r\n  SwipeableDrawer,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport OutlineIconButton from \"../components/OutlineIconButton\";\r\nimport { Constants, useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport { sideBarModes, useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport useIsTab from \"../utils/useIsTab\";\r\nimport useIsMobile from \"../utils/useIsMobile\";\r\nimport recordingBlink from \"../animations/recording-blink.json\";\r\nimport liveBlink from \"../animations/live-blink.json\";\r\nimport liveHLS from \"../animations/live-hls.json\";\r\nimport stoppingHLS from \"../animations/hls_stop_blink.json\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport LiveIcon from \"../icons/LiveIcon\";\r\nimport RaiseHand from \"../icons/RaiseHand\";\r\nimport {\r\n  Activities,\r\n  Chat,\r\n  EndCall,\r\n  Participants,\r\n  ScreenRecording,\r\n  ScreenShare,\r\n  LeaveMeetingIcon,\r\n  EndCallIcon,\r\n} from \"../icons\";\r\n\r\nimport {\r\n  MicOff as MicOffIcon,\r\n  Mic as MicIcon,\r\n  VideocamOff as VideocamOffIcon,\r\n  Videocam as VideocamIcon,\r\n  MoreHoriz as MoreHorizIcon,\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Gesture,\r\n} from \"@material-ui/icons\";\r\n\r\nimport {\r\n  isMobile as RDDIsMobile,\r\n  isTablet as RDDIsTablet,\r\n} from \"react-device-detect\";\r\nimport ConfirmBox from \"../components/ConfirmBox\";\r\nimport OutlineIconTextButton from \"../components/OutlineIconTextButton\";\r\nimport MobileIconButton from \"../components/MobileIconButton\";\r\nimport AddLiveStreamIcon from \"../icons/AddLiveStreamIcon\";\r\nimport useIsLivestreaming from \"./useIsLivestreaming\";\r\nimport useIsRecording from \"./useIsRecording\";\r\nimport useIsHls from \"./useIsHls\";\r\nimport { meetingModes } from \"../CONSTS\";\r\n\r\nconst useStyles = makeStyles({\r\n  row: { display: \"flex\", alignItems: \"center\" },\r\n  borderRight: { borderRight: \"1ps solid #ffffff33\" },\r\n  popover: { backgroundColor: \"transparent\" },\r\n  popoverBorder: {\r\n    borderRadius: \"12px\",\r\n    backgroundColor: \"#212032\",\r\n    marginTop: 8,\r\n    width: 300,\r\n  },\r\n});\r\n\r\nconst RaiseHandBTN = ({ onClick, isMobile, isTab }) => {\r\n  const { publish } = usePubSub(\"RAISE_HAND\");\r\n\r\n  const onRaiseHand = () => {\r\n    if (isMobile || isTab) {\r\n      onClick();\r\n      typeof onClick === \"function\" && onClick();\r\n      publish(\"Raise Hand\");\r\n    } else {\r\n      publish(\"Raise Hand\");\r\n    }\r\n  };\r\n\r\n  return isMobile || isTab ? (\r\n    <Tooltip>\r\n      <MobileIconButton\r\n        id=\"RaiseHandBTN\"\r\n        tooltipTitle={\"Raise hand\"}\r\n        Icon={RaiseHand}\r\n        onClick={onRaiseHand}\r\n        buttonText={\"Raise Hand\"}\r\n      />\r\n    </Tooltip>\r\n  ) : (\r\n    <Tooltip>\r\n      <OutlineIconButton\r\n        tooltipTitle={\"Raise hand\"}\r\n        Icon={RaiseHand}\r\n        onClick={onRaiseHand}\r\n      />\r\n    </Tooltip>\r\n  );\r\n};\r\nconst ParticipantsBTN = ({ onClick, isMobile, isTab }) => {\r\n  const { sideBarMode, setSideBarMode, meetingMode } = useMeetingAppContext();\r\n\r\n  const mMeeting = useMeeting();\r\n  const participants = mMeeting?.participants;\r\n  const participantsCount = participants ? new Map(participants).size : 0;\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      tooltipTitle={\"Participants\"}\r\n      isFocused={sideBarMode === sideBarModes.PARTICIPANTS}\r\n      buttonText={\"Participants\"}\r\n      Icon={Participants}\r\n      disabled={meetingMode === meetingModes.VIEWER}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.PARTICIPANTS ? null : sideBarModes.PARTICIPANTS\r\n        );\r\n      }}\r\n      badge={participantsCount}\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      tooltipTitle={\"Participants\"}\r\n      isFocused={sideBarMode === sideBarModes.PARTICIPANTS}\r\n      Icon={Participants}\r\n      disabled={meetingMode === meetingModes.VIEWER}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.PARTICIPANTS ? null : sideBarModes.PARTICIPANTS\r\n        );\r\n      }}\r\n      badge={participantsCount}\r\n    />\r\n  );\r\n};\r\nconst ConfigBTN = ({ isMobile, isTab }) => {\r\n  const { sideBarMode, setSideBarMode } = useMeetingAppContext();\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      tooltipTitle={\"Configuration\"}\r\n      buttonText={\"Configuration\"}\r\n      Icon={SettingsOutlinedIcon}\r\n      isFocused={sideBarMode === sideBarModes.CONFIGURATION}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.CONFIGURATION ? null : sideBarModes.CONFIGURATION\r\n        );\r\n      }}\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      tooltipTitle={\"Configuration\"}\r\n      Icon={SettingsOutlinedIcon}\r\n      isFocused={sideBarMode === sideBarModes.CONFIGURATION}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.CONFIGURATION ? null : sideBarModes.CONFIGURATION\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst ChatBTN = ({ isMobile, isTab }) => {\r\n  const { sideBarMode, setSideBarMode } = useMeetingAppContext();\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      tooltipTitle={\"Chat\"}\r\n      buttonText={\"Chat\"}\r\n      Icon={Chat}\r\n      isFocused={sideBarMode === sideBarModes.CHAT}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.CHAT ? null : sideBarModes.CHAT\r\n        );\r\n      }}\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      tooltipTitle={\"Chat\"}\r\n      Icon={Chat}\r\n      isFocused={sideBarMode === sideBarModes.CHAT}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.CHAT ? null : sideBarModes.CHAT\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst ActivitiesBTN = ({ onClick, isMobile, isTab }) => {\r\n  const { sideBarMode, setSideBarMode, setSideBarNestedMode } =\r\n    useMeetingAppContext();\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      Icon={Activities}\r\n      tooltipTitle={\"Activities\"}\r\n      buttonText={\"Activities\"}\r\n      isFocused={sideBarMode === sideBarModes.ACTIVITIES}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.ACTIVITIES ? null : sideBarModes.ACTIVITIES\r\n        );\r\n\r\n        setSideBarNestedMode(null);\r\n      }}\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      tooltipTitle={\"Activities\"}\r\n      Icon={Activities}\r\n      isFocused={sideBarMode === sideBarModes.ACTIVITIES}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.ACTIVITIES ? null : sideBarModes.ACTIVITIES\r\n        );\r\n\r\n        setSideBarNestedMode(null);\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst WhiteBoardBTN = ({ onClick, isMobile, isTab }) => {\r\n  const { whiteboardStarted, whiteboardEnabled, canToggleWhiteboard } =\r\n    useMeetingAppContext();\r\n\r\n  const mMeeting = useMeeting({});\r\n\r\n  const presenterId = mMeeting?.presenterId;\r\n\r\n  return (\r\n    <>\r\n      {whiteboardEnabled &&\r\n        (isMobile || isTab ? (\r\n          <MobileIconButton\r\n            // disabled={presenterId || !canToggleWhiteboard}\r\n            tooltipTitle={\"Whiteboard\"}\r\n            buttonText={\"Whiteboard\"}\r\n            Icon={Gesture}\r\n            isFocused={whiteboardStarted}\r\n            onClick={() => {\r\n              typeof onClick === \"function\" && onClick();\r\n\r\n              whiteboardStarted\r\n                ? mMeeting.meeting.stopWhiteboard()\r\n                : mMeeting.meeting.startWhiteboard();\r\n            }}\r\n          />\r\n        ) : (\r\n          <OutlineIconButton\r\n            // disabled={presenterId || !canToggleWhiteboard}\r\n            tooltipTitle={\"Whiteboard\"}\r\n            Icon={Gesture}\r\n            isFocused={whiteboardStarted}\r\n            onClick={() => {\r\n              typeof onClick === \"function\" && onClick();\r\n\r\n              whiteboardStarted\r\n                ? mMeeting.meeting.stopWhiteboard()\r\n                : mMeeting.meeting.startWhiteboard();\r\n            }}\r\n          />\r\n        ))}\r\n    </>\r\n  );\r\n};\r\nconst ScreenShareBTN = ({ onClick, isMobile, isTab }) => {\r\n  const mMeeting = useMeeting({});\r\n  const { whiteboardStarted } = useMeetingAppContext();\r\n\r\n  const localScreenShareOn = mMeeting?.localScreenShareOn;\r\n  const toggleScreenShare = mMeeting?.toggleScreenShare;\r\n  const presenterId = mMeeting?.presenterId;\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      tooltipTitle={\r\n        presenterId\r\n          ? localScreenShareOn\r\n            ? \"Stop Presenting\"\r\n            : null\r\n          : \"Present Screen\"\r\n      }\r\n      buttonText={\r\n        presenterId\r\n          ? localScreenShareOn\r\n            ? \"Stop Presenting\"\r\n            : null\r\n          : \"Present Screen\"\r\n      }\r\n      isFocused={localScreenShareOn}\r\n      Icon={ScreenShare}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n        toggleScreenShare();\r\n      }}\r\n      disabled={\r\n        RDDIsMobile || RDDIsTablet\r\n          ? true\r\n          : whiteboardStarted\r\n          ? true\r\n          : presenterId\r\n          ? localScreenShareOn\r\n            ? false\r\n            : true\r\n          : false\r\n      }\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      tooltipTitle={\r\n        presenterId\r\n          ? localScreenShareOn\r\n            ? \"Stop Presenting\"\r\n            : null\r\n          : \"Present Screen\"\r\n      }\r\n      isFocused={localScreenShareOn}\r\n      Icon={ScreenShare}\r\n      onClick={() => {\r\n        typeof onClick === \"function\" && onClick();\r\n        toggleScreenShare();\r\n      }}\r\n      disabled={\r\n        RDDIsMobile || RDDIsTablet\r\n          ? true\r\n          : whiteboardStarted\r\n          ? true\r\n          : presenterId\r\n          ? localScreenShareOn\r\n            ? false\r\n            : true\r\n          : false\r\n      }\r\n    />\r\n  );\r\n};\r\nconst AddLiveStreamBTN = ({ isMobile, isTab }) => {\r\n  const { sideBarMode, setSideBarMode } = useMeetingAppContext();\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      tooltipTitle={\"Add Live Streams\"}\r\n      Icon={AddLiveStreamIcon}\r\n      buttonText={\"Add Live Streams\"}\r\n      isFocused={sideBarMode === sideBarModes.ADD_LIVE_STREAM}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.ADD_LIVE_STREAM\r\n            ? null\r\n            : sideBarModes.ADD_LIVE_STREAM\r\n        );\r\n      }}\r\n    />\r\n  ) : (\r\n    <OutlineIconTextButton\r\n      tooltipTitle={\"Add Live Streams\"}\r\n      buttonText=\"Add Live Streams\"\r\n      isFocused={sideBarMode === sideBarModes.ADD_LIVE_STREAM}\r\n      onClick={() => {\r\n        setSideBarMode((s) =>\r\n          s === sideBarModes.ADD_LIVE_STREAM\r\n            ? null\r\n            : sideBarModes.ADD_LIVE_STREAM\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst RecordingBTN = ({ isMobile, isTab }) => {\r\n  const mMeeting = useMeeting({});\r\n\r\n  const startRecording = mMeeting?.startRecording;\r\n  const stopRecording = mMeeting?.stopRecording;\r\n  const recordingState = mMeeting?.recordingState;\r\n\r\n  const isRecording = useIsRecording();\r\n\r\n  const { isRequestProcessing } = useMemo(\r\n    () => ({\r\n      isRequestProcessing:\r\n        recordingState === Constants.recordingEvents.RECORDING_STARTING ||\r\n        recordingState === Constants.recordingEvents.RECORDING_STOPPING,\r\n    }),\r\n    [recordingState]\r\n  );\r\n\r\n  const {\r\n    recordingWebhookUrl,\r\n    recordingAWSDirPath,\r\n    participantCanToggleRecording,\r\n    appMeetingLayout,\r\n  } = useMeetingAppContext();\r\n\r\n  const { type, priority, gridSize } = useMemo(\r\n    () => ({\r\n      type: appMeetingLayout.type,\r\n      priority: appMeetingLayout.priority,\r\n      gridSize: appMeetingLayout.gridSize,\r\n    }),\r\n    [appMeetingLayout]\r\n  );\r\n\r\n  const typeRef = useRef(type);\r\n  const priorityRef = useRef(priority);\r\n  const gridSizeRef = useRef(gridSize);\r\n  const isRecordingRef = useRef(isRecording);\r\n\r\n  useEffect(() => {\r\n    typeRef.current = type;\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    priorityRef.current = priority;\r\n  }, [priority]);\r\n\r\n  useEffect(() => {\r\n    gridSizeRef.current = gridSize;\r\n  }, [gridSize]);\r\n\r\n  useEffect(() => {\r\n    isRecordingRef.current = isRecording;\r\n  }, [isRecording]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: recordingBlink,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n    height: 64,\r\n    width: 160,\r\n  };\r\n\r\n  const _handleStartRecording = () => {\r\n    const type = typeRef.current;\r\n    const priority = priorityRef.current;\r\n    const gridSize = gridSizeRef.current;\r\n\r\n    const layout = { type, priority, gridSize };\r\n\r\n    startRecording(recordingWebhookUrl, recordingAWSDirPath, { layout });\r\n  };\r\n\r\n  const _handleClick = () => {\r\n    const isRecording = isRecordingRef.current;\r\n\r\n    if (isRecording) {\r\n      stopRecording();\r\n    } else {\r\n      _handleStartRecording();\r\n    }\r\n  };\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      Icon={ScreenRecording}\r\n      onClick={_handleClick}\r\n      tooltipTitle={\r\n        recordingState === Constants.recordingEvents.RECORDING_STARTED\r\n          ? \"Stop Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STARTING\r\n          ? \"Starting Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPED\r\n          ? \"Start Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPING\r\n          ? \"Stopping Recording\"\r\n          : \"Start Recording\"\r\n      }\r\n      isFocused={isRecording}\r\n      disabled={!participantCanToggleRecording}\r\n      lottieOption={isRecording ? defaultOptions : null}\r\n      buttonText={\r\n        recordingState === Constants.recordingEvents.RECORDING_STARTED\r\n          ? \"Stop Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STARTING\r\n          ? \"Starting Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPED\r\n          ? \"Start Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPING\r\n          ? \"Stopping Recording\"\r\n          : \"Start Recording\"\r\n      }\r\n      isRequestProcessing={isRequestProcessing}\r\n    />\r\n  ) : (\r\n    <OutlineIconButton\r\n      Icon={ScreenRecording}\r\n      onClick={_handleClick}\r\n      tooltipTitle={\r\n        recordingState === Constants.recordingEvents.RECORDING_STARTED\r\n          ? \"Stop Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STARTING\r\n          ? \"Starting Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPED\r\n          ? \"Start Recording\"\r\n          : recordingState === Constants.recordingEvents.RECORDING_STOPPING\r\n          ? \"Stopping Recording\"\r\n          : \"Start Recording\"\r\n      }\r\n      isFocused={isRecording}\r\n      disabled={!participantCanToggleRecording}\r\n      lottieOption={isRecording ? defaultOptions : null}\r\n      isRequestProcessing={isRequestProcessing}\r\n    />\r\n  );\r\n};\r\nconst GoLiveBTN = ({ isMobile, isTab }) => {\r\n  const mMeeting = useMeeting({});\r\n\r\n  const [isPopupShown, setIsPopupShown] = useState(false);\r\n\r\n  const startLivestream = mMeeting?.startLivestream;\r\n  const stopLivestream = mMeeting?.stopLivestream;\r\n  const livestreamState = mMeeting?.livestreamState;\r\n\r\n  const isLiveStreaming = useIsLivestreaming();\r\n\r\n  const { isRequestProcessing } = useMemo(\r\n    () => ({\r\n      isRequestProcessing:\r\n        livestreamState === Constants.livestreamEvents.LIVESTREAM_STARTING ||\r\n        livestreamState === Constants.livestreamEvents.LIVESTREAM_STOPPING,\r\n    }),\r\n    [livestreamState]\r\n  );\r\n\r\n  const {\r\n    participantCanToggleLivestream,\r\n    liveStreamConfig,\r\n    setSideBarMode,\r\n    appMeetingLayout,\r\n  } = useMeetingAppContext();\r\n\r\n  const { type, priority, gridSize } = useMemo(\r\n    () => ({\r\n      type: appMeetingLayout.type,\r\n      priority: appMeetingLayout.priority,\r\n      gridSize: appMeetingLayout.gridSize,\r\n    }),\r\n    [appMeetingLayout]\r\n  );\r\n\r\n  const typeRef = useRef(type);\r\n  const priorityRef = useRef(priority);\r\n  const gridSizeRef = useRef(gridSize);\r\n  const isLiveStreamingRef = useRef(isLiveStreaming);\r\n  const liveStreamConfigRef = useRef(liveStreamConfig);\r\n\r\n  useEffect(() => {\r\n    typeRef.current = type;\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    priorityRef.current = priority;\r\n  }, [priority]);\r\n\r\n  useEffect(() => {\r\n    gridSizeRef.current = gridSize;\r\n  }, [gridSize]);\r\n\r\n  useEffect(() => {\r\n    isLiveStreamingRef.current = isLiveStreaming;\r\n  }, [isLiveStreaming]);\r\n\r\n  useEffect(() => {\r\n    liveStreamConfigRef.current = liveStreamConfig;\r\n  }, [liveStreamConfig]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: liveBlink,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n    height: 64,\r\n    width: 170,\r\n  };\r\n\r\n  const _handleStartLivestream = () => {\r\n    const type = typeRef.current;\r\n    const priority = priorityRef.current;\r\n    const gridSize = gridSizeRef.current;\r\n\r\n    const layout = { type, priority, gridSize };\r\n\r\n    startLivestream(liveStreamConfig, { layout });\r\n  };\r\n\r\n  const _handleClick = () => {\r\n    const isLiveStreaming = isLiveStreamingRef.current;\r\n\r\n    if (isLiveStreaming) {\r\n      stopLivestream();\r\n    } else {\r\n      if (liveStreamConfigRef.current.length > 0) {\r\n        _handleStartLivestream();\r\n      } else {\r\n        setIsPopupShown(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isMobile || isTab ? (\r\n        <MobileIconButton\r\n          bgColor={\"#D32F2F\"}\r\n          onClick={_handleClick}\r\n          tooltipTitle={\r\n            livestreamState === Constants.livestreamEvents.LIVESTREAM_STARTED\r\n              ? \"Stop Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STARTING\r\n              ? \"Starting Livestream\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPED\r\n              ? \"Go Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPING\r\n              ? \"Stopping Livestream\"\r\n              : \"Go Live\"\r\n          }\r\n          Icon={LiveIcon}\r\n          buttonText={\r\n            livestreamState === Constants.livestreamEvents.LIVESTREAM_STARTED\r\n              ? \"Stop Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STARTING\r\n              ? \"Starting Livestream\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPED\r\n              ? \"Go Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPING\r\n              ? \"Stopping Livestream\"\r\n              : \"Go Live\"\r\n          }\r\n          isFocused={isLiveStreaming}\r\n          lottieOption={isLiveStreaming ? defaultOptions : null}\r\n          disabled={!participantCanToggleLivestream}\r\n          isRequestProcessing={isRequestProcessing}\r\n        />\r\n      ) : (\r\n       \r\n        <OutlineIconTextButton\r\n          bgColor={\"#D32F2F\"}\r\n          onClick={_handleClick}\r\n          tooltipTitle={\r\n            livestreamState === Constants.livestreamEvents.LIVESTREAM_STARTED\r\n              ? \"Stop Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STARTING\r\n              ? \"Starting Livestream\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPED\r\n              ? \"Go Live\"\r\n              : livestreamState ===\r\n                Constants.livestreamEvents.LIVESTREAM_STOPPING\r\n              ? \"Stopping Livestream\"\r\n              : \"Go Live\"\r\n          }\r\n          buttonText=\"Go Live\"\r\n          lottieOption={isLiveStreaming ? defaultOptions : null}\r\n          disabled={!participantCanToggleLivestream}\r\n          isRequestProcessing={isRequestProcessing}\r\n        />\r\n      )}\r\n      <ConfirmBox\r\n        open={isPopupShown}\r\n        title={\"Add live stream configuration\"}\r\n        subTitle={\r\n          \"Please add live stream configuration to start live streaming\"\r\n        }\r\n        successText={\"Proceed\"}\r\n        onSuccess={() => {\r\n          setSideBarMode((s) => sideBarModes.ADD_LIVE_STREAM);\r\n          setIsPopupShown(false);\r\n        }}\r\n        rejectText={\"Cancel\"}\r\n        onReject={() => {\r\n          setIsPopupShown(false);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\nconst HlsBTN = ({ isMobile, isTab }) => {\r\n  const mMeeting = useMeeting({});\r\n\r\n  const startHls = mMeeting?.startHls;\r\n  const stopHls = mMeeting?.stopHls;\r\n  const [isHlsStop, setIsHlsStop] = useState(false);\r\n\r\n  const isHls = useIsHls();\r\n\r\n  const { appMeetingLayout, participantCanToggleHls } = useMeetingAppContext();\r\n\r\n  const { type, priority, gridSize } = useMemo(\r\n    () => ({\r\n      type: appMeetingLayout.type,\r\n      priority: appMeetingLayout.priority,\r\n      gridSize: appMeetingLayout.gridSize,\r\n    }),\r\n    [appMeetingLayout]\r\n  );\r\n\r\n  const typeRef = useRef(type);\r\n  const priorityRef = useRef(priority);\r\n  const gridSizeRef = useRef(gridSize);\r\n  const isHlsRef = useRef(isHls);\r\n\r\n  useEffect(() => {\r\n    typeRef.current = type;\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    priorityRef.current = priority;\r\n  }, [priority]);\r\n\r\n  useEffect(() => {\r\n    gridSizeRef.current = gridSize;\r\n  }, [gridSize]);\r\n\r\n  useEffect(() => {\r\n    isHlsRef.current = isHls;\r\n  }, [isHls]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: liveHLS,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n    height: 64,\r\n    width: 170,\r\n  };\r\n\r\n  const defaultOptionsStoppingHls = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: stoppingHLS,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n    height: 64,\r\n    width: 170,\r\n  };\r\n\r\n  const _handleStartHLS = () => {\r\n    const type = typeRef.current;\r\n    const priority = priorityRef.current;\r\n    const gridSize = gridSizeRef.current;\r\n\r\n    const layout = { type, priority, gridSize };\r\n\r\n    startHls(layout);\r\n  };\r\n\r\n  const _handleClick = () => {\r\n    const isHls = isHlsRef.current;\r\n\r\n    if (isHls) {\r\n      stopHls();\r\n      setIsHlsStop(true);\r\n    } else {\r\n      _handleStartHLS();\r\n      setIsHlsStop(false);\r\n    }\r\n  };\r\n\r\n  return isMobile || isTab ? (\r\n    <MobileIconButton\r\n      onClick={_handleClick}\r\n      tooltipTitle={\r\n        isHls ? (isHlsStop ? \"Stopping HLS\" : \"Stop HLS\") : \"Start HLS\"\r\n      }\r\n      Icon={LiveIcon}\r\n      buttonText={\r\n        isHls ? (isHlsStop ? \"Stopping HLS\" : \"Stop HLS\") : \"Start HLS\"\r\n      }\r\n      isFocused={isHls}\r\n      lottieOption={isHls ? (isHlsStop ? null : defaultOptions) : null}\r\n      disabled={!participantCanToggleHls}\r\n    />\r\n  ) : (\r\n    <OutlineIconTextButton\r\n      onClick={_handleClick}\r\n      tooltipTitle={\r\n        isHls ? (isHlsStop ? \"Stopping HLS\" : \"Stop HLS\") : \"Start HLS\"\r\n      }\r\n      buttonText={\r\n        isHls ? (isHlsStop ? \"Stopping HLS\" : \"Stop HLS\") : \"Start HLS\"\r\n      }\r\n      lottieOption={isHls ? (isHlsStop ? null : defaultOptions) : null}\r\n      disabled={!participantCanToggleHls}\r\n    />\r\n  );\r\n};\r\nconst WebcamBTN = () => {\r\n  const theme = useTheme();\r\n  const mMeeting = useMeeting({});\r\n  const { selectedWebcam } = useMeetingAppContext();\r\n  const [selectedDeviceId, setSelectedDeviceId] = useState(selectedWebcam.id);\r\n  const [downArrow, setDownArrow] = useState(null);\r\n  const [webcams, setWebcams] = useState([]);\r\n\r\n  const localWebcamOn = mMeeting?.localWebcamOn;\r\n  const toggleWebcam = mMeeting?.toggleWebcam;\r\n  const changeWebcam = mMeeting?.changeWebcam;\r\n\r\n  const handleClick = (event) => {\r\n    setDownArrow(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDownArrow(null);\r\n  };\r\n\r\n  const getWebcams = async (mGetWebcams) => {\r\n    const webcams = await mGetWebcams();\r\n\r\n    webcams && webcams?.length && setWebcams(webcams);\r\n  };\r\n\r\n  const tollTipEl = useRef();\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n      ref={tollTipEl}\r\n    >\r\n      <OutlineIconButton\r\n        btnID={\"btnWebcam\"}\r\n        tooltipTitle={localWebcamOn ? \"Turn off webcam\" : \"Turn on webcam\"}\r\n        isFocused={localWebcamOn}\r\n        Icon={localWebcamOn ? VideocamIcon : VideocamOffIcon}\r\n        onClick={toggleWebcam}\r\n        focusBGColor={\"#ffffff33\"}\r\n        focusIconColor={theme.palette.common.white}\r\n        renderRightComponent={() => {\r\n          return (\r\n            <Tooltip placement=\"bottom\" title={\"Change webcam\"}>\r\n              <IconButton\r\n                onClick={(e) => {\r\n                  getWebcams(mMeeting?.getWebcams);\r\n                  handleClick(e);\r\n                }}\r\n                size={\"small\"}\r\n              >\r\n                <ArrowDropDownIcon fontSize={\"small\"} />\r\n              </IconButton>\r\n            </Tooltip>\r\n          );\r\n        }}\r\n      />\r\n      <Popover\r\n        container={tollTipEl.current}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n        anchorEl={tollTipEl.current}\r\n        open={Boolean(downArrow)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuList>\r\n          {webcams.map(({ deviceId, label }, index) => (\r\n            <MenuItem\r\n              key={`output_webcams_${deviceId}`}\r\n              selected={deviceId === selectedDeviceId}\r\n              onClick={() => {\r\n                handleClose();\r\n                setSelectedDeviceId(deviceId);\r\n                changeWebcam(deviceId);\r\n              }}\r\n            >\r\n              {label || `Webcam ${index + 1}`}\r\n            </MenuItem>\r\n          ))}\r\n        </MenuList>\r\n      </Popover>\r\n    </Box>\r\n  );\r\n};\r\nconst MicBTN = () => {\r\n  const { selectedMic } = useMeetingAppContext();\r\n  const [selectedDeviceId, setSelectedDeviceId] = useState(selectedMic.id);\r\n  const [downArrow, setDownArrow] = useState(null);\r\n  const [mics, setMics] = useState([]);\r\n  const mMeeting = useMeeting({});\r\n  const theme = useTheme();\r\n\r\n  const handleClick = (event) => {\r\n    setDownArrow(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDownArrow(null);\r\n  };\r\n\r\n  const localMicOn = mMeeting?.localMicOn;\r\n  const toggleMic = mMeeting?.toggleMic;\r\n  const changeMic = mMeeting?.changeMic;\r\n\r\n  const getMics = async (mGetMics) => {\r\n    const mics = await mGetMics();\r\n\r\n    mics && mics?.length && setMics(mics);\r\n  };\r\n\r\n  const tollTipEl = useRef();\r\n\r\n  return (\r\n    <Box\r\n      ref={tollTipEl}\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <OutlineIconButton\r\n        btnID={\"btnMic\"}\r\n        tooltipTitle={localMicOn ? \"Turn off mic\" : \"Turn on mic\"}\r\n        isFocused={localMicOn}\r\n        Icon={localMicOn ? MicIcon : MicOffIcon}\r\n        onClick={toggleMic}\r\n        focusBGColor={\"#ffffff33\"}\r\n        focusIconColor={theme.palette.common.white}\r\n        renderRightComponent={() => {\r\n          return (\r\n            <Tooltip placement=\"bottom\" title={\"Change microphone\"}>\r\n              <IconButton\r\n                onClick={(e) => {\r\n                  getMics(mMeeting.getMics);\r\n                  handleClick(e);\r\n                }}\r\n                size={\"small\"}\r\n              >\r\n                <ArrowDropDownIcon fontSize={\"small\"} />\r\n              </IconButton>\r\n            </Tooltip>\r\n          );\r\n        }}\r\n      />\r\n\r\n      <Popover\r\n        container={tollTipEl.current}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n        anchorEl={tollTipEl.current}\r\n        open={Boolean(downArrow)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuList>\r\n          {mics.map(({ deviceId, label }, index) => (\r\n            <MenuItem\r\n              key={`output_mics_${deviceId}`}\r\n              selected={deviceId === selectedDeviceId}\r\n              onClick={() => {\r\n                handleClose();\r\n                setSelectedDeviceId(deviceId);\r\n                changeMic(deviceId);\r\n              }}\r\n            >\r\n              {label || `Mic ${index + 1}`}\r\n            </MenuItem>\r\n          ))}\r\n        </MenuList>\r\n      </Popover>\r\n    </Box>\r\n  );\r\n};\r\nconst EndCallBTN = () => {\r\n  const mMeeting = useMeeting({});\r\n  const classes = useStyles();\r\n\r\n  const [isEndMeeting, setIsEndMeeting] = useState(false);\r\n  const {\r\n    endCallContainerRef,\r\n    participantCanEndMeeting,\r\n    participantCanLeave,\r\n    meetingMode,\r\n  } = useMeetingAppContext();\r\n\r\n  const sendChatMessage = mMeeting?.sendChatMessage;\r\n\r\n  const leave = mMeeting?.leave;\r\n  const end = mMeeting?.end;\r\n\r\n  const tollTipEl = useRef();\r\n\r\n  const theme = useTheme();\r\n\r\n  const [downArrow, setDownArrow] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setDownArrow(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDownArrow(null);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      ref={tollTipEl}\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <OutlineIconButton\r\n        ref={endCallContainerRef}\r\n        tooltipTitle={\r\n          !participantCanLeave && meetingMode === meetingModes.CONFERENCE\r\n            ? \"End Call\"\r\n            : participantCanEndMeeting &&\r\n              meetingMode === meetingModes.CONFERENCE\r\n            ? \"Open popup\"\r\n            : \"Leave Call\"\r\n        }\r\n        bgColor={theme.palette.error.main}\r\n        Icon={EndCall}\r\n        onClick={(e) => {\r\n          !participantCanLeave && meetingMode === meetingModes.CONFERENCE\r\n            ? setIsEndMeeting(true)\r\n            : participantCanEndMeeting &&\r\n              meetingMode === meetingModes.CONFERENCE\r\n            ? handleClick(e)\r\n            : leave();\r\n        }}\r\n      />\r\n      {participantCanEndMeeting && (\r\n        <>\r\n          <Popover\r\n            container={tollTipEl.current}\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n            anchorEl={tollTipEl.current}\r\n            open={Boolean(downArrow)}\r\n            onClose={handleClose}\r\n            classes={{\r\n              paper: classes.popoverBorder,\r\n            }}\r\n          >\r\n            <MenuList>\r\n              <MenuItem\r\n                key={`leave`}\r\n                onClick={() => {\r\n                  leave();\r\n                }}\r\n              >\r\n                <Box style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                  <Box\r\n                    style={{\r\n                      backgroundColor: theme.palette.common.sidePanel,\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      height: 42,\r\n                      width: 42,\r\n                      borderRadius: 4,\r\n                    }}\r\n                  >\r\n                    <LeaveMeetingIcon height={22} width={22} />\r\n                  </Box>\r\n                  <Box\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flex: 1,\r\n                      flexDirection: \"column\",\r\n                      marginLeft: 12,\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Typography style={{ fontSize: 14 }}>Leave</Typography>\r\n                    <Typography\r\n                      color={\"textSecondary\"}\r\n                      style={{ fontSize: \"0.9rem\" }}\r\n                    >\r\n                      Only you will leave the call.\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </MenuItem>\r\n              <MenuItem\r\n                style={{ marginTop: 4 }}\r\n                key={`end`}\r\n                onClick={() => {\r\n                  setIsEndMeeting(true);\r\n                }}\r\n              >\r\n                <Box style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                  <Box\r\n                    style={{\r\n                      backgroundColor: theme.palette.common.sidePanel,\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      height: 42,\r\n                      width: 42,\r\n                      borderRadius: 4,\r\n                    }}\r\n                  >\r\n                    <EndCallIcon />\r\n                  </Box>\r\n                  <Box\r\n                    style={{\r\n                      display: \"flex\",\r\n                      marginLeft: 12,\r\n                      flexDirection: \"column\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Typography style={{ fontSize: 14, lineHeight: 1.5 }}>\r\n                      End\r\n                    </Typography>\r\n                    <Typography\r\n                      style={{\r\n                        fontSize: \"0.9rem\",\r\n                      }}\r\n                      color={\"textSecondary\"}\r\n                    >\r\n                      End call for all participants.\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </MenuItem>\r\n            </MenuList>\r\n          </Popover>\r\n\r\n          <ConfirmBox\r\n            open={isEndMeeting}\r\n            title={\"Are you sure to end this call for everyone?\"}\r\n            successText={\"End Call\"}\r\n            onSuccess={() => {\r\n              sendChatMessage(\r\n                JSON.stringify({ buttonType: \"END_CALL\", data: {} })\r\n              );\r\n              setTimeout(() => {\r\n                end();\r\n              }, 1000);\r\n            }}\r\n            rejectText=\"Cancel\"\r\n            onReject={() => {\r\n              setIsEndMeeting(false);\r\n            }}\r\n          />\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst TopBar = ({ topBarHeight }) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [defaultBrandLogoUrl, setDefaultBrandLogoUrl] = useState(null);\r\n\r\n  const {\r\n    chatEnabled,\r\n    screenShareEnabled,\r\n    canChangeLayout,\r\n    participantCanToggleLivestream,\r\n    liveStreamEnabled,\r\n    hlsEnabled,\r\n    pollEnabled,\r\n    whiteboardEnabled,\r\n    participantCanToggleSelfWebcam,\r\n    participantCanToggleSelfMic,\r\n    raiseHandEnabled,\r\n    recordingEnabled,\r\n    brandingEnabled,\r\n    brandLogoURL,\r\n    brandName,\r\n    participantCanLeave,\r\n    poweredBy,\r\n    participantCanEndMeeting,\r\n    animationsEnabled,\r\n    meetingMode,\r\n  } = useMeetingAppContext();\r\n\r\n  const handleClickFAB = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCloseFAB = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n  const theme = useTheme();\r\n\r\n  const topBarButtonTypes = useMemo(\r\n    () => ({\r\n      END_CALL: \"END_CALL\",\r\n      ACTIVITIES: \"ACTIVITIES\",\r\n      CHAT: \"CHAT\",\r\n      PARTICIPANTS: \"PARTICIPANTS\",\r\n      SCREEN_SHARE: \"SCREEN_SHARE\",\r\n      WEBCAM: \"WEBCAM\",\r\n      MIC: \"MIC\",\r\n      RAISE_HAND: \"RAISE_HAND\",\r\n      RECORDING: \"RECORDING\",\r\n      HLS: \"HLS\",\r\n      WHITEBOARD: \"WHITEBOARD\",\r\n      ADD_LIVE_STREAM: \"ADD_LIVE_STREAM\",\r\n      CONFIGURATION: \"CONFIGURATION\",\r\n      GO_LIVE: \"GO_LIVE\",\r\n    }),\r\n    []\r\n  );\r\n\r\n  const { topBarIcons, firstFourElements, excludeFirstFourElements } =\r\n    useMemo(() => {\r\n      const arr = [];\r\n      const mobileIconArr = [];\r\n\r\n      if (participantCanLeave || participantCanEndMeeting) {\r\n        arr.unshift([topBarButtonTypes.END_CALL]);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.END_CALL,\r\n          priority: 1,\r\n        });\r\n      }\r\n\r\n      const arrSideBar = [];\r\n\r\n      if (canChangeLayout && meetingMode === meetingModes.CONFERENCE) {\r\n        arrSideBar.unshift(topBarButtonTypes.CONFIGURATION);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.CONFIGURATION,\r\n          priority: 7,\r\n        });\r\n      }\r\n      if (chatEnabled) {\r\n        arrSideBar.unshift(topBarButtonTypes.CHAT);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.CHAT,\r\n          priority: 5,\r\n        });\r\n      }\r\n      arrSideBar.unshift(topBarButtonTypes.PARTICIPANTS);\r\n      mobileIconArr.unshift({\r\n        buttonType: topBarButtonTypes.PARTICIPANTS,\r\n        priority: 10,\r\n      });\r\n\r\n      arrSideBar.unshift(topBarButtonTypes.ACTIVITIES);\r\n      mobileIconArr.unshift({\r\n        buttonType: topBarButtonTypes.ACTIVITIES,\r\n        // priority: 10,\r\n      });\r\n\r\n      arr.unshift(arrSideBar);\r\n\r\n      const arrMedia = [];\r\n\r\n      if (screenShareEnabled && meetingMode === meetingModes.CONFERENCE) {\r\n        arrMedia.unshift(topBarButtonTypes.SCREEN_SHARE);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.SCREEN_SHARE,\r\n          priority: 6,\r\n        });\r\n      }\r\n      if (\r\n        participantCanToggleSelfWebcam &&\r\n        meetingMode === meetingModes.CONFERENCE\r\n      ) {\r\n        arrMedia.unshift(topBarButtonTypes.WEBCAM);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.WEBCAM,\r\n          priority: 2,\r\n        });\r\n      }\r\n      if (\r\n        participantCanToggleSelfMic &&\r\n        meetingMode === meetingModes.CONFERENCE\r\n      ) {\r\n        arrMedia.unshift(topBarButtonTypes.MIC);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.MIC,\r\n          priority: 3,\r\n        });\r\n      }\r\n\r\n      if (arrMedia.length) {\r\n        arr.unshift(arrMedia);\r\n      }\r\n\r\n      const utilsArr = [];\r\n\r\n      if (raiseHandEnabled) {\r\n        utilsArr.unshift(topBarButtonTypes.RAISE_HAND);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.RAISE_HAND,\r\n          priority: 13,\r\n        });\r\n      }\r\n\r\n      if (recordingEnabled && meetingMode === meetingModes.CONFERENCE) {\r\n        utilsArr.unshift(topBarButtonTypes.RECORDING);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.RECORDING,\r\n          priority: 4,\r\n        });\r\n      }\r\n\r\n      if (whiteboardEnabled && meetingMode === meetingModes.CONFERENCE) {\r\n        utilsArr.unshift(topBarButtonTypes.WHITEBOARD);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.WHITEBOARD,\r\n          priority: 11,\r\n        });\r\n      }\r\n\r\n      if (\r\n        liveStreamEnabled &&\r\n        !participantCanToggleLivestream &&\r\n        meetingMode === meetingModes.CONFERENCE\r\n      ) {\r\n        utilsArr.unshift(topBarButtonTypes.GO_LIVE);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.GO_LIVE,\r\n          priority: 9,\r\n        });\r\n      }\r\n\r\n      if (hlsEnabled && meetingMode === meetingModes.CONFERENCE) {\r\n        utilsArr.unshift(topBarButtonTypes.HLS);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.HLS,\r\n          priority: 14,\r\n        });\r\n      }\r\n\r\n      if (\r\n        participantCanToggleLivestream &&\r\n        liveStreamEnabled &&\r\n        meetingMode === meetingModes.CONFERENCE\r\n      ) {\r\n        //liveStreamIcon\r\n        utilsArr.unshift(topBarButtonTypes.GO_LIVE);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.GO_LIVE,\r\n          priority: 9,\r\n        });\r\n        //AddLiveStreamIcon\r\n        utilsArr.unshift(topBarButtonTypes.ADD_LIVE_STREAM);\r\n        mobileIconArr.unshift({\r\n          buttonType: topBarButtonTypes.ADD_LIVE_STREAM,\r\n          priority: 8,\r\n        });\r\n      }\r\n\r\n      if (participantCanToggleLivestream && !liveStreamEnabled) {\r\n      }\r\n\r\n      if (utilsArr.length) {\r\n        arr.unshift(utilsArr);\r\n      }\r\n\r\n      //sorting mobile icon\r\n      mobileIconArr\r\n        .sort((iconA, iconB) => iconA.priority - iconB.priority)\r\n        .map((icon) => icon.buttonType);\r\n\r\n      const firstFourElements = mobileIconArr.slice(0, 4);\r\n\r\n      const excludeFirstFourElements = mobileIconArr.slice(4);\r\n\r\n      return {\r\n        topBarIcons: arr,\r\n        mobileIcons: mobileIconArr,\r\n        firstFourElements,\r\n        excludeFirstFourElements,\r\n      };\r\n    }, [\r\n      participantCanToggleSelfMic,\r\n      participantCanToggleSelfWebcam,\r\n      screenShareEnabled,\r\n      pollEnabled,\r\n      whiteboardEnabled,\r\n      chatEnabled,\r\n      raiseHandEnabled,\r\n      topBarButtonTypes,\r\n      recordingEnabled,\r\n      meetingMode,\r\n    ]);\r\n\r\n  const [topBarVisible, setTopBarVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setTopBarVisible(true);\r\n    }, 100);\r\n  }, []);\r\n\r\n  return isTab || isMobile ? (\r\n    <Box\r\n      style={{\r\n        height: topBarHeight,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundColor: theme.palette.background.default,\r\n      }}\r\n    >\r\n      {firstFourElements.map((icon, i) => {\r\n        return (\r\n          <Box key={`topbar_controls_j_${i}`} ml={i === 0 ? 0 : 1.5}>\r\n            {icon.buttonType === topBarButtonTypes.RAISE_HAND ? (\r\n              <RaiseHandBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.MIC ? (\r\n              <MicBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.WEBCAM ? (\r\n              <WebcamBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.SCREEN_SHARE ? (\r\n              <ScreenShareBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.PARTICIPANTS ? (\r\n              <ParticipantsBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.CHAT ? (\r\n              <ChatBTN />\r\n            ) :\r\n             icon.buttonType === topBarButtonTypes.ACTIVITIES ? (\r\n              <ActivitiesBTN />\r\n            ) \r\n            : icon.buttonType === topBarButtonTypes.END_CALL ? (\r\n              <EndCallBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.RECORDING ? (\r\n              <RecordingBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.HLS ? (\r\n              <HlsBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.GO_LIVE ? (\r\n              <GoLiveBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.WHITEBOARD ? (\r\n              <WhiteBoardBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.ADD_LIVE_STREAM ? (\r\n              <AddLiveStreamBTN />\r\n            ) : icon.buttonType === topBarButtonTypes.CONFIGURATION ? (\r\n              <ConfigBTN />\r\n            ) : null}\r\n          </Box>\r\n        );\r\n      })}\r\n\r\n      {excludeFirstFourElements.length >= 1 && (\r\n        <Box ml={2}>\r\n          <OutlineIconButton\r\n            Icon={MoreHorizIcon}\r\n            // Icon={Boolean(anchorEl) ? CloseIcon : MoreHorizIcon}\r\n            // isFocused={anchorEl}\r\n            onClick={handleClickFAB}\r\n          />\r\n        </Box>\r\n      )}\r\n\r\n      <SwipeableDrawer\r\n        anchor={\"bottom\"}\r\n        open={Boolean(open)}\r\n        onClose={handleCloseFAB}\r\n        onOpen={handleClickFAB}\r\n        style={{ paddingBottom: \"100px\" }}\r\n      >\r\n        <Grid container>\r\n          {excludeFirstFourElements.map((icon, i) => {\r\n            return (\r\n              <Grid\r\n                item\r\n                xs={4}\r\n                sm={3}\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                {icon.buttonType === topBarButtonTypes.RAISE_HAND ? (\r\n                  <RaiseHandBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.MIC ? (\r\n                  <MicBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.WEBCAM ? (\r\n                  <WebcamBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.SCREEN_SHARE ? (\r\n                  <ScreenShareBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.PARTICIPANTS ? (\r\n                  <ParticipantsBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.CHAT ? (\r\n                  <ChatBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.ACTIVITIES ? (\r\n                  <ActivitiesBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.END_CALL ? (\r\n                  <EndCallBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.RECORDING ? (\r\n                  <RecordingBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.HLS ? (\r\n                  <HlsBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.GO_LIVE ? (\r\n                  <GoLiveBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.WHITEBOARD ? (\r\n                  <WhiteBoardBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.ADD_LIVE_STREAM ? (\r\n                  <AddLiveStreamBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : icon.buttonType === topBarButtonTypes.CONFIGURATION ? (\r\n                  <ConfigBTN\r\n                    onClick={handleCloseFAB}\r\n                    isMobile={isMobile}\r\n                    isTab={isTab}\r\n                  />\r\n                ) : null}\r\n              </Grid>\r\n            );\r\n          })}\r\n        </Grid>\r\n      </SwipeableDrawer>\r\n    </Box>\r\n  ) : (\r\n    <Box\r\n      style={{\r\n        height: topBarHeight,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n        backgroundColor: theme.palette.background.default,\r\n        borderBottom: \"1px solid #ffffff33\",\r\n        position: \"relative\",\r\n        top: topBarVisible ? 0 : -topBarHeight,\r\n        transition: `all ${400 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n        transitionTimingFunction: \"ease-in-out\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          height: topBarHeight,\r\n          paddingLeft: theme.spacing(2),\r\n          position: \"relative\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        {brandingEnabled && (\r\n          <>\r\n            <img\r\n              alt={\"https://res.cloudinary.com/uplearn/image/upload/v1661179752/qj0ckv848zwaihw1zmhd.png\"}\r\n              style={{\r\n                display: \"inline-block\",\r\n                height: topBarHeight - theme.spacing(2),\r\n              }}\r\n              src={\r\n                // defaultBrandLogoUrl ||\r\n                // brandLogoURL ||\r\n                `https://res.cloudinary.com/uplearn/image/upload/v1661179752/qj0ckv848zwaihw1zmhd.png`\r\n              }\r\n              onError={() => {\r\n                setDefaultBrandLogoUrl(\r\n                  `https://static.videosdk.live/prebuilt/videosdk_logo_circle.png`\r\n                );\r\n              }}\r\n            />\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n              }}\r\n              ml={1}\r\n            >\r\n              <Typography\r\n                style={{\r\n                  fontSize: \"1.2rem\",\r\n                  fontWeight: \"600\",\r\n                }}\r\n              >\r\n                {brandName}\r\n              </Typography>\r\n              {poweredBy ? (\r\n                <Typography\r\n                  style={{\r\n                    fontSize: \"0.9rem\",\r\n                    wordBreak: \"break-all\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  color={\"textSecondary\"}\r\n                >\r\n                  Powered by&nbsp;\r\n                  <Link\r\n                    style={{ textDecorationColor: \"#fa3a57\" }}\r\n                    target={\"_blank\"}\r\n                    href={\"https://localhost/3000\"}\r\n                  >\r\n                    <Typography\r\n                      style={{\r\n                        color: \"#fa3a57\",\r\n                        textTransform: \"lowercase\",\r\n                        fontSize: \"0.9rem\",\r\n                      }}\r\n                    >\r\n                      Uplearn\r\n                    </Typography>\r\n                  </Link>\r\n                </Typography>\r\n              ) : null}\r\n            </Box>\r\n          </>\r\n        )}\r\n      </Box>\r\n\r\n      <Box className={classes.row} p={2}>\r\n        {topBarIcons.map((row, i) => {\r\n          return (\r\n            <React.Fragment key={`topbar_controls_i_${i}`}>\r\n              {i !== 0 && (\r\n                <Box\r\n                  style={{\r\n                    backgroundColor: \"#ffffff33\",\r\n                    width: 1,\r\n                    height: topBarHeight - theme.spacing(1.5),\r\n                    flex: 1,\r\n                  }}\r\n                />\r\n              )}\r\n              <Box\r\n                ml={i === 0 ? 0 : 3}\r\n                mr={i === topBarIcons.length - 1 ? 0 : 3}\r\n                className={classes.row}\r\n              >\r\n                {row.map((buttonType, j) => {\r\n                  return (\r\n                    <Box key={`topbar_controls_j_${j}`} ml={j === 0 ? 0 : 1.5}>\r\n                      {buttonType === topBarButtonTypes.RAISE_HAND ? (\r\n                        <RaiseHandBTN />\r\n                      ) : buttonType === topBarButtonTypes.MIC ? (\r\n                        <MicBTN />\r\n                      ) : buttonType === topBarButtonTypes.WEBCAM ? (\r\n                        <WebcamBTN />\r\n                      ) : buttonType === topBarButtonTypes.SCREEN_SHARE ? (\r\n                        <ScreenShareBTN />\r\n                      ) : buttonType === topBarButtonTypes.PARTICIPANTS ? (\r\n                        <ParticipantsBTN />\r\n                      ) : buttonType === topBarButtonTypes.CHAT ? (\r\n                        <ChatBTN />\r\n                      ) \r\n                      : buttonType === topBarButtonTypes.ACTIVITIES ? (\r\n                        <ActivitiesBTN />\r\n                      ) \r\n                      : buttonType === topBarButtonTypes.END_CALL ? (\r\n                        <EndCallBTN />\r\n                      ) : buttonType === topBarButtonTypes.RECORDING ? (\r\n                        <RecordingBTN />\r\n                      ) : buttonType === topBarButtonTypes.HLS ? (\r\n                        <HlsBTN />\r\n                      ) : buttonType === topBarButtonTypes.GO_LIVE ? (\r\n                        <GoLiveBTN />\r\n                      ) : buttonType === topBarButtonTypes.WHITEBOARD ? (\r\n                        <WhiteBoardBTN />\r\n                      ) : buttonType === topBarButtonTypes.ADD_LIVE_STREAM ? (\r\n                        <AddLiveStreamBTN />\r\n                      ) : buttonType === topBarButtonTypes.CONFIGURATION ? (\r\n                        <ConfigBTN />\r\n                      ) : null}\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport useIsMobile from \"../utils/useIsMobile\";\r\nimport useIsTab from \"../utils/useIsTab\";\r\nimport {\r\n  maxParticipantGridCount_large_desktop,\r\n  maxParticipantGridCount_desktop,\r\n  maxParticipantGridCount_mobile,\r\n  maxParticipantGridCount_tab,\r\n} from \"../utils/common\";\r\nimport useIsLGDesktop from \"../utils/useIsLGDesktop\";\r\nimport useIsSMDesktop from \"../utils/useIsSMDesktop\";\r\n\r\nconst useSortActiveParticipants = () => {\r\n  const [presenterId, setPresenterId] = useState();\r\n\r\n  const participantsRef = useRef();\r\n  const activeSortedParticipantsRef = useRef();\r\n  const maxParticipantInMainViewRef = useRef();\r\n  const mainViewParticipantsRef = useRef();\r\n  const localParticipantIdRef = useRef();\r\n\r\n  const isLGDesktop = useIsLGDesktop();\r\n  const isSMDesktop = useIsSMDesktop();\r\n  const isTab = useIsTab();\r\n  const isMobile = useIsMobile();\r\n\r\n  const {\r\n    activeSortedParticipants,\r\n    mainViewParticipants,\r\n    setActiveSortedParticipants,\r\n    setMainViewParticipants,\r\n    whiteboardStarted,\r\n    layoutGridSize,\r\n    hideLocalParticipant,\r\n  } = useMeetingAppContext();\r\n\r\n  const sortActiveParticipants = (activeParticipants) => {\r\n    activeParticipants.sort((a, b) => {\r\n      if (a.lastActiveOn > b.lastActiveOn) {\r\n        return -1;\r\n      }\r\n      if (a.lastActiveOn < b.lastActiveOn) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n    return activeParticipants;\r\n  };\r\n\r\n  const _handleOnSpeakerChanged = (activeSpeakerId) => {\r\n    if (\r\n      activeSpeakerId &&\r\n      (hideLocalParticipant\r\n        ? activeSpeakerId !== localParticipantIdRef.current\r\n        : true)\r\n    ) {\r\n      const mainViewParticipants = mainViewParticipantsRef.current;\r\n      const activeParticipants = activeSortedParticipantsRef.current;\r\n      const lastActiveOn = new Date().getTime();\r\n\r\n      const foundIndex = activeParticipants.findIndex(\r\n        ({ participantId }) => activeSpeakerId === participantId\r\n      );\r\n\r\n      const foundIndexMain = mainViewParticipants.findIndex(\r\n        (participantId) => activeSpeakerId === participantId\r\n      );\r\n\r\n      const newParticipantObj = {\r\n        participantId: activeSpeakerId,\r\n        lastActiveOn,\r\n      };\r\n\r\n      let activeSortedParticipants;\r\n\r\n      if (foundIndex !== -1) {\r\n        activeParticipants[foundIndex] = newParticipantObj;\r\n\r\n        activeSortedParticipants = sortActiveParticipants(activeParticipants);\r\n      } else {\r\n        activeParticipants.unshift(newParticipantObj);\r\n        activeSortedParticipants = sortActiveParticipants(activeParticipants);\r\n      }\r\n\r\n      if (foundIndexMain === -1) {\r\n        // if not space in main then get inactive from active and replace with active into main\r\n        const mainParticipantsLastActive = activeSortedParticipants.filter(\r\n          ({ participantId }) =>\r\n            mainViewParticipants.findIndex((pID) => pID === participantId) !==\r\n            -1\r\n        );\r\n\r\n        const notActive =\r\n          mainParticipantsLastActive[mainParticipantsLastActive.length - 1];\r\n\r\n        const notActiveMainIndex = mainViewParticipants.findIndex(\r\n          (participantId) => notActive.participantId === participantId\r\n        );\r\n\r\n        mainViewParticipants[notActiveMainIndex] = activeSpeakerId;\r\n\r\n        setMainViewParticipants(mainViewParticipants);\r\n      }\r\n\r\n      setActiveSortedParticipants(activeSortedParticipants);\r\n    }\r\n  };\r\n\r\n  const _handleOnParticipantJoined = (participant) => {\r\n    const participantId = participant.id;\r\n\r\n    const activeParticipants = activeSortedParticipantsRef.current;\r\n    const mainViewParticipants = mainViewParticipantsRef.current;\r\n    const maxParticipantInMainView = maxParticipantInMainViewRef.current;\r\n\r\n    const lastActiveOn = new Date().getTime();\r\n\r\n    const foundIndex = activeParticipants.findIndex(\r\n      ({ participantId: pID }) => {\r\n        return pID === participantId;\r\n      }\r\n    );\r\n\r\n    const filteredMainViewParticipants = [...mainViewParticipants].filter(\r\n      (pID) => pID !== participantId\r\n    );\r\n\r\n    if (foundIndex === -1) {\r\n      activeParticipants.push({ participantId, lastActiveOn });\r\n    } else {\r\n      activeParticipants[foundIndex] = { participantId, lastActiveOn };\r\n    }\r\n\r\n    const activeSortedParticipants = sortActiveParticipants(activeParticipants);\r\n\r\n    setActiveSortedParticipants(activeSortedParticipants);\r\n\r\n    if (filteredMainViewParticipants.length < maxParticipantInMainView) {\r\n      filteredMainViewParticipants.unshift(participantId);\r\n      setMainViewParticipants(filteredMainViewParticipants);\r\n    } else {\r\n    }\r\n  };\r\n\r\n  const _handleOnParticipantLeft = (participant) => {\r\n    const participantId = participant.id;\r\n\r\n    const mainViewParticipants = mainViewParticipantsRef.current;\r\n    const activeSortedParticipants = activeSortedParticipantsRef.current;\r\n\r\n    const filteredActiveParticipants = activeSortedParticipants.filter(\r\n      ({ participantId: pId }) => participantId !== pId\r\n    );\r\n\r\n    const index = mainViewParticipants.findIndex(\r\n      (pID) => pID === participantId\r\n    );\r\n\r\n    if (index !== -1) {\r\n      const filteredMainViewParticipants = mainViewParticipants.filter(\r\n        (pID) => pID !== participantId\r\n      );\r\n\r\n      const inQueue = filteredActiveParticipants.filter(\r\n        ({ participantId }) =>\r\n          filteredMainViewParticipants.findIndex(\r\n            (pID) => pID === participantId\r\n          ) === -1\r\n      );\r\n\r\n      if (inQueue.length) {\r\n        filteredMainViewParticipants.unshift(inQueue[0].participantId);\r\n      }\r\n\r\n      setMainViewParticipants(filteredMainViewParticipants);\r\n    } else {\r\n    }\r\n\r\n    const sortedActive = sortActiveParticipants(filteredActiveParticipants);\r\n\r\n    setActiveSortedParticipants(sortedActive);\r\n  };\r\n\r\n  const _sortOnModify = ({ maxParticipantInMainView: maxCount } = {}) => {\r\n    const activeSortedParticipants = activeSortedParticipantsRef.current;\r\n\r\n    const maxParticipantInMainView =\r\n      maxCount || maxParticipantInMainViewRef.current;\r\n\r\n    const slicedParticipantIds = activeSortedParticipants\r\n      .slice(0, maxParticipantInMainView)\r\n      .map(({ participantId }) => participantId);\r\n\r\n    setMainViewParticipants(slicedParticipantIds);\r\n  };\r\n\r\n  const _sortOnInit = () => {\r\n    const participants = participantsRef.current;\r\n    const maxParticipantInMainView = maxParticipantInMainViewRef.current;\r\n    const participantIds = [...new Map(participants).keys()];\r\n\r\n    const activeParticipants = [];\r\n\r\n    participantIds.forEach((participantId) => {\r\n      const lastActiveOn = new Date().getTime();\r\n\r\n      activeParticipants.push({ participantId, lastActiveOn });\r\n    });\r\n\r\n    let activeSortedParticipants = sortActiveParticipants(activeParticipants);\r\n\r\n    let slicedParticipantIds = activeSortedParticipants\r\n      .slice(0, maxParticipantInMainView)\r\n      .map(({ participantId }) => participantId);\r\n\r\n    if (hideLocalParticipant) {\r\n      activeSortedParticipants = activeSortedParticipants.filter(\r\n        ({ participantId }) => participantId !== localParticipantIdRef.current\r\n      );\r\n\r\n      slicedParticipantIds = slicedParticipantIds.filter(\r\n        (participantId) => participantId !== localParticipantIdRef.current\r\n      );\r\n    }\r\n\r\n    setActiveSortedParticipants(activeSortedParticipants);\r\n    setMainViewParticipants(slicedParticipantIds);\r\n  };\r\n\r\n  const mMeeting = useMeeting({\r\n    onSpeakerChanged: _handleOnSpeakerChanged,\r\n    onParticipantJoined: _handleOnParticipantJoined,\r\n    onParticipantLeft: _handleOnParticipantLeft,\r\n    onMeetingJoined: _sortOnInit,\r\n  });\r\n\r\n  const participants = mMeeting?.participants;\r\n  const mPresenterId = mMeeting?.presenterId;\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n\r\n  const maxParticipantInMainView = useMemo(() => {\r\n    let n =\r\n      presenterId || whiteboardStarted\r\n        ? isLGDesktop\r\n          ? 4\r\n          : 3\r\n        : isLGDesktop\r\n        ? maxParticipantGridCount_large_desktop\r\n        : isSMDesktop\r\n        ? maxParticipantGridCount_desktop\r\n        : isTab\r\n        ? maxParticipantGridCount_tab\r\n        : isMobile\r\n        ? maxParticipantGridCount_mobile\r\n        : 0;\r\n\r\n    if (typeof layoutGridSize === \"number\" && n > layoutGridSize) {\r\n      n = layoutGridSize;\r\n    }\r\n\r\n    return n;\r\n  }, [\r\n    isLGDesktop,\r\n    isSMDesktop,\r\n    isTab,\r\n    isMobile,\r\n    presenterId,\r\n    whiteboardStarted,\r\n    layoutGridSize,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setPresenterId(mPresenterId);\r\n  }, [mPresenterId]);\r\n\r\n  useEffect(() => {\r\n    activeSortedParticipantsRef.current = [...activeSortedParticipants];\r\n  }, [activeSortedParticipants]);\r\n\r\n  useEffect(() => {\r\n    mainViewParticipantsRef.current = [...mainViewParticipants];\r\n  }, [mainViewParticipants]);\r\n\r\n  useEffect(() => {\r\n    maxParticipantInMainViewRef.current = maxParticipantInMainView;\r\n    _sortOnModify({ maxParticipantInMainView });\r\n  }, [maxParticipantInMainView]);\r\n\r\n  useEffect(() => {\r\n    participantsRef.current = participants;\r\n  }, [participants]);\r\n\r\n  useEffect(() => {\r\n    localParticipantIdRef.current = localParticipantId;\r\n  }, [localParticipantId]);\r\n};\r\n\r\nexport default useSortActiveParticipants;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\n\r\nconst useRaisedHandParticipants = () => {\r\n  const raisedHandsParticipantsRef = useRef();\r\n  const { raisedHandsParticipants, setRaisedHandsParticipants } =\r\n    useMeetingAppContext();\r\n\r\n  const participantRaisedHand = (participantId) => {\r\n    const raisedHandsParticipants = [...raisedHandsParticipantsRef.current];\r\n\r\n    const newItem = { participantId, raisedHandOn: new Date().getTime() };\r\n\r\n    const participantFound = raisedHandsParticipants.findIndex(\r\n      ({ participantId: pID }) => pID === participantId\r\n    );\r\n\r\n    if (participantFound === -1) {\r\n      raisedHandsParticipants.push(newItem);\r\n    } else {\r\n      raisedHandsParticipants[participantFound] = newItem;\r\n    }\r\n\r\n    setRaisedHandsParticipants(raisedHandsParticipants);\r\n  };\r\n\r\n  useEffect(() => {\r\n    raisedHandsParticipantsRef.current = raisedHandsParticipants;\r\n  }, [raisedHandsParticipants]);\r\n\r\n  const _handleRemoveOld = () => {\r\n    const raisedHandsParticipants = [...raisedHandsParticipantsRef.current];\r\n\r\n    const now = new Date().getTime();\r\n\r\n    const persisted = raisedHandsParticipants.filter(({ raisedHandOn }) => {\r\n      return parseInt(raisedHandOn) + 15000 > parseInt(now);\r\n    });\r\n\r\n    if (raisedHandsParticipants.length !== persisted.length) {\r\n      setRaisedHandsParticipants(persisted);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(_handleRemoveOld, 1000);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  return { participantRaisedHand };\r\n};\r\n\r\nexport default useRaisedHandParticipants;\r\n","import { useMeeting, usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ConfirmBox from \"./ConfirmBox\";\r\n\r\nconst MediaRequested = () => {\r\n  const reqInfoDefaultState = {\r\n    enabled: false,\r\n    participantName: null,\r\n    accept: () => {},\r\n    reject: () => {},\r\n  };\r\n\r\n  const [reqMicInfo, setReqMicInfo] = useState(reqInfoDefaultState);\r\n  const [reqWebcamInfo, setReqWebcamInfo] = useState(reqInfoDefaultState);\r\n  const [reqScreenShareInfo, setReqScreenShareInfo] =\r\n    useState(reqInfoDefaultState);\r\n\r\n  const mMeetingRef = useRef();\r\n\r\n  const _handleOnWebcamRequested = ({ participantId, accept, reject }) => {\r\n    setReqWebcamInfo({\r\n      enabled: true,\r\n      participantName: \"Host\",\r\n      accept,\r\n      reject,\r\n    });\r\n  };\r\n\r\n  const _handleOnMicRequested = ({ participantId, accept, reject }) => {\r\n    setReqMicInfo({\r\n      enabled: true,\r\n      participantName: \"Host\",\r\n      accept,\r\n      reject,\r\n    });\r\n  };\r\n\r\n  const mMeeting = useMeeting({\r\n    onWebcamRequested: _handleOnWebcamRequested,\r\n    onMicRequested: _handleOnMicRequested,\r\n  });\r\n\r\n  useEffect(() => {\r\n    mMeetingRef.current = mMeeting;\r\n  }, [mMeeting]);\r\n\r\n  usePubSub(`SCR_SHR_REQ_${mMeeting?.localParticipant.id}`, {\r\n    onMessageReceived: (data) => {\r\n      if (data.message.setScreenShareOn) {\r\n        setReqScreenShareInfo({\r\n          enabled: true,\r\n          participantName: \"Host\",\r\n          accept: () => {\r\n            mMeeting?.toggleScreenShare();\r\n          },\r\n          reject: () => {},\r\n        });\r\n      } else {\r\n        mMeeting?.toggleScreenShare();\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {[\r\n        { ...reqMicInfo, setter: setReqMicInfo, type: \"mic\" },\r\n        { ...reqWebcamInfo, setter: setReqWebcamInfo, type: \"webcam\" },\r\n        {\r\n          ...reqScreenShareInfo,\r\n          setter: setReqScreenShareInfo,\r\n          type: \"screenShare\",\r\n        },\r\n      ].map(({ accept, enabled, participantName, setter, reject, type }, i) => {\r\n        return (\r\n          <ConfirmBox\r\n            {...{\r\n              successText: \"Turn on\",\r\n              rejectText: \"Cancel\",\r\n              open: enabled,\r\n              onReject: () => {\r\n                setter(reqInfoDefaultState);\r\n                reject();\r\n              },\r\n              onSuccess: () => {\r\n                setter(reqInfoDefaultState);\r\n                accept();\r\n              },\r\n              title: `Turn on ${type}?`,\r\n              subTitle:\r\n                type === \"screenShare\"\r\n                  ? `${participantName} is requesting you to share your screen`\r\n                  : `${participantName} is requesting to turn on your ${type}`,\r\n            }}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MediaRequested;\r\n","import { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport React, { useState } from \"react\";\r\nimport ConfirmBox from \"./ConfirmBox\";\r\n\r\nconst RequestedEntries = () => {\r\n  const [requestedEntries, setRequestedEntries] = useState([]);\r\n\r\n  const handleOnEntryRequested = ({ participantId, name, allow, deny }) => {\r\n    setRequestedEntries((s) => [...s, { participantId, name, allow, deny }]);\r\n  };\r\n\r\n  const handleOnEntryResponded = (participantId, decision) => {\r\n    setRequestedEntries((s) =>\r\n      s.filter((p) => p.participantId !== participantId)\r\n    );\r\n  };\r\n\r\n  useMeeting({\r\n    onEntryRequested: handleOnEntryRequested,\r\n    onEntryResponded: handleOnEntryResponded,\r\n  });\r\n\r\n  return requestedEntries.map(({ participantId, name, allow, deny }) => {\r\n    return (\r\n      <ConfirmBox\r\n        key={`entry_request_${participantId}`}\r\n        {...{\r\n          successText: \"Allow\",\r\n          rejectText: \"Deny\",\r\n          open: true,\r\n          onReject: deny,\r\n          onSuccess: allow,\r\n          title: `${name} wants to join`,\r\n          subTitle: `Click allow button to let the participant join the meeting.`,\r\n        }}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default RequestedEntries;\r\n","import React, { useMemo, useState } from \"react\";\r\nimport robot from \"../animations/robot.json\";\r\nimport Lottie from \"react-lottie\";\r\nimport { Typography, Box, Button } from \"@material-ui/core\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport useWindowSize from \"../utils/useWindowSize\";\r\n\r\nconst ClickAnywhereToContinue = ({ onClick, title, brandLogoURL }) => {\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: robot,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  const [brandLogoErr, setBrandLogoErr] = useState(false);\r\n  const jsonSize = useResponsiveSize({\r\n    xl: 320,\r\n    lg: 280,\r\n    md: 240,\r\n    sm: 200,\r\n    xs: 180,\r\n  });\r\n\r\n  const { height: windowHeight, width: windowWidth } = useWindowSize();\r\n\r\n  const bgImageHeight = 1536;\r\n  const bgImageWidth = 2732;\r\n\r\n  const { imageWidth, imageHeight } = useMemo(() => {\r\n    const constantWidth =\r\n      bgImageHeight / bgImageWidth <= windowHeight / windowWidth;\r\n\r\n    const imageWidth = constantWidth\r\n      ? windowWidth\r\n      : (bgImageWidth * windowHeight) / bgImageHeight;\r\n\r\n    const imageHeight = (imageWidth * bgImageHeight) / bgImageWidth;\r\n\r\n    return { imageWidth, imageHeight };\r\n  }, [windowHeight, windowWidth]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: windowHeight,\r\n        width: windowWidth,\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            height: imageHeight,\r\n            width: imageWidth,\r\n            backgroundImage: `url(https://static.videosdk.live/prebuilt/space-background.png)`,\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundSize: \"contain\",\r\n            overflow: \"hidden\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        ></div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        {brandLogoErr || !brandLogoURL ? (\r\n          <Lottie\r\n            options={defaultOptions}\r\n            eventListeners={[{ eventName: \"done\" }]}\r\n            height={jsonSize}\r\n            width={jsonSize}\r\n            isClickToPauseDisabled\r\n          />\r\n        ) : (\r\n          <img\r\n            alt={\"brand logo\"}\r\n            style={{\r\n              height: jsonSize,\r\n              width: jsonSize,\r\n            }}\r\n            src={brandLogoURL}\r\n            onError={(err) => {\r\n              console.log(err, \"erer\");\r\n              setBrandLogoErr(true);\r\n            }}\r\n          />\r\n        )}\r\n        <Box mt={5}>\r\n          {typeof onClick === \"function\" ? (\r\n            <Button\r\n              size={\"large\"}\r\n              variant=\"contained\"\r\n              color={\"primary\"}\r\n              style={{ fontWeight: \"bold\" }}\r\n              onClick={onClick}\r\n              id=\"join-meeting-button\"\r\n            >\r\n              JOIN THE MEETING\r\n            </Button>\r\n          ) : (\r\n            <Typography variant=\"h4\">{title}</Typography>\r\n          )}\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClickAnywhereToContinue;\r\n","import { useTheme } from \"@material-ui/core\";\r\nimport { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport React, { useMemo } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport { meetingLayouts } from \"../../MeetingAppContextDef\";\r\nimport {\r\n  calcQuality,\r\n  getGridForMainParticipants,\r\n  getGridRowsAndColumns,\r\n  localAndPinnedOnTop,\r\n} from \"../../utils/common\";\r\nimport useIsLGDesktop from \"../../utils/useIsLGDesktop\";\r\nimport useIsMobile from \"../../utils/useIsMobile\";\r\nimport useIsSMDesktop from \"../../utils/useIsSMDesktop\";\r\nimport useIsTab from \"../../utils/useIsTab\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport { MemoizedMotionParticipant } from \"../mainViewContainer/MainViewContainer\";\r\nimport ParticipantViewer from \"../mainViewContainer/ParticipantViewer\";\r\nimport PresenterView from \"../mainViewContainer/PresenterView\";\r\nimport WhiteboardContainer, {\r\n  convertHWAspectRatio,\r\n} from \"../../components/whiteboard/WhiteboardContainer\";\r\n\r\nconst PinnedLayoutViewContainer = ({\r\n  height,\r\n  width,\r\n  whiteboardToolbarWidth,\r\n  whiteboardSpacing,\r\n}) => {\r\n  const {\r\n    meetingLayout,\r\n    sideBarMode,\r\n    whiteboardStarted,\r\n    animationsEnabled,\r\n    reduceEdgeSpacing,\r\n    isRecorder,\r\n    layoutGridSize,\r\n  } = useMeetingAppContext();\r\n\r\n  const mMeeting = useMeeting();\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n  const presenterId = mMeeting?.presenterId;\r\n  const pinnedParticipants = mMeeting?.pinnedParticipants;\r\n\r\n  const isMobile = useIsMobile();\r\n  const isTab = useIsTab();\r\n  const isSMDesktop = useIsSMDesktop();\r\n  const isLGDesktop = useIsLGDesktop();\r\n  const isPortrait = useMediaQuery({ query: \"(orientation: portrait)\" });\r\n  const mobilePortrait = isMobile && isPortrait;\r\n\r\n  const {\r\n    spotlightParticipantId,\r\n    sideBarPinnedParticipantIds,\r\n    spotlightMediaType,\r\n    singleRow,\r\n  } = useMemo(() => {\r\n    let pinnedParticipantIds = [...pinnedParticipants.keys()];\r\n\r\n    const pinnedPresenter =\r\n      pinnedParticipantIds.findIndex((id) => id === presenterId) !== -1;\r\n\r\n    if (isRecorder && pinnedParticipantIds.length > layoutGridSize) {\r\n      if (pinnedPresenter) {\r\n        const pinnedParticipantIndexToBeRemoved =\r\n          pinnedParticipantIds.findIndex((id) => id === presenterId);\r\n\r\n        pinnedParticipantIds.splice(pinnedParticipantIndexToBeRemoved, 1);\r\n\r\n        pinnedParticipantIds = [pinnedPresenter, ...pinnedParticipantIds];\r\n      }\r\n\r\n      pinnedParticipantIds = pinnedParticipantIds.slice(0, layoutGridSize);\r\n    }\r\n\r\n    let obj;\r\n\r\n    if (pinnedPresenter) {\r\n      obj = {\r\n        spotlightParticipantId: presenterId,\r\n        sideBarPinnedParticipantIds:\r\n          meetingLayout === meetingLayouts.SPOTLIGHT\r\n            ? []\r\n            : pinnedParticipantIds,\r\n        spotlightMediaType: \"SHARE\",\r\n      };\r\n    } else if (whiteboardStarted) {\r\n      if (meetingLayout === meetingLayouts.SPOTLIGHT) {\r\n        obj = {\r\n          spotlightParticipantId: \"white-board-id\",\r\n          sideBarPinnedParticipantIds: [],\r\n          spotlightMediaType: \"WHITEBOARD\",\r\n        };\r\n      } else {\r\n        obj = {\r\n          spotlightParticipantId: \"white-board-id\",\r\n          sideBarPinnedParticipantIds: pinnedParticipantIds,\r\n          spotlightMediaType: \"WHITEBOARD\",\r\n        };\r\n      }\r\n    } else {\r\n      if (meetingLayout === meetingLayouts.SPOTLIGHT) {\r\n        obj = {\r\n          spotlightParticipantId: null,\r\n          sideBarPinnedParticipantIds: pinnedParticipantIds,\r\n          spotlightMediaType: null,\r\n        };\r\n      } else {\r\n        const spotlightParticipantId = pinnedParticipantIds[0];\r\n        pinnedParticipantIds.splice(0, 1);\r\n\r\n        obj = {\r\n          spotlightParticipantId: spotlightParticipantId,\r\n          sideBarPinnedParticipantIds: pinnedParticipantIds,\r\n          spotlightMediaType: \"WEBCAM\",\r\n        };\r\n      }\r\n    }\r\n\r\n    if (mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR) {\r\n      const splicesActiveParticipants = obj[\r\n        \"sideBarPinnedParticipantIds\"\r\n      ].splice(0, 4);\r\n\r\n      obj[\"sideBarPinnedParticipantIds\"] = splicesActiveParticipants;\r\n    }\r\n\r\n    const participantsCount = obj.sideBarPinnedParticipantIds?.length;\r\n\r\n    if (participantsCount) {\r\n      const pinnedParticipantsMap = new Map(pinnedParticipants);\r\n\r\n      if (obj[\"spotlightMediaType\"] === \"WEBCAM\") {\r\n        if (obj[\"spotlightParticipantId\"]) {\r\n          pinnedParticipantsMap.delete(obj[\"spotlightParticipantId\"]);\r\n        }\r\n      }\r\n\r\n      const gridInfo = getGridRowsAndColumns({\r\n        participantsCount,\r\n        isMobile:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? false\r\n            : isMobile,\r\n        isTab:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? false\r\n            : isTab,\r\n        isSMDesktop:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? false\r\n            : isSMDesktop,\r\n        isLGDesktop:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? true\r\n            : isLGDesktop,\r\n        isLandscape:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? true\r\n            : !isPortrait,\r\n        isPresenting:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? false\r\n            : !!obj.spotlightParticipantId,\r\n      });\r\n\r\n      const { singleRow } = getGridForMainParticipants({\r\n        participants: localAndPinnedOnTop({\r\n          localParticipantId,\r\n          participants: [...obj.sideBarPinnedParticipantIds],\r\n          pinnedParticipantIds: [...pinnedParticipantsMap.keys()],\r\n          moveLocalUnpinnedOnTop: false,\r\n        }),\r\n        gridInfo,\r\n      });\r\n\r\n      obj[\"singleRow\"] = singleRow;\r\n    } else {\r\n      obj[\"singleRow\"] = [];\r\n    }\r\n\r\n    return obj;\r\n  }, [\r\n    mobilePortrait,\r\n    pinnedParticipants,\r\n    meetingLayout,\r\n    presenterId,\r\n    localParticipantId,\r\n    isMobile,\r\n    isTab,\r\n    isSMDesktop,\r\n    isLGDesktop,\r\n    isPortrait,\r\n    whiteboardStarted,\r\n    isRecorder,\r\n    layoutGridSize,\r\n  ]);\r\n\r\n  const theme = useTheme();\r\n\r\n  const rowSpacing = useResponsiveSize({\r\n    xl: 24,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 8,\r\n  });\r\n\r\n  const gutter = 4;\r\n  const spacing = (reduceEdgeSpacing ? 4 : rowSpacing) - gutter;\r\n\r\n  const _presentingSideBarWidth = useResponsiveSize({\r\n    xl: 320,\r\n    lg: 280,\r\n    md: 260,\r\n    sm: 240,\r\n    xs: 200,\r\n  });\r\n\r\n  const presentingSideBarWidth = useMemo(() => {\r\n    return (whiteboardStarted || presenterId) &&\r\n      meetingLayout === meetingLayouts.SPOTLIGHT\r\n      ? 0\r\n      : _presentingSideBarWidth;\r\n  }, [_presentingSideBarWidth, whiteboardStarted, presenterId, meetingLayout]);\r\n\r\n  const _mainContainerHorizontalPadding =\r\n    spotlightParticipantId && singleRow.length !== 0\r\n      ? 0\r\n      : typeof sideBarMode === \"string\"\r\n      ? 0\r\n      : sideBarPinnedParticipantIds?.length <= 9\r\n      ? isLGDesktop\r\n        ? singleRow.length === 2\r\n          ? 0\r\n          : 140\r\n        : isSMDesktop\r\n        ? singleRow.length === 2\r\n          ? 20\r\n          : 90\r\n        : isTab && !isPortrait\r\n        ? 60\r\n        : 0\r\n      : 0;\r\n\r\n  const mainContainerHorizontalPadding = useMemo(() => {\r\n    return (whiteboardStarted || presenterId) &&\r\n      meetingLayout === meetingLayouts.SPOTLIGHT\r\n      ? 0\r\n      : _mainContainerHorizontalPadding;\r\n  }, [\r\n    _mainContainerHorizontalPadding,\r\n    whiteboardStarted,\r\n    presenterId,\r\n    meetingLayout,\r\n  ]);\r\n\r\n  const gridVerticalSpacing = useResponsiveSize({\r\n    xl: 160,\r\n    lg: 90,\r\n    md: 90,\r\n    sm: 60,\r\n    xs: 60,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height,\r\n        width,\r\n        backgroundColor: theme.palette.background.default,\r\n        overflow: \"hidden\",\r\n        transition: `width ${400 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n        transitionTimingFunction: \"ease-in-out\",\r\n        display: \"flex\",\r\n        flexDirection:\r\n          mobilePortrait && meetingLayout === meetingLayouts.SIDEBAR\r\n            ? \"column\"\r\n            : \"row\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: spotlightParticipantId\r\n            ? sideBarPinnedParticipantIds?.length > 0\r\n              ? width - presentingSideBarWidth\r\n              : width\r\n            : 0,\r\n          height: mobilePortrait && !presenterId ? height / 2 : height,\r\n          transition: `width ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n          transitionTimingFunction: \"ease-in-out\",\r\n          paddingLeft: spacing,\r\n          paddingTop: spacing,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            height:\r\n              mobilePortrait && !presenterId\r\n                ? height / 2 - 2 * spacing\r\n                : height - 2 * spacing,\r\n            width: mobilePortrait\r\n              ? width - 2 * spacing\r\n              : (spotlightParticipantId\r\n                  ? (sideBarPinnedParticipantIds?.length > 0\r\n                      ? width - presentingSideBarWidth\r\n                      : width) -\r\n                    2 * spacing\r\n                  : 0) -\r\n                (singleRow.length === 0\r\n                  ? 2 * mainContainerHorizontalPadding\r\n                  : 0),\r\n            transition: `width ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"ease-in-out\",\r\n            borderRadius: theme.spacing(1),\r\n            overflow: \"hidden\",\r\n            position: \"relative\",\r\n            marginLeft:\r\n              singleRow.length === 0 ? mainContainerHorizontalPadding : 0,\r\n            marginRight:\r\n              singleRow.length === 0 ? mainContainerHorizontalPadding : 0,\r\n          }}\r\n        >\r\n          {spotlightParticipantId ? (\r\n            spotlightMediaType === \"SHARE\" ? (\r\n              <PresenterView\r\n                key={`spotlightParticipantId_${spotlightParticipantId}`}\r\n                presenterId={spotlightParticipantId}\r\n              />\r\n            ) : spotlightMediaType === \"WHITEBOARD\" ? (\r\n              <WhiteboardContainer\r\n                {...{\r\n                  ...convertHWAspectRatio({\r\n                    height:\r\n                      height -\r\n                      2 * spacing -\r\n                      (whiteboardToolbarWidth === 0 ? 2 * 16 : 0),\r\n                    width: whiteboardStarted\r\n                      ? width -\r\n                        (isMobile ? 0 : presentingSideBarWidth) -\r\n                        2 * spacing -\r\n                        (whiteboardToolbarWidth + 2 * whiteboardSpacing) -\r\n                        (whiteboardToolbarWidth === 0 ? 2 * 16 : 0)\r\n                      : 0,\r\n                  }),\r\n                  whiteboardToolbarWidth,\r\n                  whiteboardSpacing,\r\n                  originalHeight: height - 2 * spacing,\r\n                  originalWidth:\r\n                    width -\r\n                    (isMobile ? 0 : presentingSideBarWidth) -\r\n                    2 * spacing,\r\n                }}\r\n              />\r\n            ) : (\r\n              <MemoizedMotionParticipant\r\n                {...{\r\n                  participantId: spotlightParticipantId,\r\n                  gutter,\r\n                  quality: \"high\",\r\n                  relativeHeight: 100,\r\n                  relativeWidth: 100,\r\n                  relativeTop: 0,\r\n                  relativeLeft: 0,\r\n                }}\r\n                key={`spotlightParticipantId_${spotlightParticipantId}`}\r\n              />\r\n            )\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n\r\n      {singleRow.length === 0 ||\r\n      (mobilePortrait && presenterId) ? null : mobilePortrait &&\r\n        meetingLayout === meetingLayouts.SIDEBAR ? (\r\n        <div\r\n          style={{\r\n            height: \"50%\",\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          {singleRow.map(\r\n            ({\r\n              participantId,\r\n              relativeHeight,\r\n              relativeWidth,\r\n              relativeTop,\r\n              relativeLeft,\r\n            }) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    padding: 8,\r\n                    position: \"absolute\",\r\n                    top: `${relativeTop}%`,\r\n                    left: `${relativeLeft}%`,\r\n                    width: `${relativeWidth}%`,\r\n                    height: `${relativeHeight}%`,\r\n                  }}\r\n                  id={`pinned_sidebar_${participantId}`}\r\n                  key={`pinned_sidebar_${participantId}`}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      height: `calc(100% - ${2 * 8}px)`,\r\n                      width: `calc(100% - ${2 * 8}px)`,\r\n                    }}\r\n                  >\r\n                    <ParticipantViewer\r\n                      participantId={participantId}\r\n                      quality={\"low\"}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            backgroundColor: theme.palette.background.default,\r\n            overflowX: \"hidden\",\r\n            overflowY: spotlightParticipantId ? \"scroll\" : \"hidden\",\r\n            width: spotlightParticipantId ? presentingSideBarWidth : width,\r\n            height:\r\n              height -\r\n              2 * spacing -\r\n              (singleRow.length === 2 && !spotlightParticipantId && !isMobile\r\n                ? 2 * gridVerticalSpacing\r\n                : 0),\r\n            margin: spacing,\r\n            transition: `all ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n            transitionTimingFunction: \"ease-in-out\",\r\n            paddingLeft: mainContainerHorizontalPadding,\r\n            paddingRight: mainContainerHorizontalPadding,\r\n            paddingTop:\r\n              singleRow.length === 2 && !spotlightParticipantId && !isMobile\r\n                ? gridVerticalSpacing\r\n                : 0,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              height:\r\n                (spotlightParticipantId\r\n                  ? (singleRow.length * presentingSideBarWidth * 2) / 3\r\n                  : height - 2 * spacing) -\r\n                (singleRow.length === 2 && !spotlightParticipantId && !isMobile\r\n                  ? 2 * gridVerticalSpacing\r\n                  : 0),\r\n              position: \"relative\",\r\n              transition: `height ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n              transitionTimingFunction: \"ease-in-out\",\r\n            }}\r\n          >\r\n            {singleRow.map((c) => (\r\n              <MemoizedMotionParticipant\r\n                {...c}\r\n                quality={calcQuality(singleRow?.length)}\r\n                key={`pinned_${c.participantId}`}\r\n                gutter={gutter}\r\n                useVisibilitySensor={presenterId ? true : false}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(\r\n  PinnedLayoutViewContainer,\r\n  (prevProps, nextProps) =>\r\n    prevProps.width === nextProps.width && prevProps.height === nextProps.height\r\n);\r\n","import { useMeeting, useParticipant } from \"@videosdk.live/react-sdk\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\nconst ParticipantAudioPlayer = ({ participantId }) => {\r\n  const {\r\n    micOn,\r\n    micStream,\r\n    isLocal,\r\n    consumeMicStreams,\r\n    stopConsumingMicStreams,\r\n  } = useParticipant(participantId);\r\n  const audioPlayer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!isLocal) {\r\n      consumeMicStreams();\r\n      return () => {\r\n        stopConsumingMicStreams();\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isLocal && audioPlayer.current && micOn && micStream) {\r\n      const mediaStream = new MediaStream();\r\n      mediaStream.addTrack(micStream.track);\r\n\r\n      audioPlayer.current.srcObject = mediaStream;\r\n      audioPlayer.current.play().catch((err) => {\r\n        if (\r\n          err.message ===\r\n          \"play() failed because the user didn't interact with the document first. https://goo.gl/xX8pDD\"\r\n        ) {\r\n          console.error(\"audio\" + err.message);\r\n        }\r\n      });\r\n    } else {\r\n      audioPlayer.current.srcObject = null;\r\n    }\r\n  }, [micStream, micOn, isLocal, participantId]);\r\n\r\n  return <audio autoPlay playsInline controls={false} ref={audioPlayer} />;\r\n};\r\n\r\nconst ParticipantsAudioPlayer = () => {\r\n  const mMeeting = useMeeting();\r\n\r\n  const participants = mMeeting?.participants;\r\n\r\n  return participants ? (\r\n    [...participants.keys()].map((participantId) => (\r\n      <ParticipantAudioPlayer\r\n        key={`participant_audio_${participantId}`}\r\n        participantId={participantId}\r\n      />\r\n    ))\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default ParticipantsAudioPlayer;\r\n","import { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\n\r\nconst useWhiteBoard = () => {\r\n  const meetingRef = useRef(null);\r\n  const { setWhiteboardState } = useMeetingAppContext();\r\n\r\n  const _handleWhiteboardStarted = (state) => {\r\n    const newState = { started: true, state };\r\n\r\n    setWhiteboardState(newState);\r\n  };\r\n\r\n  const _handleWhiteboardStopped = () => {\r\n    const newState = { started: false, state: null };\r\n\r\n    setWhiteboardState(newState);\r\n  };\r\n\r\n  const _handleOnMeetingJoined = () => {\r\n    meetingRef.current?.meeting?.on(\r\n      \"whiteboard-started\",\r\n      _handleWhiteboardStarted\r\n    );\r\n\r\n    meetingRef.current?.meeting?.on(\r\n      \"whiteboard-stopped\",\r\n      _handleWhiteboardStopped\r\n    );\r\n  };\r\n  const _handleOnMeetingLeft = () => {\r\n    meetingRef.current?.meeting?.off(\r\n      \"whiteboard-started\",\r\n      _handleWhiteboardStarted\r\n    );\r\n    meetingRef.current?.meeting?.off(\r\n      \"whiteboard-stopped\",\r\n      _handleWhiteboardStopped\r\n    );\r\n  };\r\n  const mMmeeting = useMeeting({\r\n    onMeetingJoined: _handleOnMeetingJoined,\r\n    onMeetingLeft: _handleOnMeetingLeft,\r\n  });\r\n\r\n  useEffect(() => {\r\n    meetingRef.current = mMmeeting;\r\n  }, [mMmeeting]);\r\n};\r\n\r\nexport default useWhiteBoard;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport animationData from \"../../src/animations/join_meeting.json\";\r\nimport Lottie from \"react-lottie\";\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nconst WaitingToJoin = () => {\r\n  const waitingMessages = [\r\n    { index: 0, text: \"Creating a room for you...\" },\r\n    { index: 1, text: \"Almost there...\" },\r\n  ];\r\n  const [message, setMessage] = useState(waitingMessages[0]);\r\n\r\n  const intervalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    intervalRef.current = setInterval(() => {\r\n      setMessage((s) =>\r\n        s.index === waitingMessages.length - 1\r\n          ? s\r\n          : waitingMessages[s.index + 1]\r\n      );\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearInterval(intervalRef.current);\r\n    };\r\n  }, []);\r\n\r\n  const lottieSize = useResponsiveSize({\r\n    xl: 250,\r\n    lg: 250,\r\n    md: 200,\r\n    sm: 200,\r\n    xs: 180,\r\n  });\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n      }}\r\n    >\r\n      <Box style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <Lottie\r\n          options={defaultOptions}\r\n          eventListeners={[{ eventName: \"done\" }]}\r\n          height={lottieSize}\r\n          width={lottieSize}\r\n        />\r\n        <h2 style={{ color: \"white\", marginTop: 4, textAlign: \"center\" }}>\r\n          {message.text}\r\n        </h2>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaitingToJoin;\r\n","import { Box, useTheme } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Lottie from \"react-lottie\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport animationData from \"../../../src/animations/wait_for_HLS_animation.json\";\r\nimport stoppedHLSSnimationData from \"../../../src/animations/stopped_HLS_animation.json\";\r\nimport { appEvents, eventEmitter } from \"../../utils/common\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport Hls from \"hls.js\";\r\n\r\nexport async function sleep(ms) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, ms);\r\n  });\r\n}\r\n\r\nconst PlayerViewer = () => {\r\n  const theme = useTheme();\r\n  const [canPlay, setCanPlay] = useState(false);\r\n\r\n  const {\r\n    downstreamUrl,\r\n    hlsPlayerControlsVisible,\r\n    afterMeetingJoinedHLSState,\r\n  } = useMeetingAppContext();\r\n\r\n  const lottieSize = useResponsiveSize({\r\n    xl: 240,\r\n    lg: 240,\r\n    md: 180,\r\n    sm: 180,\r\n    xs: 160,\r\n  });\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  const defaultOptionsStoppedHls = {\r\n    loop: false,\r\n    autoplay: true,\r\n    animationData: stoppedHLSSnimationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  async function waitForHLSPlayable(downstreamUrl, maxRetry) {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (maxRetry < 1) {\r\n        return reject(false);\r\n      }\r\n\r\n      let status;\r\n\r\n      try {\r\n        const res = await fetch(downstreamUrl, {\r\n          method: \"GET\",\r\n        });\r\n        status = res.status;\r\n      } catch (err) {}\r\n\r\n      if (status === 200) {\r\n        return resolve(true);\r\n      }\r\n\r\n      await sleep(1000);\r\n\r\n      return resolve(\r\n        await waitForHLSPlayable(downstreamUrl, maxRetry - 1).catch((err) => {})\r\n      );\r\n    });\r\n  }\r\n\r\n  const checkHLSPlayable = async (downstreamUrl) => {\r\n    const canPlay = await waitForHLSPlayable(downstreamUrl, 20);\r\n\r\n    if (canPlay) {\r\n      setCanPlay(true);\r\n    } else {\r\n      setCanPlay(false);\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    if (downstreamUrl) {\r\n      checkHLSPlayable(downstreamUrl);\r\n    } else {\r\n      setCanPlay(false);\r\n    }\r\n  }, [downstreamUrl]);\r\n\r\n  useEffect(() => {\r\n    if (downstreamUrl && canPlay) {\r\n      if (Hls.isSupported()) {\r\n        const hls = new Hls({\r\n          capLevelToPlayerSize: true,\r\n          maxLoadingDelay: 4,\r\n          minAutoBitrate: 0,\r\n          autoStartLoad: true,\r\n          defaultAudioCodec: \"mp4a.40.2\",\r\n        });\r\n\r\n        let player = document.querySelector(\"#hlsPlayer\");\r\n\r\n        hls.loadSource(downstreamUrl);\r\n        hls.attachMedia(player);\r\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {});\r\n        hls.on(Hls.Events.ERROR, function (err) {\r\n          console.log(err);\r\n        });\r\n      } else {\r\n        console.error(\"HLS is not supported\");\r\n      }\r\n    }\r\n  }, [downstreamUrl, canPlay]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        backgroundColor: theme.palette.background.default,\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n        borderRadius: theme.spacing(1),\r\n      }}\r\n      onDoubleClick={() => {\r\n        eventEmitter.emit(appEvents[\"toggle-full-screen\"]);\r\n      }}\r\n    >\r\n      {downstreamUrl && canPlay ? (\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            bottom: 0,\r\n            right: 0,\r\n            left: 0,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <video\r\n            controls={hlsPlayerControlsVisible}\r\n            id=\"hlsPlayer\"\r\n            autoPlay={true}\r\n            style={{ width: \"100%\", height: \"100%\" }}\r\n          />\r\n        </Box>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            // backgroundColor: theme.palette.background.paper,\r\n          }}\r\n        >\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              position: \"absolute\",\r\n              top: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n              left: 0,\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Lottie\r\n              options={\r\n                afterMeetingJoinedHLSState === \"STOPPED\"\r\n                  ? defaultOptionsStoppedHls\r\n                  : defaultOptions\r\n              }\r\n              eventListeners={[{ eventName: \"done\" }]}\r\n              height={lottieSize}\r\n              width={lottieSize}\r\n            />\r\n            <h2\r\n              style={{\r\n                color: \"white\",\r\n                marginTop: 0,\r\n                marginBottom: 4,\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {afterMeetingJoinedHLSState === \"STOPPED\"\r\n                ? \"Host has stopped the live streaming.\"\r\n                : \"Waiting for host to start live stream.\"}\r\n            </h2>\r\n            {afterMeetingJoinedHLSState !== \"STOPPED\" && (\r\n              <h2 style={{ color: \"white\", marginTop: 0, textAlign: \"center\" }}>\r\n                Meanwhile, take a few deep breaths.\r\n              </h2>\r\n            )}\r\n          </Box>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerViewer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useMeetingAppContext } from \"../../MeetingAppContextDef\";\r\nimport { Motion as TransitionMotion, spring } from \"react-motion\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport PlayerViewer from \"./PlayerViewer\";\r\n\r\nconst MotionPlayer = ({\r\n  gutter,\r\n  relativeHeight,\r\n  relativeWidth,\r\n  relativeTop,\r\n  relativeLeft,\r\n}) => {\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setMounted(true), 100);\r\n\r\n    return () => {\r\n      setTimeout(() => setMounted(false), 100);\r\n    };\r\n  }, []);\r\n\r\n  const animeConfig = { stiffness: 180, damping: 22 };\r\n\r\n  const { animationsEnabled } = useMeetingAppContext();\r\n\r\n  return (\r\n    <TransitionMotion\r\n      style={{\r\n        top: spring(relativeTop, animeConfig),\r\n        left: spring(relativeLeft, animeConfig),\r\n        height: spring(relativeHeight, animeConfig),\r\n        width: spring(relativeWidth, animeConfig),\r\n        scale: spring(mounted ? 1 : animationsEnabled ? 0 : 0.5, animeConfig),\r\n      }}\r\n    >\r\n      {({ top, left, height, width, scale }) => (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: `${top}%`,\r\n            left: `${left}%`,\r\n            height: `${height}%`,\r\n            width: `${width}%`,\r\n            paddingTop: gutter,\r\n            paddingBottom: gutter,\r\n            paddingRight: gutter,\r\n            paddingLeft: gutter,\r\n            transform: `scale(${scale})`,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              height: `calc(100% - ${2 * gutter}px)`,\r\n              width: `calc(100% - ${2 * gutter}px)`,\r\n            }}\r\n          >\r\n            <PlayerViewer />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </TransitionMotion>\r\n  );\r\n};\r\n\r\nexport const MemoizedMotionPlayer = React.memo(\r\n  MotionPlayer,\r\n  (prevProps, nextProps) =>\r\n    prevProps.gutter === nextProps.gutter &&\r\n    prevProps.relativeHeight === nextProps.relativeHeight &&\r\n    prevProps.relativeWidth === nextProps.relativeWidth &&\r\n    prevProps.relativeTop === nextProps.relativeTop &&\r\n    prevProps.relativeLeft === nextProps.relativeLeft\r\n);\r\n\r\nconst HLSContainer = ({ width }) => {\r\n  const { animationsEnabled, reduceEdgeSpacing } = useMeetingAppContext();\r\n\r\n  const rowSpacing = useResponsiveSize({\r\n    xl: 24,\r\n    lg: 16,\r\n    md: 14,\r\n    sm: 12,\r\n    xs: 8,\r\n  });\r\n\r\n  const gutter = 4;\r\n\r\n  const spacing = reduceEdgeSpacing ? 4 : rowSpacing - gutter;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: `calc(100% - ${2 * spacing}px)`,\r\n        width: width - 2 * spacing,\r\n        margin: spacing,\r\n        transition: `all ${800 * (animationsEnabled ? 1 : 0.5)}ms`,\r\n        transitionTimingFunction: \"ease-in-out\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <MemoizedMotionPlayer\r\n        {...{\r\n          gutter,\r\n          relativeHeight: 100,\r\n          relativeWidth: 100,\r\n          relativeTop: 0,\r\n          relativeLeft: 0,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HLSContainer;\r\n","import {\r\n  useMeeting,\r\n  useParticipant,\r\n  usePubSub,\r\n} from \"@videosdk.live/react-sdk\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useMeetingAppContext } from \"../MeetingAppContextDef\";\r\nimport ConfirmBox from \"./ConfirmBox\";\r\nimport { meetingModes } from \"../CONSTS\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst reqInfoDefaultState = {\r\n  enabled: false,\r\n  mode: null,\r\n  senderId: null,\r\n  accept: () => {},\r\n  reject: () => {},\r\n};\r\n\r\nconst ModeListner = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const mMeetingRef = useRef();\r\n  const {\r\n    setMeetingMode,\r\n    meetingMode,\r\n    setSideBarMode,\r\n    notificationSoundEnabled,\r\n    notificationAlertsEnabled,\r\n  } = useMeetingAppContext();\r\n\r\n  const [reqModeInfo, setReqModeInfo] = useState(reqInfoDefaultState);\r\n\r\n  const mMeeting = useMeeting();\r\n  const localParticipantId = mMeeting?.localParticipant?.id;\r\n  const participant = useParticipant(localParticipantId);\r\n  const { publish } = usePubSub(`CURRENT_MODE_${mMeeting.localParticipant.id}`);\r\n\r\n  const participantRef = useRef();\r\n  const publishRef = useRef();\r\n  const notificationSoundEnabledRef = useRef();\r\n  const notificationAlertsEnabledRef = useRef();\r\n\r\n  useEffect(() => {\r\n    publishRef.current = publish;\r\n  }, [publish]);\r\n\r\n  useEffect(() => {\r\n    mMeetingRef.current = mMeeting;\r\n  }, [mMeeting]);\r\n\r\n  useEffect(() => {\r\n    participantRef.current = participant;\r\n  }, [participant]);\r\n\r\n  useEffect(() => {\r\n    notificationSoundEnabledRef.current = notificationSoundEnabled;\r\n  }, [notificationSoundEnabled]);\r\n  useEffect(() => {\r\n    notificationAlertsEnabledRef.current = notificationAlertsEnabled;\r\n  }, [notificationAlertsEnabled]);\r\n\r\n  usePubSub(`CHANGE_MODE_${mMeeting?.localParticipant?.id}`, {\r\n    onMessageReceived: (data) => {\r\n      if (data.message.mode === meetingModes.CONFERENCE) {\r\n        setReqModeInfo({\r\n          enabled: true,\r\n          senderId: data.senderId,\r\n          mode: data.message.mode,\r\n          accept: () => {},\r\n          reject: () => {},\r\n        });\r\n      } else {\r\n        setMeetingMode(data.message.mode);\r\n        publishRef.current(data.message.mode, { persist: true });\r\n\r\n        const muteMic = mMeetingRef.current?.muteMic;\r\n        const disableWebcam = mMeetingRef.current?.disableWebcam;\r\n        const disableScreenShare = mMeetingRef.current?.disableScreenShare;\r\n\r\n        muteMic();\r\n        disableWebcam();\r\n        disableScreenShare();\r\n\r\n        (participantRef.current?.pinState?.share ||\r\n          participantRef.current?.pinState?.cam) &&\r\n          participantRef.current?.unpin();\r\n\r\n        setSideBarMode(null);\r\n      }\r\n    },\r\n  });\r\n\r\n  const { publish: invitatioAcceptedPublish } = usePubSub(\r\n    `INVITATION_ACCEPT_BY_COHOST`,\r\n    {\r\n      onMessageReceived: (data) => {\r\n        if (notificationSoundEnabledRef.current) {\r\n          new Audio(\r\n            `https://static.videosdk.live/prebuilt/notification.mp3`\r\n          ).play();\r\n        }\r\n        if (notificationAlertsEnabledRef.current) {\r\n          enqueueSnackbar(`${data.senderName} has been added as a Co-host`);\r\n        }\r\n      },\r\n      onOldMessagesReceived: (messages) => {},\r\n    }\r\n  );\r\n\r\n  const { publish: invitatioRejectedPublish } = usePubSub(\r\n    `INVITATION_REJECT_BY_COHOST`,\r\n    {\r\n      onMessageReceived: (data) => {\r\n        if (data.message.senderId === participantRef.current.participant.id) {\r\n          if (notificationSoundEnabledRef.current) {\r\n            new Audio(\r\n              `https://static.videosdk.live/prebuilt/notification.mp3`\r\n            ).play();\r\n          }\r\n\r\n          if (notificationAlertsEnabledRef.current) {\r\n            enqueueSnackbar(\r\n              `${data.senderName} has rejected the request to become Co-host`\r\n            );\r\n          }\r\n        }\r\n      },\r\n      onOldMessagesReceived: (messages) => {},\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      publishRef.current(meetingMode, { persist: true });\r\n    }, 2000);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ConfirmBox\r\n        open={reqModeInfo.enabled}\r\n        successText={\"Accept\"}\r\n        rejectText={\"Deny\"}\r\n        onReject={() => {\r\n          setReqModeInfo(reqInfoDefaultState);\r\n          invitatioRejectedPublish(\r\n            { senderId: reqModeInfo.senderId },\r\n            { persist: true }\r\n          );\r\n        }}\r\n        onSuccess={() => {\r\n          setMeetingMode(reqModeInfo.mode);\r\n          publishRef.current(reqModeInfo.mode, { persist: true });\r\n          setReqModeInfo(reqInfoDefaultState);\r\n          invitatioAcceptedPublish({}, { persist: true });\r\n        }}\r\n        title={`Request to become a Co-host`}\r\n        subTitle={`Host has requested you to become a Co-host`}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModeListner;\r\n","import { useMeeting, useParticipant } from \"@videosdk.live/react-sdk\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { appEvents, eventEmitter } from \"../../utils/common\";\r\n\r\nconst PauseInvisibleParticipant = ({ participantId, isVisible }) => {\r\n  const {\r\n    webcamStream,\r\n    webcamOn,\r\n    isLocal,\r\n    consumeWebcamStreams,\r\n    stopConsumingWebcamStreams,\r\n  } = useParticipant(participantId);\r\n\r\n  useEffect(() => {\r\n    if (!isLocal) {\r\n      if (isVisible) {\r\n        // console.log(\"resuming participant stream\", participantId);\r\n        // typeof webcamStream?.resume === \"function\" && webcamStream?.resume();\r\n        consumeWebcamStreams();\r\n      } else {\r\n        // console.log(\"pausing participant stream\", participantId);\r\n        // typeof webcamStream?.pause === \"function\" && webcamStream?.pause();\r\n        stopConsumingWebcamStreams();\r\n      }\r\n    }\r\n  }, [isLocal, isVisible]);\r\n\r\n  return <></>;\r\n};\r\n\r\nconst PauseInvisibleParticipants = () => {\r\n  const [visibleParticipantIds, setVisibleParticipantIds] = useState([]);\r\n\r\n  const mMeeting = useMeeting();\r\n\r\n  const _handleParticipantVisible = ({ participantId }) => {\r\n    // console.log(\"Participant Visible \", participantId);\r\n    setVisibleParticipantIds((s) => [...new Set([...s, participantId])]);\r\n  };\r\n\r\n  const _handleParticipantInvisible = ({ participantId }) => {\r\n    // console.log(\"Participant NOT Visible \", participantId);\r\n    setVisibleParticipantIds((s) => s.filter((s) => s !== participantId));\r\n  };\r\n\r\n  useEffect(() => {\r\n    eventEmitter.on(appEvents[\"participant-visible\"], ({ participantId }) => {\r\n      // console.log(\"Evevnt Participant Visible\");\r\n      _handleParticipantVisible({ participantId });\r\n    });\r\n    eventEmitter.on(\r\n      appEvents[\"participant-invisible\"],\r\n      _handleParticipantInvisible\r\n    );\r\n\r\n    return () => {\r\n      eventEmitter.off(\r\n        appEvents[\"participant-visible\"],\r\n        _handleParticipantVisible\r\n      );\r\n      eventEmitter.off(\r\n        appEvents[\"participant-invisible\"],\r\n        _handleParticipantInvisible\r\n      );\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {[...mMeeting.participants.keys()].map((participantId) => (\r\n        <PauseInvisibleParticipant\r\n          key={`PauseInvisibleParticipant_${participantId}`}\r\n          participantId={participantId}\r\n          isVisible={visibleParticipantIds.find((pId) => pId === participantId)}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PauseInvisibleParticipants;\r\n","import { usePubSub } from \"@videosdk.live/react-sdk\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport {\r\n  sideBarModes,\r\n  sideBarNestedModes,\r\n  useMeetingAppContext,\r\n} from \"../MeetingAppContextDef\";\r\n\r\nconst PollListner = ({ pollId }) => {\r\n  const { setCreatedPolls } = useMeetingAppContext();\r\n\r\n  usePubSub(`SUBMIT_A_POLL_${pollId}`, {\r\n    onMessageReceived: ({ message, senderId: participantId, timestamp }) => {\r\n      setCreatedPolls((s) =>\r\n        s.map((_poll) =>\r\n          pollId === _poll.id\r\n            ? {\r\n                ..._poll,\r\n                submissions: [\r\n                  ..._poll.submissions,\r\n                  { optionId: message.optionId, participantId, timestamp },\r\n                ],\r\n              }\r\n            : _poll\r\n        )\r\n      );\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      const sortedMappedMessages = messages\r\n        // .sort((a, b) => {\r\n        //   if (a.timestamp > b.timestamp) {\r\n        //     return -1;\r\n        //   }\r\n        //   if (a.timestamp < b.timestamp) {\r\n        //     return 1;\r\n        //   }\r\n        //   return 0;\r\n        // })\r\n        .map(({ senderId: participantId, timestamp, message }) => {\r\n          const { optionId } = message;\r\n\r\n          return {\r\n            optionId,\r\n            participantId,\r\n            timestamp,\r\n          };\r\n        });\r\n\r\n      setCreatedPolls((s) => {\r\n        return s.map((_poll) => {\r\n          if (pollId === _poll.id) {\r\n            return { ..._poll, submissions: sortedMappedMessages };\r\n          } else {\r\n            return _poll;\r\n          }\r\n        });\r\n      });\r\n    },\r\n  });\r\n\r\n  return <></>;\r\n};\r\n\r\nconst PollsListner = () => {\r\n  const {\r\n    polls,\r\n    setPolls,\r\n    draftPolls,\r\n    setDraftPolls,\r\n    setCreatedPolls,\r\n    setEndedPolls,\r\n    setSubmissions,\r\n    notificationSoundEnabled,\r\n    notificationAlertsEnabled,\r\n    setSideBarMode,\r\n    setSideBarNestedMode,\r\n  } = useMeetingAppContext();\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  usePubSub(`CREATE_POLL`, {\r\n    onMessageReceived: ({ message, timestamp }) => {\r\n      // setPolls((s) => [\r\n      //   ...s,\r\n      //   { ...message, createdAt: timestamp, submissions: [] },\r\n      // ]);\r\n\r\n      setCreatedPolls((s) => [\r\n        { ...message, createdAt: timestamp, submissions: [] },\r\n        ...s,\r\n      ]);\r\n\r\n      if (notificationSoundEnabled) {\r\n        new Audio(\r\n          `https://static.videosdk.live/prebuilt/notification.mp3`\r\n        ).play();\r\n      }\r\n\r\n      if (notificationAlertsEnabled) {\r\n        enqueueSnackbar(\"New Poll Asked 📊\");\r\n        setSideBarMode(sideBarModes.ACTIVITIES);\r\n        setSideBarNestedMode(sideBarNestedModes.POLLS);\r\n      }\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      // const sortedMessage = messages.sort((a, b) => {\r\n      //   if (a.timestamp > b.timestamp) {\r\n      //     return -1;\r\n      //   }\r\n      //   if (a.timestamp < b.timestamp) {\r\n      //     return 1;\r\n      //   }\r\n      //   return 0;\r\n      // });\r\n      // const newPolls =sortedMessage.map(({ message, timestamp }) => {\r\n      //   return { ...message, createdAt: timestamp };\r\n      // });\r\n\r\n      // setPolls(newPolls);\r\n\r\n      setCreatedPolls((s) => [\r\n        ...s,\r\n        ...messages\r\n          .sort((a, b) =>\r\n            a.timestamp > b.timestamp ? -1 : a.timestamp < b.timestamp ? 1 : 0\r\n          )\r\n          .map(({ message, timestamp }) => ({\r\n            ...message,\r\n            createdAt: timestamp,\r\n            submissions: [],\r\n          })),\r\n      ]);\r\n    },\r\n  });\r\n\r\n  usePubSub(`END_POLL`, {\r\n    onMessageReceived: ({ message }) => {\r\n      setEndedPolls((s) => [...s, { pollId: message.pollId }]);\r\n\r\n      // console.log(\"END_POLL message onMessageReceived\", message);\r\n      // setPolls((s) => {\r\n      //   return s.map((_poll) => {\r\n      //     console.log(message.pollId, _poll.id);\r\n      //     if (message.pollId === _poll.id) {\r\n      //       return { ..._poll, isActive: false };\r\n      //     } else {\r\n      //       return _poll;\r\n      //     }\r\n      //   });\r\n      // });\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      setEndedPolls((s) => [\r\n        ...s,\r\n        ...messages.map(({ message }) => ({ pollId: message.pollId })),\r\n      ]);\r\n\r\n      // console.log(\"message onOldMessagesReceived\", messages);\r\n      // setPolls((s) => {\r\n      //   return s.map((_poll) => {\r\n      //     const isEnded =\r\n      //       messages.findIndex(({ message }) => {\r\n      //         return message.pollId === _poll.id;\r\n      //       }) !== -1;\r\n\r\n      //     if (isEnded) {\r\n      //       return { ..._poll, isActive: false };\r\n      //     } else {\r\n      //       return _poll;\r\n      //     }\r\n      //   });\r\n      // });\r\n    },\r\n  });\r\n\r\n  usePubSub(`DRAFT_A_POLL`, {\r\n    onMessageReceived: ({ message }) => {\r\n      setDraftPolls((s) => [...s, message]);\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      const sortedMessage = messages.sort((a, b) => {\r\n        if (a.timestamp > b.timestamp) {\r\n          return -1;\r\n        }\r\n        if (a.timestamp < b.timestamp) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n      const newPolls = sortedMessage.map(({ message }) => {\r\n        return { ...message };\r\n      });\r\n      setDraftPolls(newPolls);\r\n    },\r\n  });\r\n\r\n  usePubSub(`REMOVE_POLL_FROM_DRAFT`, {\r\n    onMessageReceived: ({ message }) => {\r\n      setDraftPolls((s) => {\r\n        return s.filter((_poll) => {\r\n          if (message.pollId === _poll.id) {\r\n            return false;\r\n          } else {\r\n            return true;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      setDraftPolls((s) =>\r\n        s.filter(\r\n          (_poll) =>\r\n            messages.findIndex(({ message }) => {\r\n              return message.pollId === _poll.id;\r\n            }) === -1\r\n        )\r\n      );\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {polls?.map((poll) => (\r\n        <PollListner key={`poll_listner_${poll.id}`} pollId={poll.id} />\r\n      ))}\r\n      {/* {draftPolls?.map((poll) => {\r\n        return <PollListner poll={poll} />;\r\n      })} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PollsListner;\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport MainViewContainer from \"./mainViewContainer/MainViewContainer\";\r\nimport SideViewContainer from \"./sideViewContainer/SideViewContainer\";\r\nimport TopBar from \"./TopBar\";\r\nimport {\r\n  meetingLayouts,\r\n  sideBarNestedModes,\r\n  useMeetingAppContext,\r\n} from \"../MeetingAppContextDef\";\r\nimport useSortActiveParticipants from \"./useSortActiveParticipants\";\r\nimport { useMeeting } from \"@videosdk.live/react-sdk\";\r\nimport useIsTab from \"../utils/useIsTab\";\r\nimport useIsMobile from \"../utils/useIsMobile\";\r\nimport { usePubSub, Constants } from \"@videosdk.live/react-sdk\";\r\nimport {\r\n  appEvents,\r\n  eventEmitter,\r\n  getUniqueId,\r\n  json_verify,\r\n  nameTructed,\r\n  trimSnackBarText,\r\n} from \"../utils/common\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport useRaisedHandParticipants from \"./useRaisedHandParticipants\";\r\nimport MediaRequested from \"../components/MediaRequested\";\r\nimport RequestedEntries from \"../components/RequestedEntries\";\r\nimport ClickAnywhereToContinue from \"../components/ClickAnywhereToContinue\";\r\nimport PinnedLayoutViewContainer from \"./pinnedLayoutViewContainer/PinnedLayoutViewContainer\";\r\nimport ParticipantsAudioPlayer from \"./mainViewContainer/ParticipantsAudioPlayer\";\r\nimport useWhiteBoard from \"./useWhiteBoard\";\r\nimport ConfirmBox from \"../components/ConfirmBox\";\r\nimport WaitingToJoin from \"../components/WaitingToJoin\";\r\nimport HLSContainer from \"./hlsViewContainer/HLSContainer\";\r\nimport ModeListner from \"../components/ModeListner\";\r\nimport useIsRecording from \"./useIsRecording\";\r\nimport useIsLivestreaming from \"./useIsLivestreaming\";\r\nimport useIsHls from \"./useIsHls\";\r\nimport PauseInvisibleParticipants from \"./mainViewContainer/PauseInvisibleParticipants\";\r\nimport {\r\n  meetingModes,\r\n  RECORDER_MAX_GRID_SIZE,\r\n  RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED,\r\n} from \"../CONSTS\";\r\nimport { Box, CircularProgress } from \"@material-ui/core\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport PollsListner from \"../components/PollListner\";\r\n\r\nconst getPinMsg = ({\r\n  localParticipant,\r\n  participantId,\r\n  pinnedBy,\r\n  state,\r\n  pinnedByDisplayName,\r\n  partcipantDisplayName,\r\n}) => {\r\n  const pinEnabled = state.cam || state.share;\r\n  const pinnedSelf = participantId === pinnedBy;\r\n  const pinStateText = pinEnabled ? \"pinned\" : \"unpinned\";\r\n  const localParticipantWasPinned = localParticipant === participantId;\r\n  const localParticipantPinned = localParticipant === pinnedBy;\r\n\r\n  if (pinnedSelf && localParticipantWasPinned && localParticipantPinned) {\r\n    return `You ${pinStateText} yourself`;\r\n  } else if (pinnedSelf && !localParticipantWasPinned) {\r\n    return `${nameTructed(partcipantDisplayName, 15)}  was ${pinStateText}`;\r\n  } else if (!localParticipantWasPinned && !localParticipantPinned) {\r\n    return `${nameTructed(\r\n      partcipantDisplayName,\r\n      15\r\n    )} was ${pinStateText} by ${nameTructed(pinnedByDisplayName, 15)}`;\r\n  } else if (localParticipantWasPinned && !localParticipantPinned) {\r\n    return `You were ${pinStateText} by ${nameTructed(\r\n      pinnedByDisplayName,\r\n      15\r\n    )}`;\r\n  } else if (!localParticipantWasPinned && localParticipantPinned) {\r\n    return ` You ${pinStateText} ${nameTructed(partcipantDisplayName, 15)}`;\r\n  } else if (!pinnedBy) {\r\n    if (localParticipantWasPinned) {\r\n      return `You were ${pinStateText}`;\r\n    } else {\r\n      return `${nameTructed(partcipantDisplayName, 15)} was ${pinStateText}`;\r\n    }\r\n  }\r\n};\r\n\r\nconst MeetingContainer = () => {\r\n  const showJoinNotificationRef = useRef(false);\r\n  const localParticipantAutoPinnedOnShare = useRef(false);\r\n\r\n  const mMeetingRef = useRef();\r\n\r\n  const [containerHeight, setContainerHeight] = useState(0);\r\n  const [meetingError, setMeetingError] = useState(false);\r\n  const [containerWidth, setContainerWidth] = useState(0);\r\n  const [localParticipantAllowedJoin, setLocalParticipantAllowedJoin] =\r\n    useState(null);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  useWhiteBoard();\r\n\r\n  useSortActiveParticipants();\r\n  const { participantRaisedHand } = useRaisedHandParticipants();\r\n  const isLiveStreaming = useIsLivestreaming();\r\n  const isRecording = useIsRecording();\r\n  const isHls = useIsHls();\r\n\r\n  const isLiveStreamingRef = useRef(isLiveStreaming);\r\n  const isRecordingRef = useRef(isRecording);\r\n  const isHlsRef = useRef(isHls);\r\n\r\n  const sideBarContainerWidth = useResponsiveSize({\r\n    xl: 400,\r\n    lg: 360,\r\n    md: 320,\r\n    sm: 280,\r\n    xs: 240,\r\n  });\r\n\r\n  useEffect(() => {\r\n    containerRef.current?.offsetHeight &&\r\n      setContainerHeight(containerRef.current.offsetHeight);\r\n    containerRef.current?.offsetWidth &&\r\n      setContainerWidth(containerRef.current.offsetWidth);\r\n\r\n    window.addEventListener(\"resize\", ({ target }) => {\r\n      containerRef.current?.offsetHeight &&\r\n        setContainerHeight(containerRef.current.offsetHeight);\r\n      containerRef.current?.offsetWidth &&\r\n        setContainerWidth(containerRef.current.offsetWidth);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    isLiveStreamingRef.current = isLiveStreaming;\r\n  }, [isLiveStreaming]);\r\n\r\n  useEffect(() => {\r\n    isRecordingRef.current = isRecording;\r\n  }, [isRecording]);\r\n\r\n  useEffect(() => {\r\n    isHlsRef.current = isHls;\r\n  }, [isHls]);\r\n\r\n  const {\r\n    redirectOnLeave,\r\n    sideBarMode,\r\n    containerRef,\r\n    participantCanToggleRecording,\r\n    participantCanToggleHls,\r\n    participantCanToggleLivestream,\r\n    autoStartLiveStream,\r\n    autoStartRecording,\r\n    autoStartHls,\r\n    recordingWebhookUrl,\r\n    recordingAWSDirPath,\r\n    liveStreamOutputs,\r\n    askJoin,\r\n    notificationSoundEnabled,\r\n    meetingLayout,\r\n    selectedMic,\r\n    selectedWebcam,\r\n    joinScreenWebCam,\r\n    joinScreenMic,\r\n    canDrawOnWhiteboard,\r\n    setMeetingLeft,\r\n    appMeetingLayout,\r\n    setAppMeetingLayout,\r\n    topbarEnabled,\r\n    notificationAlertsEnabled,\r\n    debug,\r\n    meetingLayoutTopic,\r\n    setLiveStreamConfig,\r\n    liveStreamConfig,\r\n    meetingMode,\r\n    isRecorder,\r\n    setDownstreamUrl,\r\n    setAfterMeetingJoinedHLSState,\r\n  } = useMeetingAppContext();\r\n\r\n  const topBarHeight = topbarEnabled ? 60 : 0;\r\n\r\n  const isTab = useIsTab();\r\n  const isMobile = useIsMobile();\r\n\r\n  const { type, priority, gridSize } = useMemo(\r\n    () => ({\r\n      type: appMeetingLayout.type,\r\n      priority: appMeetingLayout.priority,\r\n      gridSize: appMeetingLayout.gridSize,\r\n    }),\r\n    [appMeetingLayout]\r\n  );\r\n\r\n  const liveStreamConfigRef = useRef(liveStreamConfig);\r\n  const typeRef = useRef(type);\r\n  const priorityRef = useRef(priority);\r\n  const gridSizeRef = useRef(gridSize);\r\n  const meetingModeRef = useRef(meetingMode);\r\n\r\n  useEffect(() => {\r\n    liveStreamConfigRef.current = liveStreamConfig;\r\n  }, [liveStreamConfig]);\r\n\r\n  useEffect(() => {\r\n    typeRef.current = type;\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    priorityRef.current = priority;\r\n  }, [priority]);\r\n\r\n  useEffect(() => {\r\n    gridSizeRef.current = gridSize;\r\n  }, [gridSize]);\r\n\r\n  useEffect(() => {\r\n    meetingModeRef.current = meetingMode;\r\n  }, [meetingMode]);\r\n\r\n  usePubSub(meetingLayoutTopic, {\r\n    onMessageReceived: (data) => {\r\n      setAppMeetingLayout({\r\n        ...data.message.layout,\r\n        gridSize: isRecorder\r\n          ? mMeetingRef.current?.presenterId\r\n            ? data.message.layout.gridSize >\r\n              RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n              ? RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n              : data.message.layout.gridSize\r\n            : data.message.layout.gridSize > RECORDER_MAX_GRID_SIZE\r\n            ? RECORDER_MAX_GRID_SIZE\r\n            : data.message.layout.gridSize\r\n          : data.message.layout.gridSize,\r\n      });\r\n    },\r\n    onOldMessagesReceived: (messages) => {\r\n      const latestMessage = messages.sort((a, b) => {\r\n        if (a.timestamp > b.timestamp) {\r\n          return -1;\r\n        }\r\n        if (a.timestamp < b.timestamp) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })[0];\r\n\r\n      if (latestMessage) {\r\n        setAppMeetingLayout({\r\n          ...latestMessage.message.layout,\r\n          gridSize: isRecorder\r\n            ? mMeetingRef.current?.presenterId\r\n              ? latestMessage.message.layout.gridSize >\r\n                RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n                ? RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n                : latestMessage.message.layout.gridSize\r\n              : latestMessage.message.layout.gridSize > RECORDER_MAX_GRID_SIZE\r\n              ? RECORDER_MAX_GRID_SIZE\r\n              : latestMessage.message.layout.gridSize\r\n            : latestMessage.message.layout.gridSize,\r\n        });\r\n      }\r\n    },\r\n  });\r\n\r\n  const { publish: liveStreamConfigPublish } = usePubSub(\"LIVE_STREAM_CONFIG\", {\r\n    onMessageReceived: (data) => {\r\n      setLiveStreamConfig(data.message.config);\r\n    },\r\n\r\n    onOldMessagesReceived: (messages) => {\r\n      const latestMessage = messages.sort((a, b) => {\r\n        if (a.timestamp > b.timestamp) {\r\n          return -1;\r\n        }\r\n        if (a.timestamp < b.timestamp) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })[0];\r\n\r\n      if (latestMessage) {\r\n        setLiveStreamConfig(latestMessage.message.config);\r\n      }\r\n    },\r\n  });\r\n\r\n  const liveStreamConfigPublishRef = useRef();\r\n\r\n  useEffect(() => {\r\n    liveStreamConfigPublishRef.current = liveStreamConfigPublish;\r\n  }, [liveStreamConfigPublish]);\r\n\r\n  const _handleOnMeetingJoined = async () => {\r\n    const { changeWebcam, changeMic, muteMic, disableWebcam } =\r\n      mMeetingRef.current;\r\n\r\n    setTimeout(() => {\r\n      const { startLivestream, startRecording, startHls } = mMeetingRef.current;\r\n\r\n      const isLiveStreaming = isLiveStreamingRef.current;\r\n      const isRecording = isRecordingRef.current;\r\n      const isHls = isHlsRef.current;\r\n\r\n      const outputs = liveStreamConfigRef?.current?.length\r\n        ? liveStreamConfigRef.current\r\n        : liveStreamOutputs?.length\r\n        ? liveStreamOutputs\r\n        : null;\r\n\r\n      const type = typeRef.current;\r\n      const priority = priorityRef.current;\r\n      const gridSize = gridSizeRef.current;\r\n\r\n      const layout = { type, priority, gridSize };\r\n\r\n      //\r\n      //\r\n\r\n      if (autoStartLiveStream && !isLiveStreaming && outputs?.length) {\r\n        startLivestream(outputs, { layout });\r\n\r\n        liveStreamConfigPublishRef.current(\r\n          {\r\n            config: outputs.map((output) => {\r\n              return { ...output, id: getUniqueId() };\r\n            }),\r\n          },\r\n          { persist: true }\r\n        );\r\n      }\r\n\r\n      //\r\n      //\r\n\r\n      if (autoStartRecording && !isRecording) {\r\n        startRecording(recordingWebhookUrl, recordingAWSDirPath, { layout });\r\n      }\r\n\r\n      //\r\n      //\r\n\r\n      if (autoStartHls && !isHls) {\r\n        startHls({ layout });\r\n      }\r\n    }, 3000);\r\n\r\n    if (joinScreenWebCam && selectedWebcam.id) {\r\n      await new Promise((resolve) => {\r\n        disableWebcam();\r\n        setTimeout(() => {\r\n          changeWebcam(selectedWebcam.id);\r\n          resolve();\r\n        }, 500);\r\n      });\r\n    }\r\n\r\n    if (joinScreenMic && selectedMic.id) {\r\n      await new Promise((resolve) => {\r\n        muteMic();\r\n        setTimeout(() => {\r\n          changeMic(selectedMic.id);\r\n          resolve();\r\n        }, 500);\r\n      });\r\n    }\r\n  };\r\n\r\n  const _handleMeetingLeft = () => {\r\n    if (redirectOnLeave && redirectOnLeave !== \"undefined\") {\r\n      window.parent.location = redirectOnLeave;\r\n    } else {\r\n      setMeetingLeft(true);\r\n    }\r\n  };\r\n\r\n  usePubSub(\"CHAT\", {\r\n    onMessageReceived: (data) => {\r\n      const localParticipantId = mMeetingRef.current?.localParticipant?.id;\r\n\r\n      const { senderId, senderName, message } = data;\r\n\r\n      const isLocal = senderId === localParticipantId;\r\n\r\n      if (!isLocal) {\r\n        if (notificationSoundEnabled) {\r\n          new Audio(\r\n            `https://static.videosdk.live/prebuilt/notification.mp3`\r\n          ).play();\r\n        }\r\n        if (notificationAlertsEnabled) {\r\n          enqueueSnackbar(\r\n            trimSnackBarText(`${nameTructed(senderName, 15)} says: ${message}`)\r\n          );\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  usePubSub(\"RAISE_HAND\", {\r\n    onMessageReceived: (data) => {\r\n      const localParticipantId = mMeetingRef.current?.localParticipant?.id;\r\n\r\n      const { senderId, senderName } = data;\r\n\r\n      const isLocal = senderId === localParticipantId;\r\n      if (notificationSoundEnabled) {\r\n        new Audio(\r\n          `https://static.videosdk.live/prebuilt/notification.mp3`\r\n        ).play();\r\n      }\r\n      if (notificationAlertsEnabled) {\r\n        enqueueSnackbar(\r\n          `${isLocal ? \"You\" : nameTructed(senderName, 15)} raised hand 🖐🏼`\r\n        );\r\n      }\r\n      participantRaisedHand(senderId);\r\n    },\r\n  });\r\n\r\n  const _handleChatMessage = (data) => {\r\n    const localParticipantId = mMeetingRef.current?.localParticipant?.id;\r\n\r\n    const { senderId, senderName, text } = data;\r\n\r\n    const isLocal = senderId === localParticipantId;\r\n\r\n    if (json_verify(text)) {\r\n      const { type } = JSON.parse(text);\r\n\r\n      if (type === \"END_CALL\") {\r\n        if (notificationSoundEnabled) {\r\n          new Audio(\r\n            `https://static.videosdk.live/prebuilt/notification.mp3`\r\n          ).play();\r\n        }\r\n\r\n        if (notificationAlertsEnabled) {\r\n          enqueueSnackbar(\r\n            `${\r\n              isLocal\r\n                ? \"You end the call\"\r\n                : \" This meeting has been ended by host\"\r\n            }`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const _handleParticipantJoined = (data) => {\r\n    // if (showJoinNotificationRef.current) {\r\n    //   const { displayName } = data;\r\n    // if (notificationSoundEnabled) {\r\n    //   new Audio(`https://static.videosdk.live/prebuilt/notification.mp3`).play();\r\n    // }\r\n    // if (notificationAlertsEnabled) {\r\n    //   enqueueSnackbar(`${displayName} joined the meeting`, {});\r\n    // }\r\n    // }\r\n  };\r\n\r\n  const _handleParticipantLeft = (data) => {\r\n    // const { displayName } = data;\r\n    // if (notificationSoundEnabled) {\r\n    // new Audio(`https://static.videosdk.live/prebuilt/notification.mp3`).play();\r\n    // }\r\n    // if (notificationAlertsEnabled) {\r\n    // enqueueSnackbar(`${displayName} left the meeting`, {});\r\n    // }\r\n  };\r\n\r\n  const _handlePresenterChanged = (presenterId) => {\r\n    // reduce grid size in recorder if presenter changes\r\n    if (isRecorder) {\r\n      if (presenterId) {\r\n        setAppMeetingLayout((s) => ({\r\n          ...s,\r\n          gridSize:\r\n            s.gridSize > RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n              ? RECORDER_MAX_GRID_SIZE_WITH_SCREENSCHARE_ENABLED\r\n              : s.gridSize,\r\n        }));\r\n      } else {\r\n        setAppMeetingLayout((s) => ({\r\n          ...s,\r\n          gridSize:\r\n            s.gridSize > RECORDER_MAX_GRID_SIZE\r\n              ? RECORDER_MAX_GRID_SIZE\r\n              : s.gridSize,\r\n        }));\r\n      }\r\n    }\r\n\r\n    if (!presenterId && localParticipantAutoPinnedOnShare.current === true) {\r\n      mMeetingRef.current?.localParticipant.unpin();\r\n      localParticipantAutoPinnedOnShare.current = false;\r\n    }\r\n\r\n    const localParticipantId = mMeetingRef.current?.localParticipant?.id;\r\n    const participants = mMeetingRef.current?.participants;\r\n    const pinnedParticipants = new Map(mMeetingRef.current?.pinnedParticipants);\r\n\r\n    const mPresenter = participants.get(presenterId);\r\n\r\n    const isLocal = presenterId === localParticipantId;\r\n\r\n    if (mPresenter) {\r\n      if (isLocal) {\r\n        if (pinnedParticipants.size) {\r\n          const localIsPinned = pinnedParticipants.get(presenterId);\r\n          if (!localIsPinned) {\r\n            localParticipantAutoPinnedOnShare.current = true;\r\n\r\n            mMeetingRef.current?.localParticipant.pin();\r\n          }\r\n        }\r\n      }\r\n      if (\r\n        notificationSoundEnabled &&\r\n        meetingModeRef.current === meetingModes.CONFERENCE\r\n      ) {\r\n        new Audio(\r\n          `https://static.videosdk.live/prebuilt/notification.mp3`\r\n        ).play();\r\n      }\r\n\r\n      if (\r\n        notificationAlertsEnabled &&\r\n        meetingModeRef.current === meetingModes.CONFERENCE\r\n      ) {\r\n        enqueueSnackbar(\r\n          `${\r\n            isLocal ? \"You\" : nameTructed(mPresenter.displayName, 15)\r\n          } started presenting`\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const _handleOnRecordingStarted = () => {};\r\n\r\n  const _handleOnRecordingStopped = () => {};\r\n\r\n  const _handleOnLiveStreamStarted = () => {};\r\n\r\n  const _handleOnLiveStreamStopped = () => {};\r\n\r\n  const _handleOnRecordingStateChanged = ({ status }) => {\r\n    if (\r\n      participantCanToggleRecording &&\r\n      notificationAlertsEnabled &&\r\n      meetingModeRef.current === meetingModes.CONFERENCE &&\r\n      (status === Constants.recordingEvents.RECORDING_STARTED ||\r\n        status === Constants.recordingEvents.RECORDING_STOPPED)\r\n    ) {\r\n      enqueueSnackbar(\r\n        status === Constants.recordingEvents.RECORDING_STARTED\r\n          ? \"Meeting recording is started.\"\r\n          : \"Meeting recording is stopped.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const _handleOnLivestreamStateChanged = ({ status }) => {\r\n    if (\r\n      participantCanToggleLivestream &&\r\n      notificationAlertsEnabled &&\r\n      meetingModeRef.current === meetingModes.CONFERENCE &&\r\n      (status === Constants.livestreamEvents.LIVESTREAM_STARTED ||\r\n        status === Constants.livestreamEvents.LIVESTREAM_STOPPED)\r\n    ) {\r\n      enqueueSnackbar(\r\n        status === Constants.livestreamEvents.LIVESTREAM_STARTED\r\n          ? \"Meeting livestreaming is started.\"\r\n          : \"Meeting livestreaming is stopped.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const _handleOnHlsStarted = (data) => {\r\n    if (\r\n      participantCanToggleHls &&\r\n      notificationAlertsEnabled &&\r\n      meetingModeRef.current === meetingModes.CONFERENCE\r\n    ) {\r\n      enqueueSnackbar(\"Meeting HLS is started.\");\r\n    }\r\n\r\n    setDownstreamUrl(data);\r\n    setAfterMeetingJoinedHLSState(\"STARTED\");\r\n  };\r\n\r\n  const _handleOnHlsStopped = () => {\r\n    if (\r\n      participantCanToggleHls &&\r\n      notificationAlertsEnabled &&\r\n      meetingModeRef.current === meetingModes.CONFERENCE\r\n    ) {\r\n      enqueueSnackbar(\"Meeting HLS is stopped.\");\r\n    }\r\n    setDownstreamUrl(null);\r\n    setAfterMeetingJoinedHLSState(\"STOPPED\");\r\n  };\r\n\r\n  const _handleOnEntryRequested = () => {};\r\n\r\n  const _handleOnEntryResponded = (participantId, decision) => {\r\n    if (mMeetingRef.current?.localParticipant?.id === participantId) {\r\n      if (decision === \"allowed\") {\r\n        setLocalParticipantAllowedJoin(true);\r\n      } else {\r\n        setLocalParticipantAllowedJoin(false);\r\n        setTimeout(() => {\r\n          _handleMeetingLeft();\r\n        }, 3000);\r\n      }\r\n    }\r\n  };\r\n\r\n  const _handleOnPinStateChanged = (data) => {\r\n    let localParticipant = mMeetingRef.current?.localParticipant?.id;\r\n    let participantId = data.participantId;\r\n    let pinnedBy = data.pinnedBy;\r\n    let state = data.state;\r\n\r\n    const pinnedByDisplayName =\r\n      mMeetingRef.current.participants.get(pinnedBy)?.displayName || \"\";\r\n    const partcipantDisplayName =\r\n      mMeetingRef.current.participants.get(participantId)?.displayName || \"\";\r\n\r\n    if (\r\n      showJoinNotificationRef.current &&\r\n      notificationAlertsEnabled &&\r\n      meetingModeRef.current === meetingModes.CONFERENCE\r\n    ) {\r\n      enqueueSnackbar(\r\n        getPinMsg({\r\n          localParticipant,\r\n          participantId,\r\n          pinnedBy,\r\n          state,\r\n          partcipantDisplayName,\r\n          pinnedByDisplayName,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const _handleOnError = (data) => {\r\n    const { code, message } = data;\r\n\r\n    const joiningErrCodes = [\r\n      4001, 4002, 4003, 4004, 4005, 4006, 4007, 4008, 4009, 4010,\r\n    ];\r\n\r\n    const isJoiningError = joiningErrCodes.findIndex((c) => c === code) !== -1;\r\n    const isCriticalError = `${code}`.startsWith(\"500\");\r\n\r\n    new Audio(\r\n      isCriticalError\r\n        ? `https://static.videosdk.live/prebuilt/notification_critical_err.mp3`\r\n        : `https://static.videosdk.live/prebuilt/notification_err.mp3`\r\n    ).play();\r\n\r\n    setMeetingError({\r\n      code,\r\n      message: debug\r\n        ? message\r\n        : isJoiningError\r\n        ? \"Unable to join meeting!\"\r\n        : message,\r\n    });\r\n  };\r\n\r\n  const mMeeting = useMeeting({\r\n    onMeetingJoined: _handleOnMeetingJoined,\r\n    onMeetingLeft: _handleMeetingLeft,\r\n    onChatMessage: _handleChatMessage,\r\n    onParticipantJoined: _handleParticipantJoined,\r\n    onParticipantLeft: _handleParticipantLeft,\r\n    onPresenterChanged: _handlePresenterChanged,\r\n    onRecordingStarted: _handleOnRecordingStarted,\r\n    onRecordingStopped: _handleOnRecordingStopped,\r\n    onLiveStreamStarted: _handleOnLiveStreamStarted,\r\n    onLiveStreamStopped: _handleOnLiveStreamStopped,\r\n    onEntryRequested: _handleOnEntryRequested,\r\n    onEntryResponded: _handleOnEntryResponded,\r\n    onPinStateChanged: _handleOnPinStateChanged,\r\n    onError: _handleOnError,\r\n    onRecordingStateChanged: _handleOnRecordingStateChanged,\r\n    onLivestreamStateChanged: _handleOnLivestreamStateChanged,\r\n    onHlsStarted: _handleOnHlsStarted,\r\n    onHlsStopped: _handleOnHlsStopped,\r\n  });\r\n\r\n  const _handleToggleFullScreen = () => {\r\n    try {\r\n      if (document.fullscreenElement) {\r\n        document.exitFullscreen();\r\n      } else {\r\n        const elem = containerRef.current;\r\n        if (document.documentElement.requestFullscreen) {\r\n          document.documentElement.requestFullscreen().catch((e) => {\r\n            console.log(`request to full screen is rejected due to ${e}`);\r\n          });\r\n        } else if (document.documentElement.webkitRequestFullscreen) {\r\n          /*  Safari */\r\n          document.documentElement.webkitRequestFullscreen();\r\n        } else if (document.documentElement.msRequestFullscreen) {\r\n          /*  IE11 */\r\n          document.documentElement.msRequestFullscreen();\r\n        }\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    mMeetingRef.current = mMeeting;\r\n  }, [mMeeting]);\r\n\r\n  useEffect(() => {\r\n    eventEmitter.on(appEvents[\"toggle-full-screen\"], _handleToggleFullScreen);\r\n    setTimeout(() => {\r\n      showJoinNotificationRef.current = true;\r\n    }, 3000);\r\n\r\n    return () => {\r\n      eventEmitter.off(\r\n        appEvents[\"toggle-full-screen\"],\r\n        _handleToggleFullScreen\r\n      );\r\n    };\r\n  }, []);\r\n\r\n  const whiteboardToolbarWidth = canDrawOnWhiteboard ? 48 : 0;\r\n  const whiteboardSpacing = canDrawOnWhiteboard ? 16 : 0;\r\n\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      style={{ height: \"100vh\", overflow: \"hidden\", position: \"relative\" }}\r\n    >\r\n      <ConfirmBox\r\n        open={meetingError}\r\n        successText=\"OKAY\"\r\n        onSuccess={() => {\r\n          setMeetingError(false);\r\n        }}\r\n        title={`Error Code: ${meetingError.code}`}\r\n        subTitle={meetingError.message}\r\n      />\r\n\r\n      {typeof localParticipantAllowedJoin === \"boolean\" ? (\r\n        localParticipantAllowedJoin ? (\r\n          <>\r\n            <ModeListner />\r\n            <PollsListner />\r\n            <PauseInvisibleParticipants />\r\n\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                flexDirection: isTab || isMobile ? \"column-reverse\" : \"column\",\r\n              }}\r\n            >\r\n              {topbarEnabled && <TopBar {...{ topBarHeight }} />}\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  height: containerHeight - topBarHeight,\r\n                  position: \"relative\",\r\n                }}\r\n              >\r\n                {meetingMode === meetingModes.CONFERENCE ? (\r\n                  <>\r\n                    {mMeeting?.pinnedParticipants.size > 0 &&\r\n                    (meetingLayout === meetingLayouts.SPOTLIGHT ||\r\n                      meetingLayout === meetingLayouts.SIDEBAR) ? (\r\n                      <PinnedLayoutViewContainer\r\n                        {...{\r\n                          height: containerHeight - topBarHeight,\r\n                          width:\r\n                            containerWidth -\r\n                            (isTab || isMobile\r\n                              ? 0\r\n                              : typeof sideBarMode === \"string\"\r\n                              ? sideBarContainerWidth\r\n                              : 0),\r\n                          whiteboardToolbarWidth,\r\n                          whiteboardSpacing,\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <MainViewContainer\r\n                        {...{\r\n                          height: containerHeight - topBarHeight,\r\n                          width:\r\n                            containerWidth -\r\n                            (isTab || isMobile\r\n                              ? 0\r\n                              : typeof sideBarMode === \"string\"\r\n                              ? sideBarContainerWidth\r\n                              : 0),\r\n                          whiteboardToolbarWidth,\r\n                          whiteboardSpacing,\r\n                        }}\r\n                      />\r\n                    )}\r\n                    <ParticipantsAudioPlayer />\r\n                    <MediaRequested />\r\n                    <RequestedEntries />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <HLSContainer\r\n                      {...{\r\n                        width:\r\n                          containerWidth -\r\n                          (isTab || isMobile\r\n                            ? 0\r\n                            : typeof sideBarMode === \"string\"\r\n                            ? sideBarContainerWidth\r\n                            : 0),\r\n                      }}\r\n                    />\r\n                  </>\r\n                )}\r\n\r\n                <SideViewContainer\r\n                  {...{\r\n                    topBarHeight,\r\n                    width: sideBarContainerWidth,\r\n                    height: containerHeight - topBarHeight,\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <ClickAnywhereToContinue title=\"Entry denied!\" />\r\n        )\r\n      ) : askJoin ? (\r\n        <ClickAnywhereToContinue title=\"Waiting to join...\" />\r\n      ) : !mMeeting.isMeetingJoined ? (\r\n        isRecorder ? (\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              flexDirection: \"column\",\r\n              height: \"100vh\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              backgroundColor: theme.palette.background.default,\r\n            }}\r\n          >\r\n            <CircularProgress size={\"4rem\"} />\r\n          </Box>\r\n        ) : (\r\n          <WaitingToJoin />\r\n        )\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeetingContainer;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  ThemeProvider,\r\n  Typography,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport useResponsiveSize from \"../../utils/useResponsiveSize\";\r\nimport useWindowSize from \"../../utils/useWindowSize\";\r\nimport ConfirmBox from \"../ConfirmBox\";\r\n\r\nconst AudioAnalyser = ({ audioTrack }) => {\r\n  const theme = useTheme();\r\n  const audioTrackRef = useRef();\r\n  const audioAnalyserIntervalRef = useRef();\r\n\r\n  const [volume, setVolume] = useState(null);\r\n\r\n  const analyseAudio = (audioTrack) => {\r\n    const audioStream = new MediaStream([audioTrack]);\r\n    const audioContext = new AudioContext();\r\n\r\n    const audioSource = audioContext.createMediaStreamSource(audioStream);\r\n    const analyser = audioContext.createAnalyser();\r\n\r\n    analyser.fftSize = 512;\r\n    analyser.minDecibels = -127;\r\n    analyser.maxDecibels = 0;\r\n    analyser.smoothingTimeConstant = 0.4;\r\n\r\n    audioSource.connect(analyser);\r\n\r\n    const volumes = new Uint8Array(analyser.frequencyBinCount);\r\n    const volumeCallback = () => {\r\n      analyser.getByteFrequencyData(volumes);\r\n\r\n      const volumeSum = volumes.reduce((sum, vol) => sum + vol);\r\n      const averageVolume = volumeSum / volumes.length;\r\n\r\n      setVolume(averageVolume);\r\n    };\r\n\r\n    audioAnalyserIntervalRef.current = setInterval(volumeCallback, 100);\r\n  };\r\n\r\n  const stopAudioAnalyse = () => {\r\n    clearInterval(audioAnalyserIntervalRef.current);\r\n  };\r\n\r\n  useEffect(() => {\r\n    audioTrackRef.current = audioTrack;\r\n\r\n    if (audioTrack) {\r\n      analyseAudio(audioTrack);\r\n    } else {\r\n      stopAudioAnalyse();\r\n    }\r\n  }, [audioTrack]);\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        width: 80,\r\n        height: 100,\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      {[\r\n        {\r\n          borderBottomLeftRadius: 0,\r\n          borderBottomRightRadius: 0,\r\n          borderTopLeftRadius: 100,\r\n          borderTopRightRadius: 100,\r\n          top: 0,\r\n          alignItems: \"flex-end\",\r\n        },\r\n        {\r\n          borderBottomLeftRadius: 100,\r\n          borderBottomRightRadius: 100,\r\n          borderTopLeftRadius: 0,\r\n          borderTopRightRadius: 0,\r\n          top: \"50%\",\r\n          alignItems: \"flex-start\",\r\n        },\r\n      ].map(\r\n        (\r\n          {\r\n            alignItems,\r\n            top,\r\n            borderBottomLeftRadius,\r\n            borderBottomRightRadius,\r\n            borderTopLeftRadius,\r\n            borderTopRightRadius,\r\n          },\r\n          i\r\n        ) => (\r\n          <Box\r\n            key={`audio_analyzer_i_${i}`}\r\n            style={{\r\n              height: \"50%\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-evenly\",\r\n              alignItems,\r\n              position: \"absolute\",\r\n              top,\r\n              left: 0,\r\n              right: 0,\r\n            }}\r\n          >\r\n            {[40, 70, 100, 100, 70, 40].map((height, j) => (\r\n              <Box\r\n                key={`audio_analyzer_j_${j}`}\r\n                style={{\r\n                  borderBottomLeftRadius,\r\n                  borderBottomRightRadius,\r\n                  borderTopLeftRadius,\r\n                  borderTopRightRadius,\r\n                  backgroundColor: theme.palette.primary.main,\r\n                  width: 80 / 12,\r\n                  height: `${(volume / 256) * height}%`,\r\n                  transition: \"all 50ms\",\r\n                  transitionTimingFunction: \"ease-in\",\r\n                }}\r\n              ></Box>\r\n            ))}\r\n          </Box>\r\n        )\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  toggleSelected: {\r\n    backgroundColor: \"#1178F8\",\r\n    color: \"#fff\",\r\n  },\r\n  video: {\r\n    borderRadius: \"6px\",\r\n    backgroundColor: \"#1c1c1c\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    objectFit: \"cover\",\r\n  },\r\n  previewBox: {\r\n    height: \"50vh\",\r\n    position: \"relative\",\r\n  },\r\n  button: {\r\n    \"&:hover\": {\r\n      backgroundColor: \"#1178F8\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SettingDialogueBox({\r\n  open,\r\n  onClose,\r\n  popupVideoPlayerRef,\r\n  webcams,\r\n  mics,\r\n  setting,\r\n  setSetting,\r\n  setSelectedMic,\r\n  setSelectedWebcam,\r\n  changeWebcam,\r\n  changeMic,\r\n  videoTrack,\r\n  audioTrack,\r\n  participantCanToggleSelfMic,\r\n  participantCanToggleSelfWebcam,\r\n}) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const isXStoSM = useMediaQuery(theme.breakpoints.between(\"xs\", \"sm\"));\r\n\r\n  const isXSOnly = useMediaQuery(theme.breakpoints.only(\"xs\"));\r\n  const isSMONly = useMediaQuery(theme.breakpoints.only(\"sm\"));\r\n  const [dlgDevices, setDlgDevices] = useState(false);\r\n\r\n  const [boxHeight, setBoxHeight] = useState(0);\r\n  const boxRef = useRef();\r\n\r\n  const { width: windowWidth } = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    if (boxRef.current && boxRef.current.offsetHeight !== boxHeight) {\r\n      setBoxHeight(boxRef.current.offsetHeight);\r\n    }\r\n  }, [windowWidth]);\r\n\r\n  const handleSetting = (event, n) => {\r\n    setSetting(n);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const internalPadding = useResponsiveSize({\r\n    xl: 3,\r\n    lg: 5,\r\n    md: 2,\r\n    sm: 2,\r\n    xs: 2,\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Grid container>\r\n        <Box>\r\n          <Dialog onClose={handleClose} open={open} maxWidth={\"xl\"}>\r\n            <Box\r\n              p={internalPadding}\r\n              style={{\r\n                width: isXSOnly ? \"100vw\" : isSMONly ? \"50vw\" : \"55vw\",\r\n                display: \"flex\",\r\n                flex: 1,\r\n                flexDirection: \"column\",\r\n                overflow: \"hidden\",\r\n                borderRadius: \"4px\",\r\n              }}\r\n            >\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <Box position={\"absolute\"} top={0} right={0}>\r\n                  <IconButton\r\n                    onClick={() => {\r\n                      handleClose();\r\n                    }}\r\n                  >\r\n                    <CloseIcon></CloseIcon>\r\n                  </IconButton>\r\n                </Box>\r\n                <Typography variant=\"h5\" style={{ fontWeight: \"bold\" }}>\r\n                  Settings\r\n                </Typography>\r\n              </Box>\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flex: 1,\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <Box mt={5}>\r\n                  <Box>\r\n                    {[\r\n                      { value: \"audio\", label: \"Audio\" },\r\n                      { value: \"video\", label: \"Video\" },\r\n                    ].map(({ value, label }) =>\r\n                      (participantCanToggleSelfMic === \"true\" &&\r\n                        label === \"Audio\") ||\r\n                      (participantCanToggleSelfWebcam === \"true\" &&\r\n                        label === \"Video\") ? (\r\n                        <Button\r\n                          classes={{\r\n                            root:\r\n                              setting === value ? classes.button : undefined,\r\n                          }}\r\n                          style={{ borderRadius: 0 }}\r\n                          variant={setting === value ? \"contained\" : \"outlined\"}\r\n                          disableElevation\r\n                          disableRipple\r\n                          color={setting === value ? \"primary\" : \"white\"}\r\n                          size={\"large\"}\r\n                          onClick={() => {\r\n                            handleSetting(null, value);\r\n                          }}\r\n                        >\r\n                          {label}\r\n                        </Button>\r\n                      ) : null\r\n                    )}\r\n                  </Box>\r\n                </Box>\r\n              </Box>\r\n              {setting === \"audio\" && participantCanToggleSelfMic === \"true\" ? (\r\n                <Box ref={boxRef}>\r\n                  <Box style={{ width: \"100%\" }}>\r\n                    <Grid\r\n                      spacing={3}\r\n                      container\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: isXSOnly ? \"column-reverse\" : \"row\",\r\n                      }}\r\n                    >\r\n                      <Grid item xs={12} md={7}>\r\n                        <Box>\r\n                          <Box\r\n                            style={{ display: \"flex\", flexDirection: \"column\" }}\r\n                            mt={isXStoSM ? 0 : 3}\r\n                          >\r\n                            <Box ml={2}>\r\n                              <Typography\r\n                                variant=\"subtitle1\"\r\n                                style={{ fontWeight: \"bold\" }}\r\n                              >\r\n                                Microphone\r\n                              </Typography>\r\n                            </Box>\r\n\r\n                            <FormControl\r\n                              style={{ width: \"100%\", marginTop: 8 }}\r\n                            >\r\n                              <Select\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                value={audioTrack?.getSettings()?.deviceId}\r\n                                onChange={(e) => {\r\n                                  changeMic(e.target.value);\r\n                                }}\r\n                              >\r\n                                {mics?.map((item) => {\r\n                                  return item?.kind === \"audioinput\" ? (\r\n                                    <MenuItem\r\n                                      value={item?.deviceId}\r\n                                      onClick={(e) => {\r\n                                        setSelectedMic((s) => ({\r\n                                          ...s,\r\n                                          id: item?.deviceId,\r\n                                        }));\r\n                                      }}\r\n                                    >\r\n                                      {item?.label}\r\n                                    </MenuItem>\r\n                                  ) : null;\r\n                                })}\r\n                              </Select>\r\n                            </FormControl>\r\n                          </Box>\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={5}>\r\n                        <Box\r\n                          style={{ position: \"relative\" }}\r\n                          mt={isXStoSM ? 0 : 5}\r\n                          p={2}\r\n                        >\r\n                          <Box\r\n                            style={{\r\n                              flex: 1,\r\n                              display: \"flex\",\r\n                              width: isXStoSM ? \"50%\" : \"100%\",\r\n                              height: isXStoSM ? \"50%\" : undefined,\r\n                              paddingTop: !isXSOnly ? \"56.25%\" : \"auto\",\r\n                              position: \"relative\",\r\n                              borderRadius: theme.spacing(1 / 4),\r\n                              overflow: \"hidden\",\r\n                            }}\r\n                          >\r\n                            <Box\r\n                              style={{\r\n                                position: !isXSOnly ? \"absolute\" : \"unset\",\r\n                                top: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                bottom: 0,\r\n                                display: \"flex\",\r\n                                alignItems: \"flex-start\",\r\n                                flexDirection: \"column\",\r\n                                borderRadius: theme.spacing(1),\r\n                                overflow: \"hidden\",\r\n                              }}\r\n                            >\r\n                              <AudioAnalyser audioTrack={audioTrack} />\r\n                            </Box>\r\n                          </Box>\r\n                        </Box>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Box>\r\n                </Box>\r\n              ) : setting === \"video\" &&\r\n                participantCanToggleSelfWebcam === \"true\" ? (\r\n                <Box ref={boxRef}>\r\n                  <Box style={{ width: \"100%\" }}>\r\n                    <Grid\r\n                      spacing={3}\r\n                      container\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: isXSOnly ? \"column-reverse\" : \"row\",\r\n                      }}\r\n                    >\r\n                      <Grid item xs={12} md={7}>\r\n                        <Box>\r\n                          <Box\r\n                            style={{ display: \"flex\", flexDirection: \"column\" }}\r\n                            mt={isXStoSM ? 0 : 3}\r\n                          >\r\n                            <Box ml={2}>\r\n                              <Typography\r\n                                variant=\"subtitle1\"\r\n                                style={{ fontWeight: \"bold\" }}\r\n                              >\r\n                                Camera\r\n                              </Typography>\r\n                            </Box>\r\n                            <FormControl\r\n                              style={{ width: \"100%\", marginTop: 8 }}\r\n                            >\r\n                              <Select\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                value={videoTrack?.getSettings()?.deviceId}\r\n                                onChange={(e) => {\r\n                                  changeWebcam(e.target.value);\r\n                                }}\r\n                              >\r\n                                {webcams?.map((item) => {\r\n                                  return item?.kind === \"videoinput\" ? (\r\n                                    <MenuItem\r\n                                      value={item?.deviceId}\r\n                                      onClick={() => {\r\n                                        setSelectedWebcam((s) => ({\r\n                                          ...s,\r\n                                          id: item?.deviceId,\r\n                                        }));\r\n                                      }}\r\n                                    >\r\n                                      {item?.label}\r\n                                    </MenuItem>\r\n                                  ) : null;\r\n                                })}\r\n                              </Select>\r\n                            </FormControl>\r\n                          </Box>\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={5}>\r\n                        <Box\r\n                          style={{ position: \"relative\" }}\r\n                          mt={isXStoSM ? 0 : 5}\r\n                          p={2}\r\n                        >\r\n                          <Box\r\n                            style={{\r\n                              flex: 1,\r\n                              display: \"flex\",\r\n                              width: isXStoSM ? \"50%\" : \"100%\",\r\n                              height: isXStoSM ? \"50%\" : undefined,\r\n                              paddingTop: !isXSOnly ? \"56.25%\" : \"auto\",\r\n                              position: \"relative\",\r\n                              borderRadius: theme.spacing(1 / 4),\r\n                              overflow: \"hidden\",\r\n                            }}\r\n                          >\r\n                            <Box\r\n                              style={{\r\n                                position: !isXSOnly ? \"absolute\" : \"unset\",\r\n                                top: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                bottom: 0,\r\n                                backgroundColor: theme.palette.primary.light,\r\n                                display: \"flex\",\r\n                                flexDirection: \"column\",\r\n                                borderRadius: theme.spacing(1),\r\n                                overflow: \"hidden\",\r\n                              }}\r\n                            >\r\n                              <video\r\n                                autoPlay\r\n                                playsInline\r\n                                muted\r\n                                ref={popupVideoPlayerRef}\r\n                                controls={false}\r\n                                className={classes.video + \" flip\"}\r\n                              />\r\n                            </Box>\r\n                          </Box>\r\n                        </Box>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Box>\r\n                </Box>\r\n              ) : null}\r\n            </Box>\r\n          </Dialog>\r\n\r\n          <ConfirmBox\r\n            open={dlgDevices}\r\n            title=\"Mic or webcam not available\"\r\n            subTitle=\"Please connect a mic and webcam to speak and share your video in the meeting. You can also join without them.\"\r\n            successText=\"DISMISS\"\r\n            onSuccess={() => {\r\n              setDlgDevices(false);\r\n            }}\r\n          />\r\n        </Box>\r\n      </Grid>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n  Tooltip,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\nimport useCopyClipboard from \"react-use-clipboard\";\r\nimport { Keyboard } from \"@material-ui/icons\";\r\nimport { CopyIcon } from \"../../icons\";\r\nimport useWindowSize from \"../../utils/useWindowSize\";\r\n\r\nexport default function MeetingDetailModal({\r\n  internalPadding,\r\n  name,\r\n  setName,\r\n  nameErr,\r\n  setNameErr,\r\n  startMeeting,\r\n  meetingTitle,\r\n  meetingUrl,\r\n}) {\r\n  const theme = useTheme();\r\n  const [descriptionBoxHeight, setDescriptionBoxHeight] = useState(0);\r\n  const [copyBoxHeight, setCopyBoxHeight] = useState(0);\r\n\r\n  const [copied, setCopied] = useCopyClipboard(meetingUrl, {\r\n    successDuration: 4000,\r\n  });\r\n\r\n  const descriptionBoxRef = useRef();\r\n  const copyBoxRef = useRef();\r\n\r\n  const handleValidation = () => {\r\n    let isValid = true;\r\n    if (name.length < 3) {\r\n      isValid = false;\r\n      setNameErr(true);\r\n      return false;\r\n    } else {\r\n      setNameErr(false);\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  const { width: windowWidth } = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      descriptionBoxRef.current &&\r\n      descriptionBoxRef.current.offsetHeight !== descriptionBoxHeight\r\n    ) {\r\n      setDescriptionBoxHeight(descriptionBoxRef.current.offsetHeight);\r\n    }\r\n    if (\r\n      copyBoxRef.current &&\r\n      copyBoxRef.current.offsetHeight !== copyBoxHeight\r\n    ) {\r\n      setCopyBoxHeight(copyBoxRef.current.offsetHeight);\r\n    }\r\n  }, [windowWidth]);\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flex: 1,\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      {(meetingUrl && meetingTitle) || meetingUrl ? (\r\n        <Card\r\n          style={{\r\n            borderRadius: 10,\r\n            color: theme.palette.primary.contrastText,\r\n          }}\r\n        >\r\n          <Box p={internalPadding}>\r\n            {meetingTitle ? (\r\n              <div\r\n                style={{\r\n                  fontFamily: \"Roboto, sans-serif\",\r\n                  color: theme.palette.primary.contrastText,\r\n                }}\r\n              >\r\n                <LinesEllipsis\r\n                  text={meetingTitle}\r\n                  maxLine=\"3\"\r\n                  ellipsis=\"...\"\r\n                  style={{\r\n                    width: \"100%\",\r\n                    fontSize: \"20px\",\r\n                    fontWeight: \"bold\",\r\n\r\n                    fontFamily: \"inherit\",\r\n                  }}\r\n                />\r\n              </div>\r\n            ) : null}\r\n\r\n            {meetingUrl ? (\r\n              <Box\r\n                ref={copyBoxRef}\r\n                mt={meetingTitle ? 2 : 0}\r\n                p={2.5}\r\n                pt={1}\r\n                pb={1}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  flex: 1,\r\n                  backgroundColor: \"#1C1F2E80\",\r\n                  borderRadius: 4,\r\n                  overflow: \"hidden\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Box\r\n                  style={{\r\n                    overflow: \"hidden\",\r\n                    display: \"flex\",\r\n                    flex: 1,\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    style={{\r\n                      width: \"100%\",\r\n                      textOverflow: \"ellipsis\",\r\n                      overflow: \"hidden\",\r\n                      whiteSpace: \"nowrap\",\r\n                    }}\r\n                    variant=\"subtitle1\"\r\n                  >\r\n                    {meetingUrl}\r\n                  </Typography>\r\n                </Box>\r\n                <Box\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  <Tooltip title={copied ? \"Copied\" : \"Copy\"} aria-label=\"add\">\r\n                    <IconButton\r\n                      style={{\r\n                        padding: 0,\r\n                        margin: 0,\r\n                      }}\r\n                      onClick={(e) => {\r\n                        setCopied(e);\r\n                      }}\r\n                    >\r\n                      <CopyIcon\r\n                        fill={\"#fff\"}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                      />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              </Box>\r\n            ) : null}\r\n          </Box>\r\n        </Card>\r\n      ) : meetingTitle ? (\r\n        <div\r\n          style={{\r\n            fontFamily: \"Roboto, sans-serif\",\r\n            color: theme.palette.primary.contrastText,\r\n          }}\r\n        >\r\n          <LinesEllipsis\r\n            text={meetingTitle}\r\n            maxLine=\"3\"\r\n            ellipsis=\"...\"\r\n            style={{\r\n              width: \"100%\",\r\n              fontSize: \"20px\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      <Box mt={meetingTitle || meetingUrl ? 2 : 0} style={{ width: \"100%\" }}>\r\n        {/* <TextField\r\n          id={\"inputJoin\"}\r\n          placeholder=\"Enter your name\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={name}\r\n          error={nameErr}\r\n          helperText={\r\n            nameErr\r\n              ? \"Enter Minimum 3 Characters\"\r\n              : \"Your name will help everyone identify you in the meeting\"\r\n          }\r\n          onChange={(ev) => {\r\n            setName(ev.target.value);\r\n          }}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <IconButton>\r\n                  <Keyboard\r\n                    style={{\r\n                      color: theme.palette.primary.contrastText,\r\n                    }}\r\n                  />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\"> */}\r\n                <Button\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={(e) => {\r\n                    const isValid = handleValidation();\r\n                    if (isValid) {\r\n                      startMeeting(e);\r\n                    }\r\n                  }}\r\n                  id={\"btnJoin\"}\r\n                >\r\n                  Join\r\n                </Button>\r\n              {/* </InputAdornment>\r\n            ),\r\n          }}\r\n        /> */}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { Videocam, Mic, MicOff, VideocamOff } from \"@material-ui/icons\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\nimport ConfirmBox from \"../components/ConfirmBox\";\r\nimport { CheckboxIcon } from \"../icons\";\r\nimport SettingDialogueBox from \"./joinScreen/SettingDialogueBox\";\r\nimport MeetingDetailModal from \"./joinScreen/MeetingDetailModal\";\r\nimport useWindowSize from \"../utils/useWindowSize\";\r\nimport { meetingModes } from \"../CONSTS\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    margin: theme.spacing(2, 1),\r\n    width: \"500px\",\r\n    \"@media only screen and (max-width: 959.9px)\": {\r\n      width: \"340px\",\r\n    },\r\n  },\r\n\r\n  video: {\r\n    borderRadius: \"10px\",\r\n    backgroundColor: \"#1c1c1c\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    objectFit: \"cover\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n  toggleButton: {\r\n    borderRadius: \"100%\",\r\n    minWidth: \"auto\",\r\n    width: \"44px\",\r\n    height: \"44px\",\r\n  },\r\n\r\n  previewBox: {\r\n    width: \"100%\",\r\n    height: \"45vh\",\r\n    position: \"relative\",\r\n  },\r\n}));\r\n\r\nexport const DotsBoxContainer = ({ type }) => {\r\n  const theme = useTheme();\r\n  const gtThenMD = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        position: \"absolute\",\r\n        top: type === \"top-left\" ? 0 : undefined,\r\n        left: type === \"top-left\" ? 0 : undefined,\r\n        bottom: type === \"bottom-right\" ? 0 : undefined,\r\n        right: type === \"bottom-right\" ? 0 : undefined,\r\n        height: theme.spacing(4 * (gtThenMD ? 3 : 2)),\r\n        width: theme.spacing(4 * (gtThenMD ? 3 : 2)),\r\n        transform:\r\n          type === \"top-left\" ? \"translate(-85%,-45%)\" : \"translate(85%,45%)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      {[0, 1, 2, 3].map((i) => {\r\n        return (\r\n          <Box\r\n            key={`dots_i_${i}`}\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            {[0, 1, 2, 3].map((j) => {\r\n              return (\r\n                <Box\r\n                  key={`dots_j_${j}`}\r\n                  style={{\r\n                    flex: 1,\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Box\r\n                    style={{\r\n                      height: gtThenMD ? 6 : 4,\r\n                      width: gtThenMD ? 6 : 4,\r\n                      borderRadius: gtThenMD ? 6 : 4,\r\n                      backgroundColor: \"gray\",\r\n                    }}\r\n                  ></Box>\r\n                </Box>\r\n              );\r\n            })}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default function JoinMeeting({\r\n  onClick,\r\n  name,\r\n  setName,\r\n  meetingUrl,\r\n  meetingTitle,\r\n  participantCanToggleSelfWebcam,\r\n  participantCanToggleSelfMic,\r\n  micEnabled,\r\n  webcamEnabled,\r\n  setSelectedMic,\r\n  setSelectedWebcam,\r\n  mode,\r\n}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [nameErr, setNameErr] = useState(false);\r\n\r\n  const [setting, setSetting] = useState(\r\n    participantCanToggleSelfWebcam === \"true\"\r\n      ? \"video\"\r\n      : participantCanToggleSelfMic === \"true\"\r\n      ? \"audio\"\r\n      : null\r\n  );\r\n\r\n  const [dlgMuted, setDlgMuted] = useState(false);\r\n  const [dlgDevices, setDlgDevices] = useState(false);\r\n\r\n  const [settingDialogueOpen, setSettingDialogueOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setSettingDialogueOpen(true);\r\n  };\r\n\r\n  const handleClose = (value) => {\r\n    setSettingDialogueOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      _handleTurnOffMic();\r\n      _handleTurnOffWebcam();\r\n    };\r\n  }, []);\r\n\r\n  const [{ webcams, mics }, setDevices] = useState({\r\n    devices: [],\r\n    webcams: [],\r\n    mics: [],\r\n  });\r\n\r\n  const [boxHeight, setBoxHeight] = useState(0);\r\n\r\n  const audioAnalyserIntervalRef = useRef();\r\n\r\n  const videoPlayerRef = useRef();\r\n  const popupVideoPlayerRef = useRef();\r\n  const popupAudioPlayerRef = useRef();\r\n\r\n  const [videoTrack, setVideoTrack] = useState(null);\r\n  const [audioTrack, setAudioTrack] = useState(null);\r\n\r\n  const webcamOn = useMemo(() => !!videoTrack, [videoTrack]);\r\n  const micOn = useMemo(() => !!audioTrack, [audioTrack]);\r\n\r\n  const videoTrackRef = useRef();\r\n  const audioTrackRef = useRef();\r\n\r\n  const { width: windowWidth } = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      videoPlayerRef.current &&\r\n      videoPlayerRef.current.offsetHeight !== boxHeight\r\n    ) {\r\n      setBoxHeight(videoPlayerRef.current.offsetHeight);\r\n    }\r\n  }, [windowWidth, boxHeight]);\r\n\r\n  const changeWebcam = async (deviceId) => {\r\n    const currentvideoTrack = videoTrackRef.current;\r\n\r\n    if (currentvideoTrack) {\r\n      currentvideoTrack.stop();\r\n    }\r\n\r\n    const stream = await navigator.mediaDevices.getUserMedia({\r\n      video: { deviceId },\r\n    });\r\n    const videoTracks = stream.getVideoTracks();\r\n\r\n    const videoTrack = videoTracks.length ? videoTracks[0] : null;\r\n\r\n    setVideoTrack(videoTrack);\r\n  };\r\n  const changeMic = async (deviceId) => {\r\n    const currentAudioTrack = audioTrackRef.current;\r\n    currentAudioTrack && currentAudioTrack.stop();\r\n    const stream = await navigator.mediaDevices.getUserMedia({\r\n      audio: { deviceId },\r\n    });\r\n    const audioTracks = stream.getAudioTracks();\r\n\r\n    const audioTrack = audioTracks.length ? audioTracks[0] : null;\r\n    clearInterval(audioAnalyserIntervalRef.current);\r\n\r\n    setAudioTrack(audioTrack);\r\n  };\r\n  const getDefaultMediaTracks = async ({ mic, webcam, firstTime }) => {\r\n    if (mic) {\r\n      const audioConstraints = {\r\n        audio: true,\r\n      };\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia(\r\n        audioConstraints\r\n      );\r\n      const audioTracks = stream.getAudioTracks();\r\n\r\n      const audioTrack = audioTracks.length ? audioTracks[0] : null;\r\n\r\n      setAudioTrack(audioTrack);\r\n      if (firstTime) {\r\n        setSelectedMic({\r\n          id: audioTrack?.getSettings()?.deviceId,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (webcam) {\r\n      const videoConstraints = {\r\n        video: {\r\n          width: 1280,\r\n          height: 720,\r\n        },\r\n      };\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia(\r\n        videoConstraints\r\n      );\r\n      const videoTracks = stream.getVideoTracks();\r\n\r\n      const videoTrack = videoTracks.length ? videoTracks[0] : null;\r\n      setVideoTrack(videoTrack);\r\n      if (firstTime) {\r\n        setSelectedWebcam({\r\n          id: videoTrack?.getSettings()?.deviceId,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  async function startMuteListener() {\r\n    const currentAudioTrack = audioTrackRef.current;\r\n\r\n    if (currentAudioTrack) {\r\n      if (currentAudioTrack.muted) {\r\n        setDlgMuted(true);\r\n      }\r\n\r\n      currentAudioTrack.addEventListener(\"mute\", (ev) => {\r\n        setDlgMuted(true);\r\n      });\r\n    }\r\n  }\r\n\r\n  const getDevices = async ({ micEnabled, webcamEnabled }) => {\r\n    try {\r\n      const devices = await navigator.mediaDevices.enumerateDevices();\r\n\r\n      const webcams = devices.filter((d) => d.kind === \"videoinput\");\r\n      const mics = devices.filter((d) => d.kind === \"audioinput\");\r\n\r\n      const hasMic = mics.length > 0;\r\n      const hasWebcam = webcams.length > 0;\r\n\r\n      setDevices({ webcams, mics, devices });\r\n\r\n      if (hasMic) {\r\n        startMuteListener();\r\n      }\r\n\r\n      getDefaultMediaTracks({\r\n        mic: hasMic && micEnabled,\r\n        webcam: hasWebcam && webcamEnabled,\r\n        firstTime: true,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const _handleTurnOffWebcam = () => {\r\n    const videoTrack = videoTrackRef.current;\r\n\r\n    if (videoTrack) {\r\n      videoTrack.stop();\r\n\r\n      setVideoTrack(null);\r\n    }\r\n  };\r\n  const _handleTurnOnWebcam = () => {\r\n    const videoTrack = videoTrackRef.current;\r\n\r\n    if (!videoTrack) {\r\n      getDefaultMediaTracks({ mic: false, webcam: true });\r\n    }\r\n  };\r\n\r\n  const _toggleWebcam = () => {\r\n    const videoTrack = videoTrackRef.current;\r\n\r\n    if (videoTrack) {\r\n      _handleTurnOffWebcam();\r\n    } else {\r\n      _handleTurnOnWebcam();\r\n    }\r\n  };\r\n  const _handleTurnOffMic = () => {\r\n    const audioTrack = audioTrackRef.current;\r\n\r\n    if (audioTrack) {\r\n      audioTrack.stop();\r\n\r\n      setAudioTrack(null);\r\n    }\r\n  };\r\n  const _handleTurnOnMic = () => {\r\n    const audioTrack = audioTrackRef.current;\r\n\r\n    if (!audioTrack) {\r\n      getDefaultMediaTracks({ mic: true, webcam: false });\r\n    }\r\n  };\r\n  const _handleToggleMic = () => {\r\n    const audioTrack = audioTrackRef.current;\r\n\r\n    if (audioTrack) {\r\n      _handleTurnOffMic();\r\n    } else {\r\n      _handleTurnOnMic();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    videoTrackRef.current = videoTrack;\r\n\r\n    if (videoTrack) {\r\n      const videoSrcObject = new MediaStream([videoTrack]);\r\n\r\n      if (videoPlayerRef.current) {\r\n        videoPlayerRef.current.srcObject = videoSrcObject;\r\n        videoPlayerRef.current.play();\r\n      }\r\n\r\n      setTimeout(() => {\r\n        if (popupVideoPlayerRef.current) {\r\n          popupVideoPlayerRef.current.srcObject = videoSrcObject;\r\n          popupVideoPlayerRef.current.play();\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      if (videoPlayerRef.current) {\r\n        videoPlayerRef.current.srcObject = null;\r\n      }\r\n      if (popupVideoPlayerRef.current) {\r\n        popupVideoPlayerRef.current.srcObject = null;\r\n      }\r\n    }\r\n  }, [videoTrack, setting, settingDialogueOpen]);\r\n\r\n  useEffect(() => {\r\n    audioTrackRef.current = audioTrack;\r\n\r\n    startMuteListener();\r\n  }, [audioTrack]);\r\n\r\n  useEffect(() => {\r\n    getDevices({ micEnabled, webcamEnabled });\r\n  }, []);\r\n\r\n  const padding = useResponsiveSize({\r\n    xl: 6,\r\n    lg: 6,\r\n    md: 6,\r\n    sm: 4,\r\n    xs: 1.5,\r\n  });\r\n\r\n  const internalPadding = useResponsiveSize({\r\n    xl: 3,\r\n    lg: 3,\r\n    md: 2,\r\n    sm: 2,\r\n    xs: 1.5,\r\n  });\r\n\r\n  const spacingHorizontalTopicsObject = {\r\n    xl: 60,\r\n    lg: 40,\r\n    md: 40,\r\n    sm: 40,\r\n    xs: 32,\r\n  };\r\n\r\n  const spacingHorizontalTopics = useResponsiveSize(\r\n    spacingHorizontalTopicsObject\r\n  );\r\n\r\n  const isXStoSM = useMediaQuery(theme.breakpoints.between(\"xs\", \"sm\"));\r\n  const gtThenMD = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const gtThenXL = useMediaQuery(theme.breakpoints.only(\"xl\"));\r\n\r\n  const isXSOnly = useMediaQuery(theme.breakpoints.only(\"xs\"));\r\n  const isSMOnly = useMediaQuery(theme.breakpoints.only(\"sm\"));\r\n  const isXLOnly = useMediaQuery(theme.breakpoints.only(\"xl\"));\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        style={{\r\n          display: \"flex\",\r\n          flex: 1,\r\n          flexDirection: \"column\",\r\n          height: \"100vh\",\r\n          backgroundColor: theme.palette.background.default,\r\n        }}\r\n      >\r\n        <Box\r\n          m={9}\r\n          style={{\r\n            display: \"flex\",\r\n            flex: 1,\r\n            flexDirection: isXStoSM\r\n              ? \"column\"\r\n              : meetingUrl === \"\" || meetingTitle === \"\"\r\n              ? \"row\"\r\n              : \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Grid\r\n            container\r\n            spacing={padding}\r\n            style={{\r\n              display: \"flex\",\r\n              flex: isSMOnly ? 0 : 1,\r\n              flexDirection: isXStoSM\r\n                ? \"column\"\r\n                : meetingUrl || meetingTitle\r\n                ? \"row\"\r\n                : \"column\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              md={gtThenXL ? 6 : 7}\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n              }}\r\n            >\r\n              <Box\r\n                style={{\r\n                  width: isXSOnly ? \"100%\" : \"100vw\",\r\n                  // isXSOnly ? \"100%\" : isSMOnly ? \"96%\" : \"100vw\",\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n                p={internalPadding}\r\n              >\r\n                <Box\r\n                  style={{\r\n                    paddingLeft:\r\n                      spacingHorizontalTopics -\r\n                      (gtThenMD ? theme.spacing(4) : theme.spacing(2)),\r\n                    paddingRight:\r\n                      spacingHorizontalTopics -\r\n                      (gtThenMD ? theme.spacing(4) : theme.spacing(2)),\r\n\r\n                    position: \"relative\",\r\n                    width: \"100%\",\r\n                  }}\r\n                >\r\n                  <Box\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      top: 0,\r\n                      bottom: 0,\r\n                      left: spacingHorizontalTopics,\r\n                      right: spacingHorizontalTopics,\r\n                    }}\r\n                  >\r\n                    <DotsBoxContainer type={\"top-left\"} />\r\n                    <DotsBoxContainer type={\"bottom-right\"} />\r\n                  </Box>\r\n\r\n                  <Box>\r\n                    <Box className={classes.previewBox}>\r\n                      <video\r\n                        autoPlay\r\n                        playsInline\r\n                        muted\r\n                        ref={videoPlayerRef}\r\n                        controls={false}\r\n                        className={classes.video + \" flip\"}\r\n                      />\r\n\r\n                      {!isXSOnly ? (\r\n                        <>\r\n                          <Box\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\",\r\n                              right: 0,\r\n                              left: 0,\r\n                            }}\r\n                          >\r\n                            {participantCanToggleSelfWebcam === \"false\" &&\r\n                            !webcamOn ? (\r\n                              <Typography variant={isXLOnly ? \"h5\" : \"h6\"}>\r\n                                {mode === meetingModes.VIEWER\r\n                                  ? \"You are not permitted to use your microphone and camera.\"\r\n                                  : \"You are not allowed to turn on your camera\"}\r\n                              </Typography>\r\n                            ) : !webcamOn ? (\r\n                              <Typography variant={isXLOnly ? \"h4\" : \"h6\"}>\r\n                                The camera is off\r\n                              </Typography>\r\n                            ) : null}\r\n                          </Box>\r\n                          {participantCanToggleSelfWebcam === \"true\" ||\r\n                          participantCanToggleSelfMic === \"true\" ? (\r\n                            <Box\r\n                              style={{\r\n                                position: \"absolute\",\r\n                                top: 0,\r\n                                right: 0,\r\n                                backgroundColor: \"#1C1F2E80\",\r\n                                borderRadius: 4,\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              m={2}\r\n                              onClick={(e) => {\r\n                                handleClickOpen();\r\n                              }}\r\n                            >\r\n                              <Box\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  flexDirection: \"row\",\r\n                                  alignItems: \"center\",\r\n                                  justifyContent: \"center\",\r\n                                }}\r\n                                m={0.5}\r\n                              >\r\n                                <IconButton style={{ margin: 0, padding: 0 }}>\r\n                                  <CheckboxIcon />\r\n                                </IconButton>\r\n                                <Typography\r\n                                  variant=\"subtitle1\"\r\n                                  style={{ marginLeft: 4 }}\r\n                                >\r\n                                  Check your audio and video\r\n                                </Typography>\r\n                              </Box>\r\n                            </Box>\r\n                          ) : null}\r\n                        </>\r\n                      ) : null}\r\n\r\n                      {settingDialogueOpen ? (\r\n                        <SettingDialogueBox\r\n                          open={settingDialogueOpen}\r\n                          onClose={handleClose}\r\n                          popupVideoPlayerRef={popupVideoPlayerRef}\r\n                          popupAudioPlayerRef={popupAudioPlayerRef}\r\n                          changeWebcam={changeWebcam}\r\n                          changeMic={changeMic}\r\n                          setting={setting}\r\n                          setSetting={setSetting}\r\n                          webcams={webcams}\r\n                          mics={mics}\r\n                          setSelectedMic={setSelectedMic}\r\n                          setSelectedWebcam={setSelectedWebcam}\r\n                          videoTrack={videoTrack}\r\n                          audioTrack={audioTrack}\r\n                          participantCanToggleSelfMic={\r\n                            participantCanToggleSelfMic\r\n                          }\r\n                          participantCanToggleSelfWebcam={\r\n                            participantCanToggleSelfWebcam\r\n                          }\r\n                        />\r\n                      ) : null}\r\n\r\n                      <Box\r\n                        position=\"absolute\"\r\n                        bottom={theme.spacing(2)}\r\n                        left=\"0\"\r\n                        right=\"0\"\r\n                      >\r\n                        <Grid\r\n                          container\r\n                          alignItems=\"center\"\r\n                          justify=\"center\"\r\n                          spacing={2}\r\n                        >\r\n                          {participantCanToggleSelfMic === \"true\" ? (\r\n                            <Grid item>\r\n                              <Tooltip\r\n                                title={micOn ? \"Turn off mic\" : \"Turn on mic\"}\r\n                                arrow\r\n                                placement=\"top\"\r\n                              >\r\n                                <Button\r\n                                  onClick={() => _handleToggleMic()}\r\n                                  variant=\"contained\"\r\n                                  style={\r\n                                    micOn\r\n                                      ? {}\r\n                                      : {\r\n                                          backgroundColor: red[500],\r\n                                          color: \"white\",\r\n                                        }\r\n                                  }\r\n                                  className={classes.toggleButton}\r\n                                >\r\n                                  {micOn ? <Mic /> : <MicOff />}\r\n                                </Button>\r\n                              </Tooltip>\r\n                            </Grid>\r\n                          ) : null}\r\n\r\n                          {participantCanToggleSelfWebcam === \"true\" ? (\r\n                            <Grid item>\r\n                              <Tooltip\r\n                                title={\r\n                                  webcamOn\r\n                                    ? \"Turn off camera\"\r\n                                    : \"Turn on camera\"\r\n                                }\r\n                                arrow\r\n                                placement=\"top\"\r\n                              >\r\n                                <Button\r\n                                  onClick={() => _toggleWebcam()}\r\n                                  variant=\"contained\"\r\n                                  style={\r\n                                    webcamOn\r\n                                      ? {}\r\n                                      : {\r\n                                          backgroundColor: red[500],\r\n                                          color: \"white\",\r\n                                        }\r\n                                  }\r\n                                  className={classes.toggleButton}\r\n                                >\r\n                                  {webcamOn ? <Videocam /> : <VideocamOff />}\r\n                                </Button>\r\n                              </Tooltip>\r\n                            </Grid>\r\n                          ) : null}\r\n                        </Grid>\r\n                      </Box>\r\n                    </Box>\r\n                  </Box>\r\n                </Box>\r\n              </Box>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              md={isXStoSM ? 5 : meetingTitle || meetingUrl ? 5 : 6}\r\n              style={{\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                flex: 1,\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <Box\r\n                style={{\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                  flex: 1,\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <MeetingDetailModal\r\n                  internalPadding={internalPadding}\r\n                  name={name}\r\n                  setName={setName}\r\n                  nameErr={nameErr}\r\n                  meetingTitle={meetingTitle}\r\n                  meetingUrl={meetingUrl}\r\n                  setNameErr={setNameErr}\r\n                  isXStoSM={isXStoSM}\r\n                  startMeeting={() => {\r\n                    onClick({ name, webcamOn, micOn });\r\n                  }}\r\n                  isXLOnly={isXLOnly}\r\n                />\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <ConfirmBox\r\n            open={dlgMuted}\r\n            successText=\"OKAY\"\r\n            onSuccess={() => {\r\n              setDlgMuted(false);\r\n            }}\r\n            title=\"System mic is muted\"\r\n            subTitle=\"You're default microphone is muted, please unmute it or increase audio\r\n            input volume from system settings.\"\r\n          />\r\n\r\n          <ConfirmBox\r\n            open={dlgDevices}\r\n            successText=\"DISMISS\"\r\n            onSuccess={() => {\r\n              setDlgDevices(false);\r\n            }}\r\n            title=\"Mic or webcam not available\"\r\n            subTitle=\"Please connect a mic and webcam to speak and share your video in the meeting. You can also join without them.\"\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import { Box, Button, Link, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Lottie from \"react-lottie\";\r\nimport animationData from \"../animations/meeting-left.json\";\r\nimport useIsLGDesktop from \"../utils/useIsLGDesktop\";\r\nimport useIsSMDesktop from \"../utils/useIsSMDesktop\";\r\nimport useResponsiveSize from \"../utils/useResponsiveSize\";\r\n\r\nconst StarsBG = (props) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"1366\"\r\n      height=\"768\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 1366 768\"\r\n      {...props}\r\n    >\r\n      <g fill=\"#CAA8EF\" clipPath=\"url(#clip0_13_15)\" opacity=\"0.2\">\r\n        <path d=\"M320.433 393.131a2.34 2.34 0 01.378 3.595 2.334 2.334 0 01-3.599-.33 2.34 2.34 0 011.464-3.602 2.333 2.333 0 011.757.337zM139.983 374.005a2.333 2.333 0 011.012 2.394 2.343 2.343 0 01-1.824 1.851 2.345 2.345 0 01-2.409-.978 2.343 2.343 0 01-.018-2.599 2.34 2.34 0 013.239-.668zM10.213 317.297a2.338 2.338 0 11-2.567 3.909 2.338 2.338 0 012.567-3.909zM168.702 279.077a2.337 2.337 0 11-2.57 3.905 2.337 2.337 0 012.57-3.905zM-1.116 69.938a2.339 2.339 0 11-2.574 3.906 2.339 2.339 0 012.574-3.906zM122.872 156.563c.386.254.688.618.867 1.044a2.34 2.34 0 01-1.682 3.198 2.334 2.334 0 01-2.424-3.575 2.338 2.338 0 013.239-.667zM360.877 95.133a2.335 2.335 0 011.012 2.395 2.337 2.337 0 01-4.232.873 2.336 2.336 0 01.622-3.25 2.336 2.336 0 012.598-.017zM700.296 406.572a2.341 2.341 0 01.38 3.597 2.335 2.335 0 01-2.545.525 2.338 2.338 0 01.407-4.458 2.343 2.343 0 011.758.336zM505.798 95.584a2.34 2.34 0 01.378 3.594 2.332 2.332 0 01-2.544.524 2.343 2.343 0 01-1.458-2.15 2.341 2.341 0 011.867-2.306 2.337 2.337 0 011.757.338zM700.058 233.663c.386.254.688.617.867 1.043a2.34 2.34 0 01-1.682 3.199 2.338 2.338 0 11.815-4.242zM334.559 217.612a2.337 2.337 0 011.009 2.393 2.337 2.337 0 11-1.009-2.393zM213.448 128a2.333 2.333 0 011.012 2.394 2.337 2.337 0 01-3.177 1.727 2.338 2.338 0 112.165-4.121zM97.455 22.38a2.335 2.335 0 01.667 3.239 2.339 2.339 0 11-.667-3.24zM624.003 294.925c.387.254.689.617.87 1.043a2.342 2.342 0 01-1.682 3.202 2.346 2.346 0 01-2.408-.978 2.336 2.336 0 01-.018-2.599 2.34 2.34 0 013.238-.668zM564.837 398.01a2.337 2.337 0 11-2.57 3.905 2.337 2.337 0 012.57-3.905zM568.294 198.615a2.339 2.339 0 11-2.57 3.91 2.339 2.339 0 012.57-3.91zM450.022 278.591a2.332 2.332 0 011.01 2.393 2.34 2.34 0 01-1.824 1.849 2.33 2.33 0 01-2.406-.977 2.334 2.334 0 01-.018-2.598 2.338 2.338 0 013.238-.667zM269.491 18.603a2.344 2.344 0 011.011 2.394 2.338 2.338 0 11-1.011-2.394zM1321.13 63.696a2.264 2.264 0 01-.65-.64c-.17-.255-.29-.54-.36-.84-.06-.302-.06-.612 0-.913.06-.302.17-.59.34-.846s.39-.477.64-.65c.26-.172.54-.293.84-.355.3-.061.61-.063.92-.006.3.058.58.175.84.344.52.342.88.874 1 1.482.13.607.01 1.24-.33 1.757-.34.518-.88.88-1.48 1.004-.61.126-1.24.004-1.76-.337zM1366.96 186.21a2.316 2.316 0 01-.87-1.043 2.317 2.317 0 01-.14-1.351c.08-.454.3-.873.63-1.202a2.324 2.324 0 012.54-.525c.43.174.8.471 1.06.854s.4.834.4 1.297c.01.462-.13.915-.38 1.302-.34.518-.88.879-1.48 1.005-.61.125-1.24.004-1.76-.337zM1128.96 247.639a2.324 2.324 0 01-1.01-2.394 2.33 2.33 0 013.17-1.725c.43.174.8.471 1.06.854s.4.834.4 1.296a2.317 2.317 0 01-1.02 1.951c-.26.173-.54.293-.84.355-.3.062-.61.064-.92.006-.3-.058-.59-.174-.84-.343zM984.033 247.189a2.333 2.333 0 01-1.012-2.394 2.343 2.343 0 011.825-1.851 2.342 2.342 0 012.811 2.275 2.343 2.343 0 01-1.866 2.307 2.34 2.34 0 01-1.758-.337zM914.344 357.315a2.341 2.341 0 01-.381-3.597 2.338 2.338 0 012.546-.525 2.338 2.338 0 01-.407 4.458 2.343 2.343 0 01-1.758-.336zM831.917 279.47a2.337 2.337 0 112.57-3.905 2.337 2.337 0 01-2.57 3.905zM675.581 98.046a2.341 2.341 0 01-.38-3.596 2.34 2.34 0 11.38 3.596zM1193.66 103.218a2.389 2.389 0 01-.87-1.044 2.313 2.313 0 01-.14-1.35c.09-.455.31-.873.63-1.203a2.353 2.353 0 012.55-.525c.43.174.79.472 1.05.855.26.382.4.834.41 1.296 0 .463-.13.916-.39 1.303a2.344 2.344 0 01-3.24.668zM1276.38 214.772a2.38 2.38 0 01-.87-1.043 2.397 2.397 0 01-.14-1.35c.09-.454.31-.872.63-1.201a2.352 2.352 0 012.55-.524c.43.174.79.471 1.05.854.26.382.4.833.41 1.296 0 .462-.13.915-.39 1.301-.34.518-.87.879-1.48 1.004s-1.24.004-1.76-.337zM865.828 47.847a2.328 2.328 0 01-1.005-1.48 2.316 2.316 0 01.337-1.759 2.339 2.339 0 11.668 3.24zM990.578 415.804a2.337 2.337 0 01-1.009-2.393 2.34 2.34 0 011.824-1.849 2.33 2.33 0 012.406.977 2.334 2.334 0 01.018 2.598 2.338 2.338 0 01-3.239.667zM921.537 144.157a2.337 2.337 0 112.57-3.905 2.337 2.337 0 01-2.57 3.905zM1021.31 82.903a2.318 2.318 0 01-.87-1.044 2.315 2.315 0 01-.14-1.35c.08-.455.3-.873.63-1.203a2.323 2.323 0 012.54-.525c.43.174.8.471 1.06.854s.4.835.4 1.297c0 .463-.13.916-.38 1.302-.35.519-.88.88-1.49 1.005-.6.125-1.23.004-1.75-.336zM1318.77 417.388a2.316 2.316 0 01-.87-1.043 2.315 2.315 0 01-.14-1.351c.08-.454.3-.873.63-1.202a2.324 2.324 0 012.54-.525c.43.174.8.471 1.06.854s.4.834.4 1.297c.01.462-.13.916-.38 1.302-.34.518-.88.879-1.48 1.005-.61.125-1.24.004-1.76-.337zM1220.34 324.171a2.389 2.389 0 01-.87-1.044 2.488 2.488 0 01-.14-1.35c.09-.454.31-.872.63-1.201.33-.329.74-.554 1.2-.648.45-.093.92-.05 1.35.124.43.174.79.471 1.05.854s.4.834.41 1.296c0 .462-.13.915-.39 1.301a2.33 2.33 0 01-1.48 1.005c-.61.125-1.24.003-1.76-.337zM1076.01 382.097a2.324 2.324 0 01-1.01-2.394c.09-.455.31-.873.63-1.203.33-.329.74-.555 1.19-.648.46-.094.93-.051 1.36.123.42.174.79.471 1.05.854s.4.835.41 1.297c0 .463-.14.916-.39 1.302-.34.518-.87.88-1.48 1.005-.61.125-1.24.004-1.76-.336zM122.871 714.789a2.34 2.34 0 01-2.165 4.121 2.335 2.335 0 01-1.459-2.151 2.34 2.34 0 013.624-1.97zM47.644 489.904a2.335 2.335 0 01.378 3.594 2.337 2.337 0 11-.378-3.594zM360.877 653.36a2.345 2.345 0 011.01 2.394 2.334 2.334 0 01-1.824 1.849 2.342 2.342 0 01-2.407-.978 2.341 2.341 0 011.464-3.602 2.333 2.333 0 011.757.337zM505.798 653.81a2.337 2.337 0 11-2.57 3.905 2.337 2.337 0 012.57-3.905zM575.487 543.684a2.345 2.345 0 011.01 2.394 2.334 2.334 0 01-1.824 1.849 2.342 2.342 0 01-2.407-.978 2.345 2.345 0 01-.018-2.598 2.344 2.344 0 013.239-.667zM718.018 509.286a2.343 2.343 0 011.01 2.393 2.342 2.342 0 01-1.825 1.849 2.334 2.334 0 01-2.424-3.575 2.343 2.343 0 011.481-1.005 2.338 2.338 0 011.758.338zM213.448 686.227a2.337 2.337 0 11-2.57 3.905 2.337 2.337 0 012.57-3.905zM97.455 580.605a2.34 2.34 0 01.379 3.595 2.343 2.343 0 01-2.544.524 2.342 2.342 0 01-1.458-2.149 2.34 2.34 0 011.865-2.307 2.335 2.335 0 011.758.337zM499.253 485.194a2.337 2.337 0 01.38 3.596 2.333 2.333 0 01-2.545.525 2.338 2.338 0 112.165-4.121zM568.294 756.839a2.341 2.341 0 01-.812 4.245 2.337 2.337 0 01-2.426-3.576 2.342 2.342 0 013.238-.669zM171.062 483.611a2.34 2.34 0 11-2.571 3.91 2.34 2.34 0 012.571-3.91zM269.491 576.828a2.337 2.337 0 011.009 2.394 2.34 2.34 0 01-1.824 1.849 2.338 2.338 0 11.815-4.243zM413.819 518.894a2.34 2.34 0 11-2.571 3.91 2.34 2.34 0 012.571-3.91zM1169.4 507.868a2.324 2.324 0 01-1.01-2.393c.08-.454.3-.872.63-1.202a2.33 2.33 0 012.54-.524c.43.174.8.472 1.06.854.26.383.4.834.4 1.296 0 .463-.13.916-.38 1.302-.35.518-.88.879-1.49 1.004a2.32 2.32 0 01-1.75-.337zM1349.85 526.992a2.316 2.316 0 01-.87-1.043 2.317 2.317 0 01-.14-1.351c.08-.454.3-.873.63-1.202a2.324 2.324 0 012.54-.525c.43.174.8.471 1.06.854s.4.834.4 1.297a2.315 2.315 0 01-1.02 1.952c-.26.172-.54.293-.84.355-.31.062-.62.064-.92.007a2.28 2.28 0 01-.84-.344zM1321.13 621.922a2.316 2.316 0 01-.87-1.043 2.313 2.313 0 01-.14-1.35c.09-.454.31-.872.63-1.201.33-.329.74-.555 1.19-.648.46-.093.93-.05 1.36.124.42.174.79.471 1.05.854.26.382.4.833.4 1.296a2.311 2.311 0 01-1.02 1.951c-.26.172-.54.293-.84.355-.3.062-.61.064-.92.006-.3-.058-.58-.175-.84-.344zM1366.96 744.436a2.319 2.319 0 01-.87-1.044 2.313 2.313 0 01-.14-1.35c.08-.455.3-.873.63-1.203.32-.329.74-.555 1.19-.648a2.345 2.345 0 012.41.978c.26.382.4.834.4 1.296.01.463-.13.916-.38 1.303a2.34 2.34 0 01-3.24.668zM789.535 494.427a2.347 2.347 0 01-1.012-2.395 2.341 2.341 0 013.177-1.727 2.338 2.338 0 01-.407 4.458 2.344 2.344 0 01-1.758-.336zM675.581 656.272a2.34 2.34 0 112.571-3.91 2.34 2.34 0 01-2.571 3.91zM1193.66 661.443a2.38 2.38 0 01-.87-1.043 2.315 2.315 0 01-.14-1.351c.09-.454.31-.872.63-1.202a2.36 2.36 0 011.2-.649c.45-.093.92-.05 1.35.124.43.174.79.471 1.05.854s.4.834.41 1.297c0 .463-.13.916-.39 1.302-.34.518-.87.88-1.48 1.005-.61.125-1.24.004-1.76-.337zM865.828 606.073a2.337 2.337 0 112.57-3.905 2.337 2.337 0 01-2.57 3.905zM924.999 502.989a2.341 2.341 0 01.812-4.245 2.336 2.336 0 012.812 2.274 2.337 2.337 0 01-3.624 1.971zM921.537 702.383a2.339 2.339 0 112.57-3.91 2.339 2.339 0 01-2.57 3.91zM1021.31 641.128a2.316 2.316 0 01-.87-1.043 2.313 2.313 0 01-.14-1.35c.08-.454.3-.872.63-1.201.32-.329.74-.555 1.19-.648a2.343 2.343 0 012.41.978c.26.383.4.834.4 1.296 0 .462-.13.915-.38 1.301-.35.518-.88.879-1.49 1.004-.6.126-1.23.004-1.75-.337z\"></path>\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"clip0_13_15\">\r\n          <path\r\n            fill=\"#fff\"\r\n            d=\"M0 0H1426V1051H0z\"\r\n            transform=\"translate(-30 -75)\"\r\n          ></path>\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst MeetingLeftScreen = ({\r\n  setMeetingLeft,\r\n  leftScreenActionButtonLabel,\r\n  leftScreenActionButtonHref,\r\n  leftScreenRejoinButtonEnabled,\r\n}) => {\r\n  const defaultOptions = {\r\n    loop: false,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  const jsonSize = useResponsiveSize({\r\n    xl: 720,\r\n    lg: 640,\r\n    md: 520,\r\n    sm: 480,\r\n    xs: 360,\r\n  });\r\n\r\n  const isSMDesktop = useIsSMDesktop();\r\n  const isLGDesktop = useIsLGDesktop();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\r\n      >\r\n        <StarsBG height={\"100%\"} width={\"100%\"} />\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n        }}\r\n      >\r\n        <div style={{ width: jsonSize }}>\r\n          <Lottie\r\n            options={defaultOptions}\r\n            eventListeners={[{ eventName: \"done\" }]}\r\n            width={jsonSize}\r\n            isClickToPauseDisabled\r\n          />\r\n        </div>\r\n        <Box mt={6}>\r\n          <Typography variant={\"h4\"} style={{ fontWeight: \"bold\" }}>\r\n            You have left the meeting!\r\n          </Typography>\r\n        </Box>\r\n        <Box\r\n          mt={3}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: isSMDesktop || isLGDesktop ? \"row\" : \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          {leftScreenRejoinButtonEnabled && (\r\n            <Button\r\n              onClick={() => {\r\n                setMeetingLeft(false);\r\n              }}\r\n              size={isSMDesktop || isLGDesktop ? \"large\" : \"medium\"}\r\n              variant=\"contained\"\r\n              color={\"primary\"}\r\n              style={{ textTransform: \"capitalize\", fontWeight: \"bold\" }}\r\n            >\r\n              Rejoin Meeting\r\n            </Button>\r\n          )}\r\n          {leftScreenActionButtonLabel &&\r\n          leftScreenActionButtonLabel !== \"undefined\" &&\r\n          leftScreenActionButtonHref &&\r\n          leftScreenActionButtonHref !== \"undefined\" ? (\r\n            <Box\r\n              mt={\r\n                leftScreenRejoinButtonEnabled\r\n                  ? isSMDesktop || isLGDesktop\r\n                    ? 0\r\n                    : 2\r\n                  : 0\r\n              }\r\n              ml={\r\n                leftScreenRejoinButtonEnabled\r\n                  ? isSMDesktop || isLGDesktop\r\n                    ? 3\r\n                    : 0\r\n                  : 0\r\n              }\r\n            >\r\n              <Link target={\"_top\"} href={leftScreenActionButtonHref}>\r\n                <Button\r\n                  size={isSMDesktop || isLGDesktop ? \"large\" : \"medium\"}\r\n                  variant=\"outlined\"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                >\r\n                  {leftScreenActionButtonLabel}\r\n                </Button>\r\n              </Link>\r\n            </Box>\r\n          ) : null}\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeetingLeftScreen;\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport MeetingContainer from \"./meetingContainer/MeetingContainer\";\r\nimport { MeetingProvider } from \"@videosdk.live/react-sdk\";\r\nimport {\r\n  MeetingAppProvider,\r\n  meetingLayoutPriorities,\r\n  meetingLayouts,\r\n  meetingLayoutTopics,\r\n} from \"./MeetingAppContextDef\";\r\nimport JoinMeeting from \"./components/JoinScreen\";\r\nimport ClickAnywhereToContinue from \"./components/ClickAnywhereToContinue\";\r\nimport { Box, CircularProgress } from \"@material-ui/core\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport MeetingLeftScreen from \"./components/MeetingLeftScreen\";\r\nimport ConfirmBox from \"./components/ConfirmBox\";\r\nimport {\r\n  maxParticipantGridCount_large_desktop,\r\n  maxParticipantGridCount_desktop,\r\n  maxParticipantGridCount_tab,\r\n  maxParticipantGridCount_mobile,\r\n} from \"./utils/common\";\r\nimport useIsSMDesktop from \"./utils/useIsSMDesktop\";\r\nimport useIsLGDesktop from \"./utils/useIsLGDesktop\";\r\nimport useIsTab from \"./utils/useIsTab\";\r\nimport { version as prebuiltSDKVersion } from \"../package.json\";\r\nimport { meetingModes } from \"./CONSTS\";\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n  const [meetingIdValidation, setMeetingIdValidation] = useState({\r\n    isLoading: true,\r\n    meetingId: null,\r\n    reqError: null,\r\n    reqStatusCode: null,\r\n  });\r\n\r\n  const [meetingError, setMeetingError] = useState({\r\n    message: null,\r\n    code: null,\r\n    isVisible: false,\r\n  });\r\n\r\n  const [meetingLeft, setMeetingLeft] = useState(false);\r\n  const playNotificationErr = async () => {\r\n    const errAudio = new Audio(\r\n      `https://static.videosdk.live/prebuilt/notification_err.mp3`\r\n    );\r\n\r\n    await errAudio.play();\r\n  };\r\n \r\n\r\n   \r\n  \r\n  const getParams = ({ maxGridSize }) => {\r\n    const location = window.location;\r\n\r\n    const urlParams = new URLSearchParams(location.search);\r\n\r\n    const paramKeys = {\r\n      token: \"token\",\r\n      micEnabled: \"micEnabled\",\r\n      webcamEnabled: \"webcamEnabled\",\r\n      name: \"name\",\r\n      meetingId: \"meetingId\",\r\n      redirectOnLeave: \"redirectOnLeave\",\r\n      chatEnabled: \"chatEnabled\",\r\n      screenShareEnabled: \"screenShareEnabled\",\r\n      pollEnabled: \"pollEnabled\",\r\n      whiteboardEnabled: \"whiteboardEnabled\",\r\n      raiseHandEnabled: \"raiseHandEnabled\",\r\n      usermode:\"usermode\",\r\n      participantCanToggleSelfWebcam: \"participantCanToggleSelfWebcam\",\r\n      participantCanToggleSelfMic: \"participantCanToggleSelfMic\",\r\n      participantCanToggleRecording: \"participantCanToggleRecording\",\r\n      participantCanLeave: \"participantCanLeave\",\r\n      participantCanToggleOtherWebcam: \"participantCanToggleOtherWebcam\",\r\n      participantCanToggleOtherMic: \"participantCanToggleOtherMic\",\r\n      partcipantCanToogleOtherScreenShare:\r\n        \"partcipantCanToogleOtherScreenShare\",\r\n      participantCanToggleOtherMode: \"participantCanToggleOtherMode\",\r\n      participantCanToggleLivestream: \"participantCanToggleLivestream\",\r\n      participantCanEndMeeting: \"participantCanEndMeeting\",\r\n      participantCanToggleHls: \"participantCanToggleHls\",\r\n      //\r\n      recordingEnabled: \"recordingEnabled\",\r\n      recordingWebhookUrl: \"recordingWebhookUrl\",\r\n      recordingAWSDirPath: \"recordingAWSDirPath\",\r\n      autoStartRecording: \"autoStartRecording\",\r\n      //\r\n      brandingEnabled: \"brandingEnabled\",\r\n      brandLogoURL: \"brandLogoURL\",\r\n      brandName: \"brandName\",\r\n      poweredBy: \"poweredBy\",\r\n      //\r\n      liveStreamEnabled: \"liveStreamEnabled\",\r\n      autoStartLiveStream: \"autoStartLiveStream\",\r\n      liveStreamOutputs: \"liveStreamOutputs\",\r\n      //\r\n      askJoin: \"askJoin\",\r\n      //\r\n      joinScreenEnabled: \"joinScreenEnabled\",\r\n      joinScreenMeetingUrl: \"joinScreenMeetingUrl\",\r\n      joinScreenTitle: \"joinScreenTitle\",\r\n      //\r\n      notificationSoundEnabled: \"notificationSoundEnabled\",\r\n      canPin: \"canPin\",\r\n      canRemoveOtherParticipant: \"canRemoveOtherParticipant\",\r\n      canDrawOnWhiteboard: \"canDrawOnWhiteboard\",\r\n      canToggleWhiteboard: \"canToggleWhiteboard\",\r\n      canCreatePoll: \"canCreatePoll\",\r\n      //\r\n      leftScreenActionButtonLabel: \"leftScreenActionButtonLabel\",\r\n      leftScreenActionButtonHref: \"leftScreenActionButtonHref\",\r\n      leftScreenRejoinButtonEnabled: \"leftScreenRejoinButtonEnabled\",\r\n      //\r\n      maxResolution: \"maxResolution\",\r\n      animationsEnabled: \"animationsEnabled\",\r\n      topbarEnabled: \"topbarEnabled\",\r\n      notificationAlertsEnabled: \"notificationAlertsEnabled\",\r\n      debug: \"debug\",\r\n      participantId: \"participantId\",\r\n      //\r\n      layoutType: \"layoutType\",\r\n      layoutGridSize: \"layoutGridSize\",\r\n      layoutPriority: \"layoutPriority\",\r\n      meetingLayoutTopic: \"meetingLayoutTopic\",\r\n      //\r\n      isRecorder: \"isRecorder\",\r\n      hideLocalParticipant: \"hideLocalParticipant\",\r\n      alwaysShowOverlay: \"alwaysShowOverlay\",\r\n      sideStackSize: \"sideStackSize\",\r\n      reduceEdgeSpacing: \"reduceEdgeSpacing\",\r\n      joinWithoutUserInteraction: \"joinWithoutUserInteraction\",\r\n      rawUserAgent: \"rawUserAgent\",\r\n      canChangeLayout: \"canChangeLayout\",\r\n      region: \"region\",\r\n      preferredProtocol: \"preferredProtocol\",\r\n      //\r\n      mode: \"mode\",\r\n      //\r\n      hlsEnabled: \"hlsEnabled\",\r\n      autoStartHls: \"autoStartHls\",\r\n      hlsPlayerControlsVisible: \"hlsPlayerControlsVisible\",\r\n      //\r\n      // liveStreamLayoutType: \"liveStreamLayoutType\",\r\n      // liveStreamLayoutPriority: \"liveStreamLayoutPriority\",\r\n      // liveStreamLayoutGridSize: \"liveStreamLayoutGridSize\",\r\n      // recordingLayoutType: \"recordingLayoutType\",\r\n      // recordingLayoutPriority: \"recordingLayoutPriority\",\r\n      // recordingLayoutGridSize: \"recordingLayoutGridSize\",\r\n\r\n      maintainVideoAspectRatio: \"maintainVideoAspectRatio\",\r\n      networkBarEnabled: \"networkBarEnabled\",\r\n    };\r\n    \r\n    Object.keys(paramKeys).forEach((key) => {\r\n      paramKeys[key] = urlParams.get(key)\r\n      ? decodeURIComponent(urlParams.get(key))\r\n      : null;\r\n    });\r\n    \r\n  \r\n    \r\n    paramKeys.token=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlrZXkiOiJmMTY5NWE4Yi04ZmMxLTRhNWItYTA2OS0xNjUzNWFjZTU0MWYiLCJwZXJtaXNzaW9ucyI6WyJhbGxvd19qb2luIl0sImlhdCI6MTY2MzkwODE5NSwiZXhwIjoxNjY0NTEyOTk1fQ.xqJ7To2SWTMk-_bozqmgyYC4wH-NNGhMAzQPS57AQ0Y\"\r\n    // required options\r\n    let configErr;\r\n    if(paramKeys.usermode ===\"OCRTIRTUSN\"){\r\n      if (typeof paramKeys.token !== \"string\") {\r\n        configErr = `\"token\" not provided`;\r\n        playNotificationErr();\r\n        // setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n        //\r\n        // throw new Error(configErr);\r\n      }\r\n      if (typeof paramKeys.meetingId !== \"string\") {\r\n        configErr = `\"meetingId\" not provided`;\r\n        playNotificationErr();\r\n        setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n        //\r\n        // throw new Error(configErr);\r\n      }\r\n      if (typeof paramKeys.name !== \"string\") {\r\n        if (paramKeys.joinScreenEnabled !== \"true\") {\r\n          configErr = `\"name\" not provided when joinScreen is disabled`;\r\n          playNotificationErr();\r\n          // setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n          //\r\n          // throw new Error(configErr);\r\n        }\r\n      }\r\n  \r\n      // default options\r\n  \r\n      if (typeof paramKeys.micEnabled !== \"string\") {\r\n        paramKeys.micEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canRemoveOtherParticipant !== \"string\") {\r\n        paramKeys.canRemoveOtherParticipant = \"true\";\r\n      }\r\n      if (typeof paramKeys.webcamEnabled !== \"string\") {\r\n        paramKeys.webcamEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.participantCanEndMeeting !== \"string\") {\r\n        paramKeys.participantCanEndMeeting = \"true\";\r\n      }\r\n      if (typeof paramKeys.chatEnabled !== \"string\") {\r\n        paramKeys.chatEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.chatEnabled !== \"string\") {\r\n        paramKeys.chatEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canCreatePoll!== \"string\") {\r\n        paramKeys.canCreatePoll= \"true\";\r\n      }\r\n      if (typeof paramKeys.askJoin !== \"string\") {\r\n        paramKeys.askJoin = \"true\";\r\n      }\r\n      if (typeof paramKeys.pollEnabled !== \"string\") {\r\n        paramKeys.pollEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.whiteboardEnabled !== \"string\") {\r\n        paramKeys.whiteboardEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canRemoveOtherParticipant !== \"string\") {\r\n        paramKeys.canRemoveOtherParticipant= \"true\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleSelfWebcam !== \"string\") {\r\n        paramKeys.participantCanToggleSelfWebcam = \"true\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleSelfMic !== \"string\") {\r\n        paramKeys.participantCanToggleSelfMic = \"true\";\r\n      }\r\n      if (typeof paramKeys.raiseHandEnabled !== \"string\") {\r\n        paramKeys.raiseHandEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canDrawOnWhiteboard !== \"string\") {\r\n        paramKeys.canDrawOnWhiteboard = \"true\";\r\n      }\r\n      if (typeof paramKeys.recordingEnabled !== \"string\") {\r\n        paramKeys.recordingEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.hlsEnabled !== \"string\") {\r\n        paramKeys.hlsEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.poweredBy !== \"string\") {\r\n        paramKeys.poweredBy = \"true\";\r\n      }\r\n      if (typeof paramKeys.liveStreamEnabled !== \"string\") {\r\n        paramKeys.liveStreamEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.autoStartLiveStream !== \"string\") {\r\n        paramKeys.autoStartLiveStream = \"false\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleLivestream !== \"string\") {\r\n        paramKeys.participantCanToggleLivestream = \"false\";\r\n      }\r\n  \r\n      if (typeof paramKeys.canCreatePoll !== \"string\") {\r\n        paramKeys.canCreatePoll = \"true\";\r\n      }\r\n      \r\n      if (paramKeys.autoStartLiveStream === \"true\") {\r\n        try {\r\n          paramKeys.liveStreamOutputs = JSON.parse(paramKeys.liveStreamOutputs);\r\n          if (\r\n            paramKeys.liveStreamOutputs === null ||\r\n            !paramKeys.liveStreamOutputs.length\r\n          ) {\r\n            paramKeys.liveStreamOutputs = [];\r\n          }\r\n        } catch (err) {\r\n          paramKeys.liveStreamOutputs = [];\r\n        }\r\n      }\r\n  \r\n      if (typeof paramKeys.joinScreenEnabled !== \"string\") {\r\n        paramKeys.joinScreenEnabled = \"true\";\r\n      }\r\n  \r\n      if (\r\n        paramKeys.joinScreenMeetingUrl === null ||\r\n        !paramKeys.joinScreenMeetingUrl.length\r\n      ) {\r\n        paramKeys.joinScreenMeetingUrl = \"\";\r\n      }\r\n  \r\n      if (\r\n        paramKeys.joinScreenTitle === null ||\r\n        !paramKeys.joinScreenTitle.length\r\n      ) {\r\n        paramKeys.joinScreenTitle = \"\";\r\n      }\r\n  \r\n      if (typeof paramKeys.notificationSoundEnabled !== \"string\") {\r\n        paramKeys.notificationSoundEnabled = \"true\";\r\n      }\r\n  \r\n      if (typeof paramKeys.maintainVideoAspectRatio !== \"string\") {\r\n        paramKeys.maintainVideoAspectRatio = \"false\";\r\n      }\r\n  \r\n      if (typeof paramKeys.networkBarEnabled !== \"string\") {\r\n        paramKeys.networkBarEnabled = \"true\";\r\n      }\r\n  \r\n      if (typeof paramKeys.canPin !== \"string\") {\r\n        paramKeys.canPin = \"true\";\r\n      }\r\n    }\r\n    else {\r\n      if (typeof paramKeys.token !== \"string\") {\r\n        configErr = `\"token\" not provided`;\r\n        playNotificationErr();\r\n        // setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n        //\r\n        // throw new Error(configErr);\r\n      }\r\n      if (typeof paramKeys.meetingId !== \"string\") {\r\n        configErr = `\"meetingId\" not provided`;\r\n        playNotificationErr();\r\n        setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n        //\r\n        // throw new Error(configErr);\r\n      }\r\n      if (typeof paramKeys.name !== \"string\") {\r\n        if (paramKeys.joinScreenEnabled !== \"true\") {\r\n          configErr = `\"name\" not provided when joinScreen is disabled`;\r\n          playNotificationErr();\r\n          // setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n          //\r\n          // throw new Error(configErr);\r\n        }\r\n      }\r\n  \r\n      // default options\r\n  \r\n      if (typeof paramKeys.micEnabled !== \"string\") {\r\n        paramKeys.micEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canRemoveOtherParticipant == \"string\") {\r\n        paramKeys.canRemoveOtherParticipant = \"false\";\r\n      }\r\n      if (typeof paramKeys.webcamEnabled !== \"string\") {\r\n        paramKeys.webcamEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.chatEnabled !== \"string\") {\r\n        paramKeys.chatEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.screenShareEnabled !== \"string\") {\r\n        paramKeys.screenShareEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.askJoin !== \"string\") {\r\n        paramKeys.askJoin = \"true\";\r\n      }\r\n      if (typeof paramKeys.pollEnabled !== \"string\") {\r\n        paramKeys.pollEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.whiteboardEnabled !== \"string\") {\r\n        paramKeys.whiteboardEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleSelfWebcam !== \"string\") {\r\n        paramKeys.participantCanToggleSelfWebcam = \"true\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleSelfMic !== \"string\") {\r\n        paramKeys.participantCanToggleSelfMic = \"true\";\r\n      }\r\n      if (typeof paramKeys.raiseHandEnabled !== \"string\") {\r\n        paramKeys.raiseHandEnabled = \"true\";\r\n      }\r\n      if (typeof paramKeys.canDrawOnWhiteboard !== \"string\") {\r\n        paramKeys.canDrawOnWhiteboard = \"false\";\r\n      }\r\n      if (typeof paramKeys.recordingEnabled !== \"string\") {\r\n        paramKeys.recordingEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.hlsEnabled !== \"string\") {\r\n        paramKeys.hlsEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.poweredBy !== \"string\") {\r\n        paramKeys.poweredBy = \"true\";\r\n      }\r\n      if (typeof paramKeys.liveStreamEnabled !== \"string\") {\r\n        paramKeys.liveStreamEnabled = \"false\";\r\n      }\r\n      if (typeof paramKeys.autoStartLiveStream !== \"string\") {\r\n        paramKeys.autoStartLiveStream = \"false\";\r\n      }\r\n      if (typeof paramKeys.participantCanToggleLivestream !== \"string\") {\r\n        paramKeys.participantCanToggleLivestream = \"false\";\r\n      }\r\n  \r\n      if (typeof paramKeys.canCreatePoll !== \"string\") {\r\n        paramKeys.canCreatePoll = \"false\";\r\n      }\r\n      \r\n      if (paramKeys.autoStartLiveStream === \"true\") {\r\n        try {\r\n          paramKeys.liveStreamOutputs = JSON.parse(paramKeys.liveStreamOutputs);\r\n          if (\r\n            paramKeys.liveStreamOutputs === null ||\r\n            !paramKeys.liveStreamOutputs.length\r\n          ) {\r\n            paramKeys.liveStreamOutputs = [];\r\n          }\r\n        } catch (err) {\r\n          paramKeys.liveStreamOutputs = [];\r\n        }\r\n      }\r\n  \r\n      if (typeof paramKeys.joinScreenEnabled !== \"string\") {\r\n        paramKeys.joinScreenEnabled = \"true\";\r\n      }\r\n  \r\n      if (\r\n        paramKeys.joinScreenMeetingUrl === null ||\r\n        !paramKeys.joinScreenMeetingUrl.length\r\n      ) {\r\n        paramKeys.joinScreenMeetingUrl = \"\";\r\n      }\r\n  \r\n      if (\r\n        paramKeys.joinScreenTitle === null ||\r\n        !paramKeys.joinScreenTitle.length\r\n      ) {\r\n        paramKeys.joinScreenTitle = \"\";\r\n      }\r\n  \r\n      if (typeof paramKeys.notificationSoundEnabled !== \"string\") {\r\n        paramKeys.notificationSoundEnabled = \"true\";\r\n      }\r\n  \r\n      if (typeof paramKeys.maintainVideoAspectRatio !== \"string\") {\r\n        paramKeys.maintainVideoAspectRatio = \"false\";\r\n      }\r\n  \r\n      if (typeof paramKeys.networkBarEnabled !== \"string\") {\r\n        paramKeys.networkBarEnabled = \"true\";\r\n      }\r\n  \r\n      if (typeof paramKeys.canPin !== \"string\") {\r\n        paramKeys.canPin = \"true\";\r\n      }\r\n    }\r\n\r\n  \r\n\r\n    switch (paramKeys?.layoutType?.toUpperCase()) {\r\n      case meetingLayouts.GRID:\r\n      case meetingLayouts.SPOTLIGHT:\r\n      case meetingLayouts.SIDEBAR:\r\n        paramKeys.layoutType = paramKeys.layoutType.toUpperCase();\r\n        break;\r\n      default:\r\n        paramKeys.layoutType = meetingLayouts.GRID;\r\n        break;\r\n    }\r\n\r\n    switch (paramKeys.layoutPriority?.toUpperCase()) {\r\n      case meetingLayoutPriorities.PIN:\r\n      case meetingLayoutPriorities.SPEAKER:\r\n        paramKeys.layoutPriority = paramKeys.layoutPriority.toUpperCase();\r\n        break;\r\n      default:\r\n        paramKeys.layoutPriority = meetingLayoutPriorities.SPEAKER;\r\n        break;\r\n    }\r\n\r\n    paramKeys.layoutGridSize = parseInt(paramKeys.layoutGridSize);\r\n\r\n    if (paramKeys.layoutGridSize <= 0 || isNaN(paramKeys.layoutGridSize)) {\r\n      paramKeys.layoutGridSize = maxGridSize;\r\n    }\r\n\r\n    if (paramKeys.isRecorder === \"true\") {\r\n      paramKeys.micEnabled = \"false\";\r\n      paramKeys.webcamEnabled = \"false\";\r\n      paramKeys.hideLocalParticipant = \"true\";\r\n      paramKeys.alwaysShowOverlay = \"true\";\r\n      paramKeys.sideStackSize = \"5\";\r\n      paramKeys.reduceEdgeSpacing = \"true\";\r\n      paramKeys.topbarEnabled = \"false\";\r\n      paramKeys.notificationSoundEnabled = \"false\";\r\n      paramKeys.notificationAlertsEnabled = \"false\";\r\n      paramKeys.animationsEnabled = \"false\";\r\n      paramKeys.redirectOnLeave = undefined;\r\n    }\r\n\r\n    paramKeys.sideStackSize = parseInt(paramKeys.sideStackSize);\r\n\r\n    if (\r\n      typeof paramKeys.sideStackSize === \"number\" &&\r\n      paramKeys.sideStackSize <= 0\r\n    ) {\r\n      configErr = `\"sideStackSize\" is not a valid number`;\r\n      playNotificationErr();\r\n      setMeetingError({ message: configErr, code: 4001, isVisible: true });\r\n    }\r\n\r\n    // validate meetingLayoutTopic here\r\n    switch (paramKeys.meetingLayoutTopic?.toUpperCase()) {\r\n      case meetingLayoutTopics.MEETING_LAYOUT:\r\n      case meetingLayoutTopics.RECORDING_LAYOUT:\r\n      case meetingLayoutTopics.LIVE_STREAM_LAYOUT:\r\n      case meetingLayoutTopics.HLS_LAYOUT:\r\n        paramKeys.meetingLayoutTopic =\r\n          paramKeys.meetingLayoutTopic.toUpperCase();\r\n        break;\r\n      default:\r\n        paramKeys.meetingLayoutTopic = meetingLayoutTopics.MEETING_LAYOUT;\r\n        break;\r\n    }\r\n\r\n    if (!paramKeys.region || typeof paramKeys.region !== \"string\") {\r\n      paramKeys.region = \"sg001\";\r\n    }\r\n\r\n    if (typeof paramKeys.preferredProtocol !== \"string\") {\r\n      paramKeys.preferredProtocol = \"UDP_ONLY\";\r\n    }\r\n\r\n    switch (paramKeys.preferredProtocol.toUpperCase()) {\r\n      case \"UDP_ONLY\":\r\n      case \"UDP_OVER_TCP\":\r\n        paramKeys.preferredProtocol = paramKeys.preferredProtocol.toUpperCase();\r\n        break;\r\n      default:\r\n        paramKeys.preferredProtocol = \"UDP_ONLY\";\r\n        break;\r\n    }\r\n\r\n    if (typeof paramKeys.mode !== \"string\") {\r\n      paramKeys.mode = meetingModes.CONFERENCE;\r\n    }\r\n\r\n    switch (paramKeys.mode.toUpperCase()) {\r\n      case meetingModes.CONFERENCE:\r\n      case meetingModes.VIEWER:\r\n        paramKeys.mode = paramKeys.mode.toUpperCase();\r\n        break;\r\n      default:\r\n        paramKeys.mode = meetingModes.CONFERENCE;\r\n        break;\r\n    }\r\n\r\n    return paramKeys;\r\n  };\r\n\r\n  const isLGDesktop = useIsLGDesktop();\r\n  const isSMDesktop = useIsSMDesktop();\r\n  const isTab = useIsTab();\r\n\r\n  const maxGridSize = useMemo(() => {\r\n    return isLGDesktop\r\n      ? maxParticipantGridCount_large_desktop\r\n      : isSMDesktop\r\n      ? maxParticipantGridCount_desktop\r\n      : isTab\r\n      ? maxParticipantGridCount_tab\r\n      : maxParticipantGridCount_mobile;\r\n  }, [isLGDesktop, isSMDesktop, isTab]);\r\n\r\n  const paramKeys = useMemo(() => getParams({ maxGridSize }), [maxGridSize]);\r\n\r\n  const [userHasInteracted, setUserHasInteracted] = useState(\r\n    paramKeys.joinWithoutUserInteraction === \"true\"\r\n  );\r\n\r\n  const [name, setName] = useState(paramKeys.name || \"\");\r\n  const [joinScreenWebCam, setJoinScreenWebCam] = useState(\r\n    paramKeys.joinScreenEnabled === \"true\"\r\n      ? paramKeys.participantCanToggleSelfWebcam === \"true\" &&\r\n          paramKeys.webcamEnabled === \"true\"\r\n      : paramKeys.webcamEnabled === \"true\"\r\n  );\r\n\r\n  const [joinScreenMic, setJoinScreenMic] = useState(\r\n    paramKeys.joinScreenEnabled === \"true\"\r\n      ? paramKeys.participantCanToggleSelfMic === \"true\" &&\r\n          paramKeys.micEnabled === \"true\"\r\n      : paramKeys.micEnabled === \"true\"\r\n  );\r\n  const [selectedMic, setSelectedMic] = useState({ id: null });\r\n  const [selectedWebcam, setSelectedWebcam] = useState({ id: null });\r\n\r\n  const validateMeetingId = async ({ meetingId, token, debug, region }) => {\r\n    const BASE_URL = \"https://api.videosdk.live\";\r\n\r\n    const urlMeetingId = `${BASE_URL}/v1/prebuilt/meetings/${meetingId}`;\r\n\r\n    const resMeetingId = await fetch(urlMeetingId, {\r\n      method: \"POST\",\r\n      headers: { \"Content-type\": \"application/json\", Authorization: token },\r\n      body: JSON.stringify({ region }),\r\n    });\r\n\r\n    const meetingIdJson = await resMeetingId.json();\r\n\r\n    const validatedMeetingId = meetingIdJson.meetingId;\r\n\r\n    if (validatedMeetingId) {\r\n      setMeetingIdValidation({\r\n        isLoading: false,\r\n        meetingId: validatedMeetingId,\r\n        reqError: null,\r\n        reqStatusCode: null,\r\n      });\r\n    } else {\r\n      setMeetingIdValidation({\r\n        isLoading: false,\r\n        meetingId: null,\r\n        reqError: meetingIdJson.error,\r\n        reqStatusCode: meetingIdJson.statusCode,\r\n      });\r\n\r\n      playNotificationErr();\r\n\r\n      setMeetingError({\r\n        message: debug ? meetingIdJson.error : \"Unable to join meeting!\",\r\n        code: meetingIdJson.statusCode,\r\n        isVisible: true,\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (paramKeys.meetingId && paramKeys.token) {\r\n      validateMeetingId({\r\n        meetingId: paramKeys.meetingId,\r\n        token: paramKeys.token,\r\n        debug: paramKeys.debug === \"true\",\r\n        region: paramKeys.region,\r\n      });\r\n    }\r\n  }, [paramKeys]);\r\n\r\n  const theme = useTheme();\r\n  return (\r\n    <>\r\n  \r\n      {meetingLeft ? (\r\n        paramKeys.isRecorder === \"true\" ? null : (\r\n          <MeetingLeftScreen\r\n            brandLogoURL={paramKeys.brandLogoURL}\r\n            leftScreenActionButtonLabel={paramKeys.leftScreenActionButtonLabel}\r\n            leftScreenActionButtonHref={paramKeys.leftScreenActionButtonHref}\r\n            leftScreenRejoinButtonEnabled={\r\n              paramKeys.leftScreenRejoinButtonEnabled !== \"false\"\r\n            }\r\n            setMeetingLeft={setMeetingLeft}\r\n          />\r\n        )\r\n      ) : meetingIdValidation.isLoading ? (\r\n        <Box\r\n          style={{\r\n            display: \"flex\",\r\n            flex: 1,\r\n            flexDirection: \"column\",\r\n            height: \"100vh\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            backgroundColor: theme.palette.background.default,\r\n          }}\r\n        >\r\n          <CircularProgress size={\"4rem\"} />\r\n        </Box>\r\n      ) : meetingIdValidation.reqError ? (\r\n        <>\r\n          {/* <ErrorPage\r\n            errMsg={meetingIdValidation.reqError}\r\n            statusCode={meetingIdValidation.reqStatusCode}\r\n          /> */}\r\n        </>\r\n      ) : userHasInteracted && meetingIdValidation.meetingId ? (\r\n        <MeetingAppProvider\r\n          {...{\r\n            redirectOnLeave: paramKeys.redirectOnLeave,\r\n            chatEnabled: paramKeys.chatEnabled === \"true\",\r\n            screenShareEnabled: paramKeys.screenShareEnabled === \"true\",\r\n            pollEnabled: paramKeys.pollEnabled === \"true\",\r\n            whiteboardEnabled: paramKeys.whiteboardEnabled === \"true\",\r\n            participantCanToggleSelfWebcam:\r\n              paramKeys.participantCanToggleSelfWebcam === \"true\",\r\n            participantCanToggleSelfMic:\r\n              paramKeys.participantCanToggleSelfMic === \"true\",\r\n            raiseHandEnabled: paramKeys.raiseHandEnabled === \"true\",\r\n            canChangeLayout: paramKeys.canChangeLayout === \"true\",\r\n            meetingLayoutTopic: paramKeys.meetingLayoutTopic,\r\n            recordingEnabled: paramKeys.recordingEnabled === \"true\",\r\n            hlsEnabled: paramKeys.hlsEnabled === \"true\",\r\n            recordingWebhookUrl: paramKeys.recordingWebhookUrl,\r\n            recordingAWSDirPath: paramKeys.recordingAWSDirPath,\r\n            autoStartRecording: paramKeys.autoStartRecording === \"true\",\r\n            autoStartHls: paramKeys.autoStartHls === \"true\",\r\n            hlsPlayerControlsVisible:\r\n              paramKeys.hlsPlayerControlsVisible === \"true\",\r\n            participantCanToggleRecording:\r\n              paramKeys.participantCanToggleRecording === \"true\",\r\n            participantCanToggleHls:\r\n              paramKeys.participantCanToggleHls === \"true\",\r\n            brandingEnabled: paramKeys.brandingEnabled === \"true\",\r\n            poweredBy: paramKeys.poweredBy === \"true\",\r\n            liveStreamEnabled: paramKeys.liveStreamEnabled === \"true\",\r\n            autoStartLiveStream: paramKeys.autoStartLiveStream === \"true\",\r\n            liveStreamOutputs: paramKeys.liveStreamOutputs,\r\n            brandLogoURL:\r\n              paramKeys.brandLogoURL?.length > 0\r\n                ? paramKeys.brandLogoURL\r\n                : null,\r\n            brandName:\r\n              paramKeys.brandName?.length > 0 ? paramKeys.brandName : null,\r\n            participantCanLeave: paramKeys.participantCanLeave !== \"false\",\r\n            askJoin: paramKeys.askJoin === \"true\",\r\n            participantCanToggleOtherMic:\r\n              paramKeys.participantCanToggleOtherMic === \"true\",\r\n            participantCanToggleOtherWebcam:\r\n              paramKeys.participantCanToggleOtherWebcam === \"true\",\r\n            partcipantCanToogleOtherScreenShare:\r\n              paramKeys.partcipantCanToogleOtherScreenShare === \"true\",\r\n            participantCanToggleLivestream:\r\n              paramKeys.participantCanToggleLivestream === \"true\",\r\n            participantCanToggleOtherMode:\r\n              paramKeys.participantCanToggleOtherMode === \"true\",\r\n            notificationSoundEnabled:\r\n              paramKeys.notificationSoundEnabled === \"true\",\r\n            layoutType: paramKeys.layoutType,\r\n            mode: paramKeys.mode,\r\n            layoutPriority: paramKeys.layoutPriority,\r\n            canPin: paramKeys.canPin === \"true\",\r\n            selectedMic,\r\n            selectedWebcam,\r\n            joinScreenWebCam,\r\n            joinScreenMic,\r\n            canRemoveOtherParticipant:\r\n              paramKeys.canRemoveOtherParticipant === \"true\",\r\n            participantCanEndMeeting:\r\n              paramKeys.participantCanEndMeeting === \"true\",\r\n            canDrawOnWhiteboard: paramKeys.canDrawOnWhiteboard === \"true\",\r\n            canToggleWhiteboard: paramKeys.canToggleWhiteboard === \"true\",\r\n            canCreatePoll: paramKeys.canCreatePoll === \"true\",\r\n            meetingLeft,\r\n            setMeetingLeft,\r\n            animationsEnabled: paramKeys.animationsEnabled !== \"false\",\r\n            topbarEnabled: paramKeys.topbarEnabled !== \"false\",\r\n            notificationAlertsEnabled:\r\n              paramKeys.notificationAlertsEnabled !== \"false\",\r\n            debug: paramKeys.debug === \"true\",\r\n            layoutGridSize: paramKeys.layoutGridSize,\r\n            hideLocalParticipant: paramKeys.hideLocalParticipant === \"true\",\r\n            alwaysShowOverlay: paramKeys.alwaysShowOverlay === \"true\",\r\n            sideStackSize: paramKeys.sideStackSize,\r\n            reduceEdgeSpacing: paramKeys.reduceEdgeSpacing === \"true\",\r\n            isRecorder: paramKeys.isRecorder === \"true\",\r\n            //\r\n            // recordingLayoutType: paramKeys.recordingLayoutType,\r\n            // recordingLayoutPriority: paramKeys.recordingLayoutPriority,\r\n            // recordingLayoutGridSize: paramKeys.recordingLayoutGridSize,\r\n            // liveStreamLayoutType: paramKeys.liveStreamLayoutType,\r\n            // liveStreamLayoutPriority: paramKeys.liveStreamLayoutPriority,\r\n            // liveStreamLayoutGridSize: paramKeys.liveStreamLayoutGridSize,\r\n            //\r\n            maintainVideoAspectRatio:\r\n              paramKeys.maintainVideoAspectRatio === \"true\",\r\n            networkBarEnabled: paramKeys.networkBarEnabled === \"true\",\r\n          }}\r\n        >\r\n          <MeetingProvider\r\n            config={{\r\n              meetingId: meetingIdValidation.meetingId,\r\n              micEnabled: joinScreenMic,\r\n              webcamEnabled: joinScreenWebCam,\r\n              name: name,\r\n              maxResolution:\r\n                paramKeys.isRecorder === \"true\"\r\n                  ? \"hd\"\r\n                  : paramKeys.maxResolution === \"sd\" ||\r\n                    paramKeys.maxResolution === \"hd\"\r\n                  ? paramKeys.maxResolution\r\n                  : \"sd\",\r\n              participantId: paramKeys.participantId,\r\n              preferredProtocol: paramKeys.preferredProtocol,\r\n              autoConsume: false,\r\n            }}\r\n            token={paramKeys.token}\r\n            joinWithoutUserInteraction\r\n            deviceInfo={{\r\n              sdkType: \"prebuilt\",\r\n              sdkVersion: prebuiltSDKVersion,\r\n              rawUserAgent:\r\n                paramKeys.rawUserAgent || typeof window !== \"undefined\"\r\n                  ? window?.navigator?.userAgent\r\n                  : null,\r\n            }}\r\n          >\r\n            <MeetingContainer />\r\n          </MeetingProvider>\r\n        </MeetingAppProvider>\r\n      ) : paramKeys.joinScreenEnabled === \"true\" ? (\r\n        <JoinMeeting\r\n          onClick={({ name, webcamOn, micOn }) => {\r\n            setName(name);\r\n            setJoinScreenMic(micOn);\r\n            setJoinScreenWebCam(webcamOn);\r\n            setUserHasInteracted(true);\r\n          }}\r\n          {...{\r\n            micEnabled:\r\n              paramKeys.mode === meetingModes.VIEWER\r\n                ? false\r\n                : paramKeys.micEnabled === \"true\",\r\n            webcamEnabled:\r\n              paramKeys.mode === meetingModes.VIEWER\r\n                ? false\r\n                : paramKeys.webcamEnabled === \"true\",\r\n          }}\r\n          name={name}\r\n          setName={setName}\r\n          setSelectedMic={setSelectedMic}\r\n          setSelectedWebcam={setSelectedWebcam}\r\n          meetingUrl={paramKeys.joinScreenMeetingUrl}\r\n          meetingTitle={paramKeys.joinScreenTitle}\r\n          participantCanToggleSelfWebcam={\r\n            paramKeys.mode === meetingModes.VIEWER\r\n              ? \"false\"\r\n              : paramKeys.participantCanToggleSelfWebcam\r\n          }\r\n          participantCanToggleSelfMic={\r\n            paramKeys.mode === meetingModes.VIEWER\r\n              ? \"false\"\r\n              : paramKeys.participantCanToggleSelfMic\r\n          }\r\n          mode={paramKeys.mode}\r\n        />\r\n      ) : (\r\n        <ClickAnywhereToContinue\r\n          onClick={() => {\r\n            setUserHasInteracted(true);\r\n          }}\r\n          title=\"Click anywhere to continue\"\r\n          brandLogoURL={paramKeys.brandLogoURL}\r\n        />\r\n      )}\r\n      <ConfirmBox\r\n        open={meetingError.isVisible}\r\n        successText=\"OKAY\"\r\n        onSuccess={() => {\r\n          setMeetingError(({ message }) => {\r\n            throw new Error(message);\r\n\r\n            return {\r\n              // message: null,\r\n              // code: null,\r\n              // isVisible: false,\r\n            };\r\n          });\r\n        }}\r\n        title={`Error Code: ${meetingError.code}`}\r\n        subTitle={meetingError.message}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport generateMuiTheme from \"./mui/theme\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={generateMuiTheme()}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { responsiveFontSizes } from \"@material-ui/core/styles\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\n\r\nexport default function generateMuiTheme(type, primary, secondary) {\r\n  return responsiveFontSizes(\r\n    createTheme({\r\n      typography: {\r\n        fontFamily: [\"El Messiri,sans-serif\"].join(\",\"),\r\n      },\r\n\r\n      palette: {\r\n        type: \"dark\",\r\n        text: { primary: \"#fff\", secondary: \"#9fa0a7\" },\r\n        success: { main: \"#4aa96c\" },\r\n        error: { main: \"#D32F2F\" },\r\n        divider: \"#3B3A48\",\r\n        background: {\r\n          default: \"#212032\",\r\n          paper: \"#333244\",\r\n        },\r\n        primary: {\r\n          main: \"#1178F8\",\r\n        },\r\n        secondary: {\r\n          main: \"#000\",\r\n          contrastText: \"#fff\",\r\n        },\r\n        common: { white: \"#fff\", black: \"#000\", sidePanel: \"#3D3C4E\" },\r\n      },\r\n      overrides: {\r\n        MuiTypography: {\r\n          root: { color: \"#fff\" },\r\n        },\r\n        MuiTooltip: {\r\n          tooltip: {\r\n            fontSize: \"1rem\",\r\n            color: \"#fff\",\r\n            backgroundColor: \"#000\",\r\n          },\r\n        },\r\n      },\r\n    })\r\n  );\r\n}\r\n"],"sourceRoot":""}